var _0=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);var P1=_0((B1,ji)=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function S0(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var r=o.default;if(typeof r=="function"){var n=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var l=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return o[i]}})}),n}var Yl={exports:{}},Ci={},Ql={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function T0(){if(Mh)return Ke;Mh=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function d(A){return A===null||typeof A!="object"?null:(A=f&&A[f]||A["@@iterator"],typeof A=="function"?A:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function w(A,k,q){this.props=A,this.context=k,this.refs=S,this.updater=q||p}w.prototype.isReactComponent={},w.prototype.setState=function(A,k){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,k,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=w.prototype;function b(A,k,q){this.props=A,this.context=k,this.refs=S,this.updater=q||p}var E=b.prototype=new T;E.constructor=b,_(E,w.prototype),E.isPureReactComponent=!0;var x=Array.isArray,N=Object.prototype.hasOwnProperty,R={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(A,k,q){var V,K={},J=null,B=null;if(k!=null)for(V in k.ref!==void 0&&(B=k.ref),k.key!==void 0&&(J=""+k.key),k)N.call(k,V)&&!P.hasOwnProperty(V)&&(K[V]=k[V]);var G=arguments.length-2;if(G===1)K.children=q;else if(1<G){for(var Y=Array(G),X=0;X<G;X++)Y[X]=arguments[X+2];K.children=Y}if(A&&A.defaultProps)for(V in G=A.defaultProps,G)K[V]===void 0&&(K[V]=G[V]);return{$$typeof:o,type:A,key:J,ref:B,props:K,_owner:R.current}}function U(A,k){return{$$typeof:o,type:A.type,key:k,ref:A.ref,props:A.props,_owner:A._owner}}function D(A){return typeof A=="object"&&A!==null&&A.$$typeof===o}function M(A){var k={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(q){return k[q]})}var L=/\/+/g;function j(A,k){return typeof A=="object"&&A!==null&&A.key!=null?M(""+A.key):k.toString(36)}function $(A,k,q,V,K){var J=typeof A;(J==="undefined"||J==="boolean")&&(A=null);var B=!1;if(A===null)B=!0;else switch(J){case"string":case"number":B=!0;break;case"object":switch(A.$$typeof){case o:case r:B=!0}}if(B)return B=A,K=K(B),A=V===""?"."+j(B,0):V,x(K)?(q="",A!=null&&(q=A.replace(L,"$&/")+"/"),$(K,k,q,"",function(X){return X})):K!=null&&(D(K)&&(K=U(K,q+(!K.key||B&&B.key===K.key?"":(""+K.key).replace(L,"$&/")+"/")+A)),k.push(K)),1;if(B=0,V=V===""?".":V+":",x(A))for(var G=0;G<A.length;G++){J=A[G];var Y=V+j(J,G);B+=$(J,k,q,Y,K)}else if(Y=d(A),typeof Y=="function")for(A=Y.call(A),G=0;!(J=A.next()).done;)J=J.value,Y=V+j(J,G++),B+=$(J,k,q,Y,K);else if(J==="object")throw k=String(A),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return B}function H(A,k,q){if(A==null)return A;var V=[],K=0;return $(A,V,"","",function(J){return k.call(q,J,K++)}),V}function ee(A){if(A._status===-1){var k=A._result;k=k(),k.then(function(q){(A._status===0||A._status===-1)&&(A._status=1,A._result=q)},function(q){(A._status===0||A._status===-1)&&(A._status=2,A._result=q)}),A._status===-1&&(A._status=0,A._result=k)}if(A._status===1)return A._result.default;throw A._result}var ne={current:null},re={transition:null},W={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:re,ReactCurrentOwner:R};return Ke.Children={map:H,forEach:function(A,k,q){H(A,function(){k.apply(this,arguments)},q)},count:function(A){var k=0;return H(A,function(){k++}),k},toArray:function(A){return H(A,function(k){return k})||[]},only:function(A){if(!D(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ke.Component=w,Ke.Fragment=n,Ke.Profiler=l,Ke.PureComponent=b,Ke.StrictMode=i,Ke.Suspense=v,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ke.cloneElement=function(A,k,q){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var V=_({},A.props),K=A.key,J=A.ref,B=A._owner;if(k!=null){if(k.ref!==void 0&&(J=k.ref,B=R.current),k.key!==void 0&&(K=""+k.key),A.type&&A.type.defaultProps)var G=A.type.defaultProps;for(Y in k)N.call(k,Y)&&!P.hasOwnProperty(Y)&&(V[Y]=k[Y]===void 0&&G!==void 0?G[Y]:k[Y])}var Y=arguments.length-2;if(Y===1)V.children=q;else if(1<Y){G=Array(Y);for(var X=0;X<Y;X++)G[X]=arguments[X+2];V.children=G}return{$$typeof:o,type:A.type,key:K,ref:J,props:V,_owner:B}},Ke.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:u,_context:A},A.Consumer=A},Ke.createElement=O,Ke.createFactory=function(A){var k=O.bind(null,A);return k.type=A,k},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(A){return{$$typeof:g,render:A}},Ke.isValidElement=D,Ke.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:ee}},Ke.memo=function(A,k){return{$$typeof:y,type:A,compare:k===void 0?null:k}},Ke.startTransition=function(A){var k=re.transition;re.transition={};try{A()}finally{re.transition=k}},Ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ke.useCallback=function(A,k){return ne.current.useCallback(A,k)},Ke.useContext=function(A){return ne.current.useContext(A)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(A){return ne.current.useDeferredValue(A)},Ke.useEffect=function(A,k){return ne.current.useEffect(A,k)},Ke.useId=function(){return ne.current.useId()},Ke.useImperativeHandle=function(A,k,q){return ne.current.useImperativeHandle(A,k,q)},Ke.useInsertionEffect=function(A,k){return ne.current.useInsertionEffect(A,k)},Ke.useLayoutEffect=function(A,k){return ne.current.useLayoutEffect(A,k)},Ke.useMemo=function(A,k){return ne.current.useMemo(A,k)},Ke.useReducer=function(A,k,q){return ne.current.useReducer(A,k,q)},Ke.useRef=function(A){return ne.current.useRef(A)},Ke.useState=function(A){return ne.current.useState(A)},Ke.useSyncExternalStore=function(A,k,q){return ne.current.useSyncExternalStore(A,k,q)},Ke.useTransition=function(){return ne.current.useTransition()},Ke.version="18.2.0",Ke}var Ph;function la(){return Ph||(Ph=1,Ql.exports=T0()),Ql.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function C0(){if(Rh)return Ci;Rh=1;var o=la(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(g,v,y){var m,f={},d=null,p=null;y!==void 0&&(d=""+y),v.key!==void 0&&(d=""+v.key),v.ref!==void 0&&(p=v.ref);for(m in v)i.call(v,m)&&!u.hasOwnProperty(m)&&(f[m]=v[m]);if(g&&g.defaultProps)for(m in v=g.defaultProps,v)f[m]===void 0&&(f[m]=v[m]);return{$$typeof:r,type:g,key:d,ref:p,props:f,_owner:l.current}}return Ci.Fragment=n,Ci.jsx=c,Ci.jsxs=c,Ci}var Dh;function E0(){return Dh||(Dh=1,Yl.exports=C0()),Yl.exports}var a=E0(),Q=la();const sv=aa(Q);var Gs={},Zl={exports:{}},Bt={},Xl={exports:{}},eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function k0(){return Lh||(Lh=1,function(o){function r(re,W){var A=re.length;re.push(W);e:for(;0<A;){var k=A-1>>>1,q=re[k];if(0<l(q,W))re[k]=W,re[A]=q,A=k;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var W=re[0],A=re.pop();if(A!==W){re[0]=A;e:for(var k=0,q=re.length,V=q>>>1;k<V;){var K=2*(k+1)-1,J=re[K],B=K+1,G=re[B];if(0>l(J,A))B<q&&0>l(G,J)?(re[k]=G,re[B]=A,k=B):(re[k]=J,re[K]=A,k=K);else if(B<q&&0>l(G,A))re[k]=G,re[B]=A,k=B;else break e}}return W}function l(re,W){var A=re.sortIndex-W.sortIndex;return A!==0?A:re.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var c=Date,g=c.now();o.unstable_now=function(){return c.now()-g}}var v=[],y=[],m=1,f=null,d=3,p=!1,_=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(re){for(var W=n(y);W!==null;){if(W.callback===null)i(y);else if(W.startTime<=re)i(y),W.sortIndex=W.expirationTime,r(v,W);else break;W=n(y)}}function x(re){if(S=!1,E(re),!_)if(n(v)!==null)_=!0,ee(N);else{var W=n(y);W!==null&&ne(x,W.startTime-re)}}function N(re,W){_=!1,S&&(S=!1,T(O),O=-1),p=!0;var A=d;try{for(E(W),f=n(v);f!==null&&(!(f.expirationTime>W)||re&&!M());){var k=f.callback;if(typeof k=="function"){f.callback=null,d=f.priorityLevel;var q=k(f.expirationTime<=W);W=o.unstable_now(),typeof q=="function"?f.callback=q:f===n(v)&&i(v),E(W)}else i(v);f=n(v)}if(f!==null)var V=!0;else{var K=n(y);K!==null&&ne(x,K.startTime-W),V=!1}return V}finally{f=null,d=A,p=!1}}var R=!1,P=null,O=-1,U=5,D=-1;function M(){return!(o.unstable_now()-D<U)}function L(){if(P!==null){var re=o.unstable_now();D=re;var W=!0;try{W=P(!0,re)}finally{W?j():(R=!1,P=null)}}else R=!1}var j;if(typeof b=="function")j=function(){b(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=L,j=function(){H.postMessage(null)}}else j=function(){w(L,0)};function ee(re){P=re,R||(R=!0,j())}function ne(re,W){O=w(function(){re(o.unstable_now())},W)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(re){re.callback=null},o.unstable_continueExecution=function(){_||p||(_=!0,ee(N))},o.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},o.unstable_getCurrentPriorityLevel=function(){return d},o.unstable_getFirstCallbackNode=function(){return n(v)},o.unstable_next=function(re){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var A=d;d=W;try{return re()}finally{d=A}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(re,W){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var A=d;d=re;try{return W()}finally{d=A}},o.unstable_scheduleCallback=function(re,W,A){var k=o.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?k+A:k):A=k,re){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=A+q,re={id:m++,callback:W,priorityLevel:re,startTime:A,expirationTime:q,sortIndex:-1},A>k?(re.sortIndex=A,r(y,re),n(v)===null&&re===n(y)&&(S?(T(O),O=-1):S=!0,ne(x,A-k))):(re.sortIndex=q,r(v,re),_||p||(_=!0,ee(N))),re},o.unstable_shouldYield=M,o.unstable_wrapCallback=function(re){var W=d;return function(){var A=d;d=W;try{return re.apply(this,arguments)}finally{d=A}}}}(eu)),eu}var Oh;function N0(){return Oh||(Oh=1,Xl.exports=k0()),Xl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function A0(){if(jh)return Bt;jh=1;var o=la(),r=N0();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function d(e){return v.call(f,e)?!0:v.call(m,e)?!1:y.test(e)?f[e]=!0:(m[e]=!0,!1)}function p(e,t,s,h){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return h?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,s,h){if(t===null||typeof t>"u"||p(e,t,s,h))return!0;if(h)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,s,h,C,I,F){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=h,this.attributeNamespace=C,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=I,this.removeEmptyString=F}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new S(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,b);w[t]=new S(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,b);w[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,b);w[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,t,s,h){var C=w.hasOwnProperty(t)?w[t]:null;(C!==null?C.type!==0:h||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,s,C,h)&&(s=null),h||C===null?d(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):C.mustUseProperty?e[C.propertyName]=s===null?C.type===3?!1:"":s:(t=C.attributeName,h=C.attributeNamespace,s===null?e.removeAttribute(t):(C=C.type,s=C===3||C===4&&s===!0?"":""+s,h?e.setAttributeNS(h,t,s):e.setAttribute(t,s))))}var x=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),re=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,k;function q(e){if(k===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var V=!1;function K(e,t){if(!e||V)return"";V=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ce){var h=ce}Reflect.construct(e,[],t)}else{try{t.call()}catch(ce){h=ce}e.call(t.prototype)}else{try{throw Error()}catch(ce){h=ce}e()}}catch(ce){if(ce&&h&&typeof ce.stack=="string"){for(var C=ce.stack.split(`
`),I=h.stack.split(`
`),F=C.length-1,Z=I.length-1;1<=F&&0<=Z&&C[F]!==I[Z];)Z--;for(;1<=F&&0<=Z;F--,Z--)if(C[F]!==I[Z]){if(F!==1||Z!==1)do if(F--,Z--,0>Z||C[F]!==I[Z]){var te=`
`+C[F].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=F&&0<=Z);break}}}finally{V=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?q(e):""}function J(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function B(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case R:return"Portal";case U:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:B(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return B(e(t))}catch{}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ue(e){var t=X(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),h=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var C=s.get,I=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return C.call(this)},set:function(F){h=""+F,I.call(this,F)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function he(e){e._valueTracker||(e._valueTracker=ue(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),h="";return e&&(h=X(e)?e.checked?"true":"false":e.value),e=h,e!==s?(t.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ge(e,t){var s=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function De(e,t){var s=t.defaultValue==null?"":t.defaultValue,h=t.checked!=null?t.checked:t.defaultChecked;s=Y(t.value!=null?t.value:s),e._wrapperState={initialChecked:h,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function He(e,t){t=t.checked,t!=null&&E(e,"checked",t,!1)}function Fe(e,t){He(e,t);var s=Y(t.value),h=t.type;if(s!=null)h==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(h==="submit"||h==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?de(e,t.type,s):t.hasOwnProperty("defaultValue")&&de(e,t.type,Y(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ae(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var h=t.type;if(!(h!=="submit"&&h!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function de(e,t,s){(t!=="number"||Ce(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var fe=Array.isArray;function ve(e,t,s,h){if(e=e.options,t){t={};for(var C=0;C<s.length;C++)t["$"+s[C]]=!0;for(s=0;s<e.length;s++)C=t.hasOwnProperty("$"+e[s].value),e[s].selected!==C&&(e[s].selected=C),C&&h&&(e[s].defaultSelected=!0)}else{for(s=""+Y(s),t=null,C=0;C<e.length;C++){if(e[C].value===s){e[C].selected=!0,h&&(e[C].defaultSelected=!0);return}t!==null||e[C].disabled||(t=e[C])}t!==null&&(t.selected=!0)}}function pe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(fe(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Y(s)}}function Ae(e,t){var s=Y(t.value),h=Y(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),h!=null&&(e.defaultValue=""+h)}function Ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?st(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ge,ct=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,h,C){MSApp.execUnsafeLocalFunction(function(){return e(t,s,h,C)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function We(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(e){Kt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dt[t]=dt[e]})});function Yt(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||dt.hasOwnProperty(e)&&dt[e]?(""+t).trim():t+"px"}function jr(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var h=s.indexOf("--")===0,C=Yt(s,t[s],h);s==="float"&&(s="cssFloat"),h?e.setProperty(s,C):e[s]=C}}var dr=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(e,t){if(t){if(dr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function fr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var on=null,vn=null,sn=null;function Oo(e){if(e=ci(e)){if(typeof on!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ss(t),on(e.stateNode,e.type,t))}}function Ui(e){vn?sn?sn.push(e):sn=[e]:vn=e}function qi(){if(vn){var e=vn,t=sn;if(sn=vn=null,Oo(e),t)for(e=0;e<t.length;e++)Oo(t[e])}}function Fi(e,t){return e(t)}function jo(){}var Uo=!1;function qo(e,t,s){if(Uo)return e(t,s);Uo=!0;try{return Fi(e,t,s)}finally{Uo=!1,(vn!==null||sn!==null)&&(jo(),qi())}}function Un(e,t){var s=e.stateNode;if(s===null)return null;var h=ss(s);if(h===null)return null;s=h[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Ur=!1;if(g)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Ur=!1}function Fo(e,t,s,h,C,I,F,Z,te){var ce=Array.prototype.slice.call(arguments,3);try{t.apply(s,ce)}catch(xe){this.onError(xe)}}var hr=!1,Qe=null,qr=!1,Fr=null,Bo={onError:function(e){hr=!0,Qe=e}};function Br(e,t,s,h,C,I,F,Z,te){hr=!1,Qe=null,Fo.apply(Bo,arguments)}function pr(e,t,s,h,C,I,F,Z,te){if(Br.apply(this,arguments),hr){if(hr){var ce=Qe;hr=!1,Qe=null}else throw Error(n(198));qr||(qr=!0,Fr=ce)}}function Sn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function $o(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vt(e){if(Sn(e)!==e)throw Error(n(188))}function $r(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,h=t;;){var C=s.return;if(C===null)break;var I=C.alternate;if(I===null){if(h=C.return,h!==null){s=h;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===s)return vt(C),e;if(I===h)return vt(C),t;I=I.sibling}throw Error(n(188))}if(s.return!==h.return)s=C,h=I;else{for(var F=!1,Z=C.child;Z;){if(Z===s){F=!0,s=C,h=I;break}if(Z===h){F=!0,h=C,s=I;break}Z=Z.sibling}if(!F){for(Z=I.child;Z;){if(Z===s){F=!0,s=I,h=C;break}if(Z===h){F=!0,h=I,s=C;break}Z=Z.sibling}if(!F)throw Error(n(189))}}if(s.alternate!==h)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function Vo(e){return e=$r(e),e!==null?Vr(e):null}function Vr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vr(e);if(t!==null)return t;e=e.sibling}return null}var zr=r.unstable_scheduleCallback,Fn=r.unstable_cancelCallback,ga=r.unstable_shouldYield,Bi=r.unstable_requestPaint,ft=r.unstable_now,zo=r.unstable_getCurrentPriorityLevel,Ho=r.unstable_ImmediatePriority,$i=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,Go=r.unstable_LowPriority,Vi=r.unstable_IdlePriority,Gr=null,Qt=null;function va(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Gr,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:ba,ya=Math.log,xa=Math.LN2;function ba(e){return e>>>=0,e===0?32:31-(ya(e)/xa|0)|0}var Wr=64,mr=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bn(e,t){var s=e.pendingLanes;if(s===0)return 0;var h=0,C=e.suspendedLanes,I=e.pingedLanes,F=s&268435455;if(F!==0){var Z=F&~C;Z!==0?h=gr(Z):(I&=F,I!==0&&(h=gr(I)))}else F=s&~C,F!==0?h=gr(F):I!==0&&(h=gr(I));if(h===0)return 0;if(t!==0&&t!==h&&(t&C)===0&&(C=h&-h,I=t&-t,C>=I||C===16&&(I&4194240)!==0))return t;if((h&4)!==0&&(h|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=h;0<t;)s=31-yt(t),C=1<<s,h|=e[s],t&=~C;return h}function Wo(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(e,t){for(var s=e.suspendedLanes,h=e.pingedLanes,C=e.expirationTimes,I=e.pendingLanes;0<I;){var F=31-yt(I),Z=1<<F,te=C[F];te===-1?((Z&s)===0||(Z&h)!==0)&&(C[F]=Wo(Z,t)):te<=t&&(e.expiredLanes|=Z),I&=~Z}}function $n(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vn(){var e=Wr;return Wr<<=1,(Wr&4194240)===0&&(Wr=64),e}function zn(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function vr(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=s}function wa(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var h=e.eventTimes;for(e=e.expirationTimes;0<s;){var C=31-yt(s),I=1<<C;t[C]=0,h[C]=-1,e[C]=-1,s&=~I}}function Ko(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var h=31-yt(s),C=1<<h;C&t|e[h]&t&&(e[h]|=t),s&=~C}}var et=0;function zi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hi,Yo,se,be,_e,$e=!1,Ve=[],Ee=null,Le=null,Je=null,tt=new Map,qe=new Map,nt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function an(e,t){switch(e){case"focusin":case"focusout":Ee=null;break;case"dragenter":case"dragleave":Le=null;break;case"mouseover":case"mouseout":Je=null;break;case"pointerover":case"pointerout":tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qe.delete(t.pointerId)}}function yr(e,t,s,h,C,I){return e===null||e.nativeEvent!==I?(e={blockedOn:t,domEventName:s,eventSystemFlags:h,nativeEvent:I,targetContainers:[C]},t!==null&&(t=ci(t),t!==null&&Yo(t)),e):(e.eventSystemFlags|=h,t=e.targetContainers,C!==null&&t.indexOf(C)===-1&&t.push(C),e)}function Tn(e,t,s,h,C){switch(t){case"focusin":return Ee=yr(Ee,e,t,s,h,C),!0;case"dragenter":return Le=yr(Le,e,t,s,h,C),!0;case"mouseover":return Je=yr(Je,e,t,s,h,C),!0;case"pointerover":var I=C.pointerId;return tt.set(I,yr(tt.get(I)||null,e,t,s,h,C)),!0;case"gotpointercapture":return I=C.pointerId,qe.set(I,yr(qe.get(I)||null,e,t,s,h,C)),!0}return!1}function hd(e){var t=xr(e.target);if(t!==null){var s=Sn(t);if(s!==null){if(t=s.tag,t===13){if(t=$o(s),t!==null){e.blockedOn=t,_e(e.priority,function(){se(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var h=new s.constructor(s.type,s);Do=h,s.target.dispatchEvent(h),Do=null}else return t=ci(s),t!==null&&Yo(t),e.blockedOn=s,!1;t.shift()}return!0}function pd(e,t,s){Gi(e)&&s.delete(t)}function Gv(){$e=!1,Ee!==null&&Gi(Ee)&&(Ee=null),Le!==null&&Gi(Le)&&(Le=null),Je!==null&&Gi(Je)&&(Je=null),tt.forEach(pd),qe.forEach(pd)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,$e||($e=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gv)))}function Zo(e){function t(C){return Qo(C,e)}if(0<Ve.length){Qo(Ve[0],e);for(var s=1;s<Ve.length;s++){var h=Ve[s];h.blockedOn===e&&(h.blockedOn=null)}}for(Ee!==null&&Qo(Ee,e),Le!==null&&Qo(Le,e),Je!==null&&Qo(Je,e),tt.forEach(t),qe.forEach(t),s=0;s<nt.length;s++)h=nt[s],h.blockedOn===e&&(h.blockedOn=null);for(;0<nt.length&&(s=nt[0],s.blockedOn===null);)hd(s),s.blockedOn===null&&nt.shift()}var Jr=x.ReactCurrentBatchConfig,Wi=!0;function Wv(e,t,s,h){var C=et,I=Jr.transition;Jr.transition=null;try{et=1,_a(e,t,s,h)}finally{et=C,Jr.transition=I}}function Jv(e,t,s,h){var C=et,I=Jr.transition;Jr.transition=null;try{et=4,_a(e,t,s,h)}finally{et=C,Jr.transition=I}}function _a(e,t,s,h){if(Wi){var C=Sa(e,t,s,h);if(C===null)Fa(e,t,h,Ji,s),an(e,h);else if(Tn(C,e,t,s,h))h.stopPropagation();else if(an(e,h),t&4&&-1<zt.indexOf(e)){for(;C!==null;){var I=ci(C);if(I!==null&&Hi(I),I=Sa(e,t,s,h),I===null&&Fa(e,t,h,Ji,s),I===C)break;C=I}C!==null&&h.stopPropagation()}else Fa(e,t,h,null,s)}}var Ji=null;function Sa(e,t,s,h){if(Ji=null,e=Lo(h),e=xr(e),e!==null)if(t=Sn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=$o(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ji=e,null}function md(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zo()){case Ho:return 1;case $i:return 4;case Hr:case Go:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var Hn=null,Ta=null,Ki=null;function gd(){if(Ki)return Ki;var e,t=Ta,s=t.length,h,C="value"in Hn?Hn.value:Hn.textContent,I=C.length;for(e=0;e<s&&t[e]===C[e];e++);var F=s-e;for(h=1;h<=F&&t[s-h]===C[I-h];h++);return Ki=C.slice(e,1<h?1-h:void 0)}function Yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function vd(){return!1}function Ht(e){function t(s,h,C,I,F){this._reactName=s,this._targetInst=C,this.type=h,this.nativeEvent=I,this.target=F,this.currentTarget=null;for(var Z in e)e.hasOwnProperty(Z)&&(s=e[Z],this[Z]=s?s(I):I[Z]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Qi:vd,this.isPropagationStopped=vd,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Ht(Kr),Xo=A({},Kr,{view:0,detail:0}),Kv=Ht(Xo),Ea,ka,ei,Zi=A({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Ea=e.screenX-ei.screenX,ka=e.screenY-ei.screenY):ka=Ea=0,ei=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:ka}}),yd=Ht(Zi),Yv=A({},Zi,{dataTransfer:0}),Qv=Ht(Yv),Zv=A({},Xo,{relatedTarget:0}),Na=Ht(Zv),Xv=A({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),ey=Ht(Xv),ty=A({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ny=Ht(ty),ry=A({},Kr,{data:0}),xd=Ht(ry),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ay(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sy[e])?!!t[e]:!1}function Aa(){return ay}var ly=A({},Xo,{key:function(e){if(e.key){var t=oy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(e){return e.type==="keypress"?Yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uy=Ht(ly),cy=A({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=Ht(cy),dy=A({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),fy=Ht(dy),hy=A({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),py=Ht(hy),my=A({},Zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gy=Ht(my),vy=[9,13,27,32],Ia=g&&"CompositionEvent"in window,ti=null;g&&"documentMode"in document&&(ti=document.documentMode);var yy=g&&"TextEvent"in window&&!ti,wd=g&&(!Ia||ti&&8<ti&&11>=ti),_d=" ",Sd=!1;function Td(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function xy(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(Sd=!0,_d);case"textInput":return e=t.data,e===_d&&Sd?null:e;default:return null}}function by(e,t){if(Yr)return e==="compositionend"||!Ia&&Td(e,t)?(e=gd(),Ki=Ta=Hn=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wy[e.type]:t==="textarea"}function kd(e,t,s,h){Ui(h),t=rs(t,"onChange"),0<t.length&&(s=new Ca("onChange","change",null,s,h),e.push({event:s,listeners:t}))}var ni=null,ri=null;function _y(e){Hd(e,0)}function Xi(e){var t=to(e);if(Te(t))return e}function Sy(e,t){if(e==="change")return t}var Nd=!1;if(g){var Ma;if(g){var Pa="oninput"in document;if(!Pa){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),Pa=typeof Ad.oninput=="function"}Ma=Pa}else Ma=!1;Nd=Ma&&(!document.documentMode||9<document.documentMode)}function Id(){ni&&(ni.detachEvent("onpropertychange",Md),ri=ni=null)}function Md(e){if(e.propertyName==="value"&&Xi(ri)){var t=[];kd(t,ri,e,Lo(e)),qo(_y,t)}}function Ty(e,t,s){e==="focusin"?(Id(),ni=t,ri=s,ni.attachEvent("onpropertychange",Md)):e==="focusout"&&Id()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(ri)}function Ey(e,t){if(e==="click")return Xi(t)}function ky(e,t){if(e==="input"||e==="change")return Xi(t)}function Ny(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Ny;function oi(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),h=Object.keys(t);if(s.length!==h.length)return!1;for(h=0;h<s.length;h++){var C=s[h];if(!v.call(t,C)||!ln(e[C],t[C]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var s=Pd(e);e=0;for(var h;s;){if(s.nodeType===3){if(h=e+s.textContent.length,e<=t&&h>=t)return{node:s,offset:t-e};e=h}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Pd(s)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=Ce();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ce(e.document)}return t}function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ay(e){var t=Ld(),s=e.focusedElem,h=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Dd(s.ownerDocument.documentElement,s)){if(h!==null&&Ra(s)){if(t=h.start,e=h.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var C=s.textContent.length,I=Math.min(h.start,C);h=h.end===void 0?I:Math.min(h.end,C),!e.extend&&I>h&&(C=h,h=I,I=C),C=Rd(s,I);var F=Rd(s,h);C&&F&&(e.rangeCount!==1||e.anchorNode!==C.node||e.anchorOffset!==C.offset||e.focusNode!==F.node||e.focusOffset!==F.offset)&&(t=t.createRange(),t.setStart(C.node,C.offset),e.removeAllRanges(),I>h?(e.addRange(t),e.extend(F.node,F.offset)):(t.setEnd(F.node,F.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Iy=g&&"documentMode"in document&&11>=document.documentMode,Qr=null,Da=null,ii=null,La=!1;function Od(e,t,s){var h=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;La||Qr==null||Qr!==Ce(h)||(h=Qr,"selectionStart"in h&&Ra(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ii&&oi(ii,h)||(ii=h,h=rs(Da,"onSelect"),0<h.length&&(t=new Ca("onSelect","select",null,t,s),e.push({event:t,listeners:h}),t.target=Qr)))}function es(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Zr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Oa={},jd={};g&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ts(e){if(Oa[e])return Oa[e];if(!Zr[e])return e;var t=Zr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in jd)return Oa[e]=t[s];return e}var Ud=ts("animationend"),qd=ts("animationiteration"),Fd=ts("animationstart"),Bd=ts("transitionend"),$d=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(e,t){$d.set(e,t),u(t,[e])}for(var ja=0;ja<Vd.length;ja++){var Ua=Vd[ja],My=Ua.toLowerCase(),Py=Ua[0].toUpperCase()+Ua.slice(1);Gn(My,"on"+Py)}Gn(Ud,"onAnimationEnd"),Gn(qd,"onAnimationIteration"),Gn(Fd,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Bd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ry=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function zd(e,t,s){var h=e.type||"unknown-event";e.currentTarget=s,pr(h,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var h=e[s],C=h.event;h=h.listeners;e:{var I=void 0;if(t)for(var F=h.length-1;0<=F;F--){var Z=h[F],te=Z.instance,ce=Z.currentTarget;if(Z=Z.listener,te!==I&&C.isPropagationStopped())break e;zd(C,Z,ce),I=te}else for(F=0;F<h.length;F++){if(Z=h[F],te=Z.instance,ce=Z.currentTarget,Z=Z.listener,te!==I&&C.isPropagationStopped())break e;zd(C,Z,ce),I=te}}}if(qr)throw e=Fr,qr=!1,Fr=null,e}function at(e,t){var s=t[Ga];s===void 0&&(s=t[Ga]=new Set);var h=e+"__bubble";s.has(h)||(Gd(t,e,2,!1),s.add(h))}function qa(e,t,s){var h=0;t&&(h|=4),Gd(s,e,h,t)}var ns="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[ns]){e[ns]=!0,i.forEach(function(s){s!=="selectionchange"&&(Ry.has(s)||qa(s,!1,e),qa(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ns]||(t[ns]=!0,qa("selectionchange",!1,t))}}function Gd(e,t,s,h){switch(md(t)){case 1:var C=Wv;break;case 4:C=Jv;break;default:C=_a}s=C.bind(null,t,s,e),C=void 0,!Ur||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(C=!0),h?C!==void 0?e.addEventListener(t,s,{capture:!0,passive:C}):e.addEventListener(t,s,!0):C!==void 0?e.addEventListener(t,s,{passive:C}):e.addEventListener(t,s,!1)}function Fa(e,t,s,h,C){var I=h;if((t&1)===0&&(t&2)===0&&h!==null)e:for(;;){if(h===null)return;var F=h.tag;if(F===3||F===4){var Z=h.stateNode.containerInfo;if(Z===C||Z.nodeType===8&&Z.parentNode===C)break;if(F===4)for(F=h.return;F!==null;){var te=F.tag;if((te===3||te===4)&&(te=F.stateNode.containerInfo,te===C||te.nodeType===8&&te.parentNode===C))return;F=F.return}for(;Z!==null;){if(F=xr(Z),F===null)return;if(te=F.tag,te===5||te===6){h=I=F;continue e}Z=Z.parentNode}}h=h.return}qo(function(){var ce=I,xe=Lo(s),we=[];e:{var ye=$d.get(e);if(ye!==void 0){var ke=Ca,Ie=e;switch(e){case"keypress":if(Yi(s)===0)break e;case"keydown":case"keyup":ke=uy;break;case"focusin":Ie="focus",ke=Na;break;case"focusout":Ie="blur",ke=Na;break;case"beforeblur":case"afterblur":ke=Na;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=fy;break;case Ud:case qd:case Fd:ke=ey;break;case Bd:ke=py;break;case"scroll":ke=Kv;break;case"wheel":ke=gy;break;case"copy":case"cut":case"paste":ke=ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=bd}var Pe=(t&4)!==0,gt=!Pe&&e==="scroll",ie=Pe?ye!==null?ye+"Capture":null:ye;Pe=[];for(var oe=ce,le;oe!==null;){le=oe;var Se=le.stateNode;if(le.tag===5&&Se!==null&&(le=Se,ie!==null&&(Se=Un(oe,ie),Se!=null&&Pe.push(li(oe,Se,le)))),gt)break;oe=oe.return}0<Pe.length&&(ye=new ke(ye,Ie,null,s,xe),we.push({event:ye,listeners:Pe}))}}if((t&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",ye&&s!==Do&&(Ie=s.relatedTarget||s.fromElement)&&(xr(Ie)||Ie[Cn]))break e;if((ke||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,ke?(Ie=s.relatedTarget||s.toElement,ke=ce,Ie=Ie?xr(Ie):null,Ie!==null&&(gt=Sn(Ie),Ie!==gt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(ke=null,Ie=ce),ke!==Ie)){if(Pe=yd,Se="onMouseLeave",ie="onMouseEnter",oe="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=bd,Se="onPointerLeave",ie="onPointerEnter",oe="pointer"),gt=ke==null?ye:to(ke),le=Ie==null?ye:to(Ie),ye=new Pe(Se,oe+"leave",ke,s,xe),ye.target=gt,ye.relatedTarget=le,Se=null,xr(xe)===ce&&(Pe=new Pe(ie,oe+"enter",Ie,s,xe),Pe.target=le,Pe.relatedTarget=gt,Se=Pe),gt=Se,ke&&Ie)t:{for(Pe=ke,ie=Ie,oe=0,le=Pe;le;le=Xr(le))oe++;for(le=0,Se=ie;Se;Se=Xr(Se))le++;for(;0<oe-le;)Pe=Xr(Pe),oe--;for(;0<le-oe;)ie=Xr(ie),le--;for(;oe--;){if(Pe===ie||ie!==null&&Pe===ie.alternate)break t;Pe=Xr(Pe),ie=Xr(ie)}Pe=null}else Pe=null;ke!==null&&Wd(we,ye,ke,Pe,!1),Ie!==null&&gt!==null&&Wd(we,gt,Ie,Pe,!0)}}e:{if(ye=ce?to(ce):window,ke=ye.nodeName&&ye.nodeName.toLowerCase(),ke==="select"||ke==="input"&&ye.type==="file")var Re=Sy;else if(Ed(ye))if(Nd)Re=ky;else{Re=Cy;var Oe=Ty}else(ke=ye.nodeName)&&ke.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Re=Ey);if(Re&&(Re=Re(e,ce))){kd(we,Re,s,xe);break e}Oe&&Oe(e,ye,ce),e==="focusout"&&(Oe=ye._wrapperState)&&Oe.controlled&&ye.type==="number"&&de(ye,"number",ye.value)}switch(Oe=ce?to(ce):window,e){case"focusin":(Ed(Oe)||Oe.contentEditable==="true")&&(Qr=Oe,Da=ce,ii=null);break;case"focusout":ii=Da=Qr=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Od(we,s,xe);break;case"selectionchange":if(Iy)break;case"keydown":case"keyup":Od(we,s,xe)}var je;if(Ia)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Yr?Td(e,s)&&(Be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(wd&&s.locale!=="ko"&&(Yr||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Yr&&(je=gd()):(Hn=xe,Ta="value"in Hn?Hn.value:Hn.textContent,Yr=!0)),Oe=rs(ce,Be),0<Oe.length&&(Be=new xd(Be,e,null,s,xe),we.push({event:Be,listeners:Oe}),je?Be.data=je:(je=Cd(s),je!==null&&(Be.data=je)))),(je=yy?xy(e,s):by(e,s))&&(ce=rs(ce,"onBeforeInput"),0<ce.length&&(xe=new xd("onBeforeInput","beforeinput",null,s,xe),we.push({event:xe,listeners:ce}),xe.data=je))}Hd(we,t)})}function li(e,t,s){return{instance:e,listener:t,currentTarget:s}}function rs(e,t){for(var s=t+"Capture",h=[];e!==null;){var C=e,I=C.stateNode;C.tag===5&&I!==null&&(C=I,I=Un(e,s),I!=null&&h.unshift(li(e,I,C)),I=Un(e,t),I!=null&&h.push(li(e,I,C))),e=e.return}return h}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,t,s,h,C){for(var I=t._reactName,F=[];s!==null&&s!==h;){var Z=s,te=Z.alternate,ce=Z.stateNode;if(te!==null&&te===h)break;Z.tag===5&&ce!==null&&(Z=ce,C?(te=Un(s,I),te!=null&&F.unshift(li(s,te,Z))):C||(te=Un(s,I),te!=null&&F.push(li(s,te,Z)))),s=s.return}F.length!==0&&e.push({event:t,listeners:F})}var Dy=/\r\n?/g,Ly=/\u0000|\uFFFD/g;function Jd(e){return(typeof e=="string"?e:""+e).replace(Dy,`
`).replace(Ly,"")}function os(e,t,s){if(t=Jd(t),Jd(e)!==t&&s)throw Error(n(425))}function is(){}var Ba=null,$a=null;function Va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,Kd=typeof Promise=="function"?Promise:void 0,jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Kd<"u"?function(e){return Kd.resolve(null).then(e).catch(Uy)}:za;function Uy(e){setTimeout(function(){throw e})}function Ha(e,t){var s=t,h=0;do{var C=s.nextSibling;if(e.removeChild(s),C&&C.nodeType===8)if(s=C.data,s==="/$"){if(h===0){e.removeChild(C),Zo(t);return}h--}else s!=="$"&&s!=="$?"&&s!=="$!"||h++;s=C}while(s);Zo(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var eo=Math.random().toString(36).slice(2),yn="__reactFiber$"+eo,ui="__reactProps$"+eo,Cn="__reactContainer$"+eo,Ga="__reactEvents$"+eo,qy="__reactListeners$"+eo,Fy="__reactHandles$"+eo;function xr(e){var t=e[yn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Cn]||s[yn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Yd(e);e!==null;){if(s=e[yn])return s;e=Yd(e)}return t}e=s,s=e.parentNode}return null}function ci(e){return e=e[yn]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ss(e){return e[ui]||null}var Wa=[],no=-1;function Jn(e){return{current:e}}function lt(e){0>no||(e.current=Wa[no],Wa[no]=null,no--)}function ot(e,t){no++,Wa[no]=e.current,e.current=t}var Kn={},At=Jn(Kn),Ot=Jn(!1),br=Kn;function ro(e,t){var s=e.type.contextTypes;if(!s)return Kn;var h=e.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===t)return h.__reactInternalMemoizedMaskedChildContext;var C={},I;for(I in s)C[I]=t[I];return h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=C),C}function jt(e){return e=e.childContextTypes,e!=null}function as(){lt(Ot),lt(At)}function Qd(e,t,s){if(At.current!==Kn)throw Error(n(168));ot(At,t),ot(Ot,s)}function Zd(e,t,s){var h=e.stateNode;if(t=t.childContextTypes,typeof h.getChildContext!="function")return s;h=h.getChildContext();for(var C in h)if(!(C in t))throw Error(n(108,G(e)||"Unknown",C));return A({},s,h)}function ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,br=At.current,ot(At,e),ot(Ot,Ot.current),!0}function Xd(e,t,s){var h=e.stateNode;if(!h)throw Error(n(169));s?(e=Zd(e,t,br),h.__reactInternalMemoizedMergedChildContext=e,lt(Ot),lt(At),ot(At,e)):lt(Ot),ot(Ot,s)}var En=null,us=!1,Ja=!1;function ef(e){En===null?En=[e]:En.push(e)}function By(e){us=!0,ef(e)}function Yn(){if(!Ja&&En!==null){Ja=!0;var e=0,t=et;try{var s=En;for(et=1;e<s.length;e++){var h=s[e];do h=h(!0);while(h!==null)}En=null,us=!1}catch(C){throw En!==null&&(En=En.slice(e+1)),zr(Ho,Yn),C}finally{et=t,Ja=!1}}return null}var oo=[],io=0,cs=null,ds=0,Zt=[],Xt=0,wr=null,kn=1,Nn="";function _r(e,t){oo[io++]=ds,oo[io++]=cs,cs=e,ds=t}function tf(e,t,s){Zt[Xt++]=kn,Zt[Xt++]=Nn,Zt[Xt++]=wr,wr=e;var h=kn;e=Nn;var C=32-yt(h)-1;h&=~(1<<C),s+=1;var I=32-yt(t)+C;if(30<I){var F=C-C%5;I=(h&(1<<F)-1).toString(32),h>>=F,C-=F,kn=1<<32-yt(t)+C|s<<C|h,Nn=I+e}else kn=1<<I|s<<C|h,Nn=e}function Ka(e){e.return!==null&&(_r(e,1),tf(e,1,0))}function Ya(e){for(;e===cs;)cs=oo[--io],oo[io]=null,ds=oo[--io],oo[io]=null;for(;e===wr;)wr=Zt[--Xt],Zt[Xt]=null,Nn=Zt[--Xt],Zt[Xt]=null,kn=Zt[--Xt],Zt[Xt]=null}var Gt=null,Wt=null,ut=!1,un=null;function nf(e,t){var s=rn(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function rf(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Wt=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=wr!==null?{id:kn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=rn(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Gt=e,Wt=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(ut){var t=Wt;if(t){var s=t;if(!rf(e,t)){if(Qa(e))throw Error(n(418));t=Wn(s.nextSibling);var h=Gt;t&&rf(e,t)?nf(h,s):(e.flags=e.flags&-4097|2,ut=!1,Gt=e)}}else{if(Qa(e))throw Error(n(418));e.flags=e.flags&-4097|2,ut=!1,Gt=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function fs(e){if(e!==Gt)return!1;if(!ut)return of(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Va(e.type,e.memoizedProps)),t&&(t=Wt)){if(Qa(e))throw sf(),Error(n(418));for(;t;)nf(e,t),t=Wn(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Wt=Wn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Gt?Wn(e.stateNode.nextSibling):null;return!0}function sf(){for(var e=Wt;e;)e=Wn(e.nextSibling)}function so(){Wt=Gt=null,ut=!1}function Xa(e){un===null?un=[e]:un.push(e)}var $y=x.ReactCurrentBatchConfig;function cn(e,t){if(e&&e.defaultProps){t=A({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}var hs=Jn(null),ps=null,ao=null,el=null;function tl(){el=ao=ps=null}function nl(e){var t=hs.current;lt(hs),e._currentValue=t}function rl(e,t,s){for(;e!==null;){var h=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,h!==null&&(h.childLanes|=t)):h!==null&&(h.childLanes&t)!==t&&(h.childLanes|=t),e===s)break;e=e.return}}function lo(e,t){ps=e,el=ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ut=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(el!==e)if(e={context:e,memoizedValue:t,next:null},ao===null){if(ps===null)throw Error(n(308));ao=e,ps.dependencies={lanes:0,firstContext:e}}else ao=ao.next=e;return t}var Sr=null;function ol(e){Sr===null?Sr=[e]:Sr.push(e)}function af(e,t,s,h){var C=t.interleaved;return C===null?(s.next=s,ol(t)):(s.next=C.next,C.next=s),t.interleaved=s,An(e,h)}function An(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Qn=!1;function il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,s){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var C=h.pending;return C===null?t.next=t:(t.next=C.next,C.next=t),h.pending=t,An(e,s)}return C=h.interleaved,C===null?(t.next=t,ol(h)):(t.next=C.next,C.next=t),h.interleaved=t,An(e,s)}function ms(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var h=t.lanes;h&=e.pendingLanes,s|=h,t.lanes=s,Ko(e,s)}}function uf(e,t){var s=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,s===h)){var C=null,I=null;if(s=s.firstBaseUpdate,s!==null){do{var F={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};I===null?C=I=F:I=I.next=F,s=s.next}while(s!==null);I===null?C=I=t:I=I.next=t}else C=I=t;s={baseState:h.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:h.shared,effects:h.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function gs(e,t,s,h){var C=e.updateQueue;Qn=!1;var I=C.firstBaseUpdate,F=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var te=Z,ce=te.next;te.next=null,F===null?I=ce:F.next=ce,F=te;var xe=e.alternate;xe!==null&&(xe=xe.updateQueue,Z=xe.lastBaseUpdate,Z!==F&&(Z===null?xe.firstBaseUpdate=ce:Z.next=ce,xe.lastBaseUpdate=te))}if(I!==null){var we=C.baseState;F=0,xe=ce=te=null,Z=I;do{var ye=Z.lane,ke=Z.eventTime;if((h&ye)===ye){xe!==null&&(xe=xe.next={eventTime:ke,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Ie=e,Pe=Z;switch(ye=t,ke=s,Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){we=Ie.call(ke,we,ye);break e}we=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,ye=typeof Ie=="function"?Ie.call(ke,we,ye):Ie,ye==null)break e;we=A({},we,ye);break e;case 2:Qn=!0}}Z.callback!==null&&Z.lane!==0&&(e.flags|=64,ye=C.effects,ye===null?C.effects=[Z]:ye.push(Z))}else ke={eventTime:ke,lane:ye,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},xe===null?(ce=xe=ke,te=we):xe=xe.next=ke,F|=ye;if(Z=Z.next,Z===null){if(Z=C.shared.pending,Z===null)break;ye=Z,Z=ye.next,ye.next=null,C.lastBaseUpdate=ye,C.shared.pending=null}}while(!0);if(xe===null&&(te=we),C.baseState=te,C.firstBaseUpdate=ce,C.lastBaseUpdate=xe,t=C.shared.interleaved,t!==null){C=t;do F|=C.lane,C=C.next;while(C!==t)}else I===null&&(C.shared.lanes=0);Er|=F,e.lanes=F,e.memoizedState=we}}function cf(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var h=e[t],C=h.callback;if(C!==null){if(h.callback=null,h=s,typeof C!="function")throw Error(n(191,C));C.call(h)}}}var df=new o.Component().refs;function sl(e,t,s,h){t=e.memoizedState,s=s(h,t),s=s==null?t:A({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vs={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var h=Lt(),C=nr(e),I=In(h,C);I.payload=t,s!=null&&(I.callback=s),t=Zn(e,I,C),t!==null&&(hn(t,e,C,h),ms(t,e,C))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var h=Lt(),C=nr(e),I=In(h,C);I.tag=1,I.payload=t,s!=null&&(I.callback=s),t=Zn(e,I,C),t!==null&&(hn(t,e,C,h),ms(t,e,C))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Lt(),h=nr(e),C=In(s,h);C.tag=2,t!=null&&(C.callback=t),t=Zn(e,C,h),t!==null&&(hn(t,e,h,s),ms(t,e,h))}};function ff(e,t,s,h,C,I,F){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,I,F):t.prototype&&t.prototype.isPureReactComponent?!oi(s,h)||!oi(C,I):!0}function hf(e,t,s){var h=!1,C=Kn,I=t.contextType;return typeof I=="object"&&I!==null?I=en(I):(C=jt(t)?br:At.current,h=t.contextTypes,I=(h=h!=null)?ro(e,C):Kn),t=new t(s,I),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vs,e.stateNode=t,t._reactInternals=e,h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=C,e.__reactInternalMemoizedMaskedChildContext=I),t}function pf(e,t,s,h){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,h),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,h),t.state!==e&&vs.enqueueReplaceState(t,t.state,null)}function al(e,t,s,h){var C=e.stateNode;C.props=s,C.state=e.memoizedState,C.refs=df,il(e);var I=t.contextType;typeof I=="object"&&I!==null?C.context=en(I):(I=jt(t)?br:At.current,C.context=ro(e,I)),C.state=e.memoizedState,I=t.getDerivedStateFromProps,typeof I=="function"&&(sl(e,t,I,s),C.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(t=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),t!==C.state&&vs.enqueueReplaceState(C,C.state,null),gs(e,s,C,h),C.state=e.memoizedState),typeof C.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var h=s.stateNode}if(!h)throw Error(n(147,e));var C=h,I=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===I?t.ref:(t=function(F){var Z=C.refs;Z===df&&(Z=C.refs={}),F===null?delete Z[I]:Z[I]=F},t._stringRef=I,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function gf(e){function t(ie,oe){if(e){var le=ie.deletions;le===null?(ie.deletions=[oe],ie.flags|=16):le.push(oe)}}function s(ie,oe){if(!e)return null;for(;oe!==null;)t(ie,oe),oe=oe.sibling;return null}function h(ie,oe){for(ie=new Map;oe!==null;)oe.key!==null?ie.set(oe.key,oe):ie.set(oe.index,oe),oe=oe.sibling;return ie}function C(ie,oe){return ie=or(ie,oe),ie.index=0,ie.sibling=null,ie}function I(ie,oe,le){return ie.index=le,e?(le=ie.alternate,le!==null?(le=le.index,le<oe?(ie.flags|=2,oe):le):(ie.flags|=2,oe)):(ie.flags|=1048576,oe)}function F(ie){return e&&ie.alternate===null&&(ie.flags|=2),ie}function Z(ie,oe,le,Se){return oe===null||oe.tag!==6?(oe=zl(le,ie.mode,Se),oe.return=ie,oe):(oe=C(oe,le),oe.return=ie,oe)}function te(ie,oe,le,Se){var Re=le.type;return Re===P?xe(ie,oe,le.props.children,Se,le.key):oe!==null&&(oe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ee&&mf(Re)===oe.type)?(Se=C(oe,le.props),Se.ref=di(ie,oe,le),Se.return=ie,Se):(Se=js(le.type,le.key,le.props,null,ie.mode,Se),Se.ref=di(ie,oe,le),Se.return=ie,Se)}function ce(ie,oe,le,Se){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==le.containerInfo||oe.stateNode.implementation!==le.implementation?(oe=Hl(le,ie.mode,Se),oe.return=ie,oe):(oe=C(oe,le.children||[]),oe.return=ie,oe)}function xe(ie,oe,le,Se,Re){return oe===null||oe.tag!==7?(oe=Ir(le,ie.mode,Se,Re),oe.return=ie,oe):(oe=C(oe,le),oe.return=ie,oe)}function we(ie,oe,le){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=zl(""+oe,ie.mode,le),oe.return=ie,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return le=js(oe.type,oe.key,oe.props,null,ie.mode,le),le.ref=di(ie,null,oe),le.return=ie,le;case R:return oe=Hl(oe,ie.mode,le),oe.return=ie,oe;case ee:var Se=oe._init;return we(ie,Se(oe._payload),le)}if(fe(oe)||W(oe))return oe=Ir(oe,ie.mode,le,null),oe.return=ie,oe;ys(ie,oe)}return null}function ye(ie,oe,le,Se){var Re=oe!==null?oe.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Re!==null?null:Z(ie,oe,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return le.key===Re?te(ie,oe,le,Se):null;case R:return le.key===Re?ce(ie,oe,le,Se):null;case ee:return Re=le._init,ye(ie,oe,Re(le._payload),Se)}if(fe(le)||W(le))return Re!==null?null:xe(ie,oe,le,Se,null);ys(ie,le)}return null}function ke(ie,oe,le,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ie=ie.get(le)||null,Z(oe,ie,""+Se,Re);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case N:return ie=ie.get(Se.key===null?le:Se.key)||null,te(oe,ie,Se,Re);case R:return ie=ie.get(Se.key===null?le:Se.key)||null,ce(oe,ie,Se,Re);case ee:var Oe=Se._init;return ke(ie,oe,le,Oe(Se._payload),Re)}if(fe(Se)||W(Se))return ie=ie.get(le)||null,xe(oe,ie,Se,Re,null);ys(oe,Se)}return null}function Ie(ie,oe,le,Se){for(var Re=null,Oe=null,je=oe,Be=oe=0,Tt=null;je!==null&&Be<le.length;Be++){je.index>Be?(Tt=je,je=null):Tt=je.sibling;var Xe=ye(ie,je,le[Be],Se);if(Xe===null){je===null&&(je=Tt);break}e&&je&&Xe.alternate===null&&t(ie,je),oe=I(Xe,oe,Be),Oe===null?Re=Xe:Oe.sibling=Xe,Oe=Xe,je=Tt}if(Be===le.length)return s(ie,je),ut&&_r(ie,Be),Re;if(je===null){for(;Be<le.length;Be++)je=we(ie,le[Be],Se),je!==null&&(oe=I(je,oe,Be),Oe===null?Re=je:Oe.sibling=je,Oe=je);return ut&&_r(ie,Be),Re}for(je=h(ie,je);Be<le.length;Be++)Tt=ke(je,ie,Be,le[Be],Se),Tt!==null&&(e&&Tt.alternate!==null&&je.delete(Tt.key===null?Be:Tt.key),oe=I(Tt,oe,Be),Oe===null?Re=Tt:Oe.sibling=Tt,Oe=Tt);return e&&je.forEach(function(ir){return t(ie,ir)}),ut&&_r(ie,Be),Re}function Pe(ie,oe,le,Se){var Re=W(le);if(typeof Re!="function")throw Error(n(150));if(le=Re.call(le),le==null)throw Error(n(151));for(var Oe=Re=null,je=oe,Be=oe=0,Tt=null,Xe=le.next();je!==null&&!Xe.done;Be++,Xe=le.next()){je.index>Be?(Tt=je,je=null):Tt=je.sibling;var ir=ye(ie,je,Xe.value,Se);if(ir===null){je===null&&(je=Tt);break}e&&je&&ir.alternate===null&&t(ie,je),oe=I(ir,oe,Be),Oe===null?Re=ir:Oe.sibling=ir,Oe=ir,je=Tt}if(Xe.done)return s(ie,je),ut&&_r(ie,Be),Re;if(je===null){for(;!Xe.done;Be++,Xe=le.next())Xe=we(ie,Xe.value,Se),Xe!==null&&(oe=I(Xe,oe,Be),Oe===null?Re=Xe:Oe.sibling=Xe,Oe=Xe);return ut&&_r(ie,Be),Re}for(je=h(ie,je);!Xe.done;Be++,Xe=le.next())Xe=ke(je,ie,Be,Xe.value,Se),Xe!==null&&(e&&Xe.alternate!==null&&je.delete(Xe.key===null?Be:Xe.key),oe=I(Xe,oe,Be),Oe===null?Re=Xe:Oe.sibling=Xe,Oe=Xe);return e&&je.forEach(function(w0){return t(ie,w0)}),ut&&_r(ie,Be),Re}function gt(ie,oe,le,Se){if(typeof le=="object"&&le!==null&&le.type===P&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case N:e:{for(var Re=le.key,Oe=oe;Oe!==null;){if(Oe.key===Re){if(Re=le.type,Re===P){if(Oe.tag===7){s(ie,Oe.sibling),oe=C(Oe,le.props.children),oe.return=ie,ie=oe;break e}}else if(Oe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ee&&mf(Re)===Oe.type){s(ie,Oe.sibling),oe=C(Oe,le.props),oe.ref=di(ie,Oe,le),oe.return=ie,ie=oe;break e}s(ie,Oe);break}else t(ie,Oe);Oe=Oe.sibling}le.type===P?(oe=Ir(le.props.children,ie.mode,Se,le.key),oe.return=ie,ie=oe):(Se=js(le.type,le.key,le.props,null,ie.mode,Se),Se.ref=di(ie,oe,le),Se.return=ie,ie=Se)}return F(ie);case R:e:{for(Oe=le.key;oe!==null;){if(oe.key===Oe)if(oe.tag===4&&oe.stateNode.containerInfo===le.containerInfo&&oe.stateNode.implementation===le.implementation){s(ie,oe.sibling),oe=C(oe,le.children||[]),oe.return=ie,ie=oe;break e}else{s(ie,oe);break}else t(ie,oe);oe=oe.sibling}oe=Hl(le,ie.mode,Se),oe.return=ie,ie=oe}return F(ie);case ee:return Oe=le._init,gt(ie,oe,Oe(le._payload),Se)}if(fe(le))return Ie(ie,oe,le,Se);if(W(le))return Pe(ie,oe,le,Se);ys(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,oe!==null&&oe.tag===6?(s(ie,oe.sibling),oe=C(oe,le),oe.return=ie,ie=oe):(s(ie,oe),oe=zl(le,ie.mode,Se),oe.return=ie,ie=oe),F(ie)):s(ie,oe)}return gt}var uo=gf(!0),vf=gf(!1),fi={},xn=Jn(fi),hi=Jn(fi),pi=Jn(fi);function Tr(e){if(e===fi)throw Error(n(174));return e}function ll(e,t){switch(ot(pi,t),ot(hi,e),ot(xn,fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rt(t,e)}lt(xn),ot(xn,t)}function co(){lt(xn),lt(hi),lt(pi)}function yf(e){Tr(pi.current);var t=Tr(xn.current),s=rt(t,e.type);t!==s&&(ot(hi,e),ot(xn,s))}function ul(e){hi.current===e&&(lt(xn),lt(hi))}var ht=Jn(0);function xs(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function dl(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var bs=x.ReactCurrentDispatcher,fl=x.ReactCurrentBatchConfig,Cr=0,pt=null,bt=null,_t=null,ws=!1,mi=!1,gi=0,Vy=0;function It(){throw Error(n(321))}function hl(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ln(e[s],t[s]))return!1;return!0}function pl(e,t,s,h,C,I){if(Cr=I,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=e===null||e.memoizedState===null?Wy:Jy,e=s(h,C),mi){I=0;do{if(mi=!1,gi=0,25<=I)throw Error(n(301));I+=1,_t=bt=null,t.updateQueue=null,bs.current=Ky,e=s(h,C)}while(mi)}if(bs.current=Ts,t=bt!==null&&bt.next!==null,Cr=0,_t=bt=pt=null,ws=!1,t)throw Error(n(300));return e}function ml(){var e=gi!==0;return gi=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?pt.memoizedState=_t=e:_t=_t.next=e,_t}function tn(){if(bt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=_t===null?pt.memoizedState:_t.next;if(t!==null)_t=t,bt=e;else{if(e===null)throw Error(n(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},_t===null?pt.memoizedState=_t=e:_t=_t.next=e}return _t}function vi(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=tn(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var h=bt,C=h.baseQueue,I=s.pending;if(I!==null){if(C!==null){var F=C.next;C.next=I.next,I.next=F}h.baseQueue=C=I,s.pending=null}if(C!==null){I=C.next,h=h.baseState;var Z=F=null,te=null,ce=I;do{var xe=ce.lane;if((Cr&xe)===xe)te!==null&&(te=te.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),h=ce.hasEagerState?ce.eagerState:e(h,ce.action);else{var we={lane:xe,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};te===null?(Z=te=we,F=h):te=te.next=we,pt.lanes|=xe,Er|=xe}ce=ce.next}while(ce!==null&&ce!==I);te===null?F=h:te.next=Z,ln(h,t.memoizedState)||(Ut=!0),t.memoizedState=h,t.baseState=F,t.baseQueue=te,s.lastRenderedState=h}if(e=s.interleaved,e!==null){C=e;do I=C.lane,pt.lanes|=I,Er|=I,C=C.next;while(C!==e)}else C===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function vl(e){var t=tn(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var h=s.dispatch,C=s.pending,I=t.memoizedState;if(C!==null){s.pending=null;var F=C=C.next;do I=e(I,F.action),F=F.next;while(F!==C);ln(I,t.memoizedState)||(Ut=!0),t.memoizedState=I,t.baseQueue===null&&(t.baseState=I),s.lastRenderedState=I}return[I,h]}function xf(){}function bf(e,t){var s=pt,h=tn(),C=t(),I=!ln(h.memoizedState,C);if(I&&(h.memoizedState=C,Ut=!0),h=h.queue,yl(Sf.bind(null,s,h,e),[e]),h.getSnapshot!==t||I||_t!==null&&_t.memoizedState.tag&1){if(s.flags|=2048,yi(9,_f.bind(null,s,h,C,t),void 0,null),St===null)throw Error(n(349));(Cr&30)!==0||wf(s,t,C)}return C}function wf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function _f(e,t,s,h){t.value=s,t.getSnapshot=h,Tf(t)&&Cf(e)}function Sf(e,t,s){return s(function(){Tf(t)&&Cf(e)})}function Tf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ln(e,s)}catch{return!0}}function Cf(e){var t=An(e,1);t!==null&&hn(t,e,1,-1)}function Ef(e){var t=bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gy.bind(null,pt,e),[t.memoizedState,e]}function yi(e,t,s,h){return e={tag:e,create:t,destroy:s,deps:h,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(h=s.next,s.next=e,e.next=h,t.lastEffect=e)),e}function kf(){return tn().memoizedState}function _s(e,t,s,h){var C=bn();pt.flags|=e,C.memoizedState=yi(1|t,s,void 0,h===void 0?null:h)}function Ss(e,t,s,h){var C=tn();h=h===void 0?null:h;var I=void 0;if(bt!==null){var F=bt.memoizedState;if(I=F.destroy,h!==null&&hl(h,F.deps)){C.memoizedState=yi(t,s,I,h);return}}pt.flags|=e,C.memoizedState=yi(1|t,s,I,h)}function Nf(e,t){return _s(8390656,8,e,t)}function yl(e,t){return Ss(2048,8,e,t)}function Af(e,t){return Ss(4,2,e,t)}function If(e,t){return Ss(4,4,e,t)}function Mf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pf(e,t,s){return s=s!=null?s.concat([e]):null,Ss(4,4,Mf.bind(null,t,e),s)}function xl(){}function Rf(e,t){var s=tn();t=t===void 0?null:t;var h=s.memoizedState;return h!==null&&t!==null&&hl(t,h[1])?h[0]:(s.memoizedState=[e,t],e)}function Df(e,t){var s=tn();t=t===void 0?null:t;var h=s.memoizedState;return h!==null&&t!==null&&hl(t,h[1])?h[0]:(e=e(),s.memoizedState=[e,t],e)}function Lf(e,t,s){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=s):(ln(s,t)||(s=Vn(),pt.lanes|=s,Er|=s,e.baseState=!0),t)}function zy(e,t){var s=et;et=s!==0&&4>s?s:4,e(!0);var h=fl.transition;fl.transition={};try{e(!1),t()}finally{et=s,fl.transition=h}}function Of(){return tn().memoizedState}function Hy(e,t,s){var h=nr(e);if(s={lane:h,action:s,hasEagerState:!1,eagerState:null,next:null},jf(e))Uf(t,s);else if(s=af(e,t,s,h),s!==null){var C=Lt();hn(s,e,h,C),qf(s,t,h)}}function Gy(e,t,s){var h=nr(e),C={lane:h,action:s,hasEagerState:!1,eagerState:null,next:null};if(jf(e))Uf(t,C);else{var I=e.alternate;if(e.lanes===0&&(I===null||I.lanes===0)&&(I=t.lastRenderedReducer,I!==null))try{var F=t.lastRenderedState,Z=I(F,s);if(C.hasEagerState=!0,C.eagerState=Z,ln(Z,F)){var te=t.interleaved;te===null?(C.next=C,ol(t)):(C.next=te.next,te.next=C),t.interleaved=C;return}}catch{}finally{}s=af(e,t,C,h),s!==null&&(C=Lt(),hn(s,e,h,C),qf(s,t,h))}}function jf(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function Uf(e,t){mi=ws=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function qf(e,t,s){if((s&4194240)!==0){var h=t.lanes;h&=e.pendingLanes,s|=h,t.lanes=s,Ko(e,s)}}var Ts={readContext:en,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Wy={readContext:en,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:Nf,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,_s(4194308,4,Mf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){return _s(4,2,e,t)},useMemo:function(e,t){var s=bn();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var h=bn();return t=s!==void 0?s(t):t,h.memoizedState=h.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},h.queue=e,e=e.dispatch=Hy.bind(null,pt,e),[h.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:Ef,useDebugValue:xl,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=Ef(!1),t=e[0];return e=zy.bind(null,e[1]),bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var h=pt,C=bn();if(ut){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),St===null)throw Error(n(349));(Cr&30)!==0||wf(h,t,s)}C.memoizedState=s;var I={value:s,getSnapshot:t};return C.queue=I,Nf(Sf.bind(null,h,I,e),[e]),h.flags|=2048,yi(9,_f.bind(null,h,I,s,t),void 0,null),s},useId:function(){var e=bn(),t=St.identifierPrefix;if(ut){var s=Nn,h=kn;s=(h&~(1<<32-yt(h)-1)).toString(32)+s,t=":"+t+"R"+s,s=gi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Vy++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jy={readContext:en,useCallback:Rf,useContext:en,useEffect:yl,useImperativeHandle:Pf,useInsertionEffect:Af,useLayoutEffect:If,useMemo:Df,useReducer:gl,useRef:kf,useState:function(){return gl(vi)},useDebugValue:xl,useDeferredValue:function(e){var t=tn();return Lf(t,bt.memoizedState,e)},useTransition:function(){var e=gl(vi)[0],t=tn().memoizedState;return[e,t]},useMutableSource:xf,useSyncExternalStore:bf,useId:Of,unstable_isNewReconciler:!1},Ky={readContext:en,useCallback:Rf,useContext:en,useEffect:yl,useImperativeHandle:Pf,useInsertionEffect:Af,useLayoutEffect:If,useMemo:Df,useReducer:vl,useRef:kf,useState:function(){return vl(vi)},useDebugValue:xl,useDeferredValue:function(e){var t=tn();return bt===null?t.memoizedState=e:Lf(t,bt.memoizedState,e)},useTransition:function(){var e=vl(vi)[0],t=tn().memoizedState;return[e,t]},useMutableSource:xf,useSyncExternalStore:bf,useId:Of,unstable_isNewReconciler:!1};function fo(e,t){try{var s="",h=t;do s+=J(h),h=h.return;while(h);var C=s}catch(I){C=`
Error generating stack: `+I.message+`
`+I.stack}return{value:e,source:t,stack:C,digest:null}}function bl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function wl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Yy=typeof WeakMap=="function"?WeakMap:Map;function Ff(e,t,s){s=In(-1,s),s.tag=3,s.payload={element:null};var h=t.value;return s.callback=function(){Ms||(Ms=!0,Ol=h),wl(e,t)},s}function Bf(e,t,s){s=In(-1,s),s.tag=3;var h=e.type.getDerivedStateFromError;if(typeof h=="function"){var C=t.value;s.payload=function(){return h(C)},s.callback=function(){wl(e,t)}}var I=e.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){wl(e,t),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var F=t.stack;this.componentDidCatch(t.value,{componentStack:F!==null?F:""})}),s}function $f(e,t,s){var h=e.pingCache;if(h===null){h=e.pingCache=new Yy;var C=new Set;h.set(t,C)}else C=h.get(t),C===void 0&&(C=new Set,h.set(t,C));C.has(s)||(C.add(s),e=c0.bind(null,e,t,s),t.then(e,e))}function Vf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zf(e,t,s,h,C){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=In(-1,1),t.tag=2,Zn(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=C,e)}var Qy=x.ReactCurrentOwner,Ut=!1;function Dt(e,t,s,h){t.child=e===null?vf(t,null,s,h):uo(t,e.child,s,h)}function Hf(e,t,s,h,C){s=s.render;var I=t.ref;return lo(t,C),h=pl(e,t,s,h,I,C),s=ml(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~C,Mn(e,t,C)):(ut&&s&&Ka(t),t.flags|=1,Dt(e,t,h,C),t.child)}function Gf(e,t,s,h,C){if(e===null){var I=s.type;return typeof I=="function"&&!Vl(I)&&I.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=I,Wf(e,t,I,h,C)):(e=js(s.type,null,h,t,t.mode,C),e.ref=t.ref,e.return=t,t.child=e)}if(I=e.child,(e.lanes&C)===0){var F=I.memoizedProps;if(s=s.compare,s=s!==null?s:oi,s(F,h)&&e.ref===t.ref)return Mn(e,t,C)}return t.flags|=1,e=or(I,h),e.ref=t.ref,e.return=t,t.child=e}function Wf(e,t,s,h,C){if(e!==null){var I=e.memoizedProps;if(oi(I,h)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=h=I,(e.lanes&C)!==0)(e.flags&131072)!==0&&(Ut=!0);else return t.lanes=e.lanes,Mn(e,t,C)}return _l(e,t,s,h,C)}function Jf(e,t,s){var h=t.pendingProps,C=h.children,I=e!==null?e.memoizedState:null;if(h.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(po,Jt),Jt|=s;else{if((s&1073741824)===0)return e=I!==null?I.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(po,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=I!==null?I.baseLanes:s,ot(po,Jt),Jt|=h}else I!==null?(h=I.baseLanes|s,t.memoizedState=null):h=s,ot(po,Jt),Jt|=h;return Dt(e,t,C,s),t.child}function Kf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function _l(e,t,s,h,C){var I=jt(s)?br:At.current;return I=ro(t,I),lo(t,C),s=pl(e,t,s,h,I,C),h=ml(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~C,Mn(e,t,C)):(ut&&h&&Ka(t),t.flags|=1,Dt(e,t,s,C),t.child)}function Yf(e,t,s,h,C){if(jt(s)){var I=!0;ls(t)}else I=!1;if(lo(t,C),t.stateNode===null)Es(e,t),hf(t,s,h),al(t,s,h,C),h=!0;else if(e===null){var F=t.stateNode,Z=t.memoizedProps;F.props=Z;var te=F.context,ce=s.contextType;typeof ce=="object"&&ce!==null?ce=en(ce):(ce=jt(s)?br:At.current,ce=ro(t,ce));var xe=s.getDerivedStateFromProps,we=typeof xe=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==h||te!==ce)&&pf(t,F,h,ce),Qn=!1;var ye=t.memoizedState;F.state=ye,gs(t,h,F,C),te=t.memoizedState,Z!==h||ye!==te||Ot.current||Qn?(typeof xe=="function"&&(sl(t,s,xe,h),te=t.memoizedState),(Z=Qn||ff(t,s,Z,h,ye,te,ce))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(t.flags|=4194308)):(typeof F.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=h,t.memoizedState=te),F.props=h,F.state=te,F.context=ce,h=Z):(typeof F.componentDidMount=="function"&&(t.flags|=4194308),h=!1)}else{F=t.stateNode,lf(e,t),Z=t.memoizedProps,ce=t.type===t.elementType?Z:cn(t.type,Z),F.props=ce,we=t.pendingProps,ye=F.context,te=s.contextType,typeof te=="object"&&te!==null?te=en(te):(te=jt(s)?br:At.current,te=ro(t,te));var ke=s.getDerivedStateFromProps;(xe=typeof ke=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==we||ye!==te)&&pf(t,F,h,te),Qn=!1,ye=t.memoizedState,F.state=ye,gs(t,h,F,C);var Ie=t.memoizedState;Z!==we||ye!==Ie||Ot.current||Qn?(typeof ke=="function"&&(sl(t,s,ke,h),Ie=t.memoizedState),(ce=Qn||ff(t,s,ce,h,ye,Ie,te)||!1)?(xe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(h,Ie,te),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(h,Ie,te)),typeof F.componentDidUpdate=="function"&&(t.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=h,t.memoizedState=Ie),F.props=h,F.state=Ie,F.context=te,h=ce):(typeof F.componentDidUpdate!="function"||Z===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),h=!1)}return Sl(e,t,s,h,I,C)}function Sl(e,t,s,h,C,I){Kf(e,t);var F=(t.flags&128)!==0;if(!h&&!F)return C&&Xd(t,s,!1),Mn(e,t,I);h=t.stateNode,Qy.current=t;var Z=F&&typeof s.getDerivedStateFromError!="function"?null:h.render();return t.flags|=1,e!==null&&F?(t.child=uo(t,e.child,null,I),t.child=uo(t,null,Z,I)):Dt(e,t,Z,I),t.memoizedState=h.state,C&&Xd(t,s,!0),t.child}function Qf(e){var t=e.stateNode;t.pendingContext?Qd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qd(e,t.context,!1),ll(e,t.containerInfo)}function Zf(e,t,s,h,C){return so(),Xa(C),t.flags|=256,Dt(e,t,s,h),t.child}var Tl={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xf(e,t,s){var h=t.pendingProps,C=ht.current,I=!1,F=(t.flags&128)!==0,Z;if((Z=F)||(Z=e!==null&&e.memoizedState===null?!1:(C&2)!==0),Z?(I=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(C|=1),ot(ht,C&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(F=h.children,e=h.fallback,I?(h=t.mode,I=t.child,F={mode:"hidden",children:F},(h&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=F):I=Us(F,h,0,null),e=Ir(e,h,s,null),I.return=t,e.return=t,I.sibling=e,t.child=I,t.child.memoizedState=Cl(s),t.memoizedState=Tl,e):El(t,F));if(C=e.memoizedState,C!==null&&(Z=C.dehydrated,Z!==null))return Zy(e,t,F,h,Z,C,s);if(I){I=h.fallback,F=t.mode,C=e.child,Z=C.sibling;var te={mode:"hidden",children:h.children};return(F&1)===0&&t.child!==C?(h=t.child,h.childLanes=0,h.pendingProps=te,t.deletions=null):(h=or(C,te),h.subtreeFlags=C.subtreeFlags&14680064),Z!==null?I=or(Z,I):(I=Ir(I,F,s,null),I.flags|=2),I.return=t,h.return=t,h.sibling=I,t.child=h,h=I,I=t.child,F=e.child.memoizedState,F=F===null?Cl(s):{baseLanes:F.baseLanes|s,cachePool:null,transitions:F.transitions},I.memoizedState=F,I.childLanes=e.childLanes&~s,t.memoizedState=Tl,h}return I=e.child,e=I.sibling,h=or(I,{mode:"visible",children:h.children}),(t.mode&1)===0&&(h.lanes=s),h.return=t,h.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=h,t.memoizedState=null,h}function El(e,t){return t=Us({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,s,h){return h!==null&&Xa(h),uo(t,e.child,null,s),e=El(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zy(e,t,s,h,C,I,F){if(s)return t.flags&256?(t.flags&=-257,h=bl(Error(n(422))),Cs(e,t,F,h)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(I=h.fallback,C=t.mode,h=Us({mode:"visible",children:h.children},C,0,null),I=Ir(I,C,F,null),I.flags|=2,h.return=t,I.return=t,h.sibling=I,t.child=h,(t.mode&1)!==0&&uo(t,e.child,null,F),t.child.memoizedState=Cl(F),t.memoizedState=Tl,I);if((t.mode&1)===0)return Cs(e,t,F,null);if(C.data==="$!"){if(h=C.nextSibling&&C.nextSibling.dataset,h)var Z=h.dgst;return h=Z,I=Error(n(419)),h=bl(I,h,void 0),Cs(e,t,F,h)}if(Z=(F&e.childLanes)!==0,Ut||Z){if(h=St,h!==null){switch(F&-F){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(h.suspendedLanes|F))!==0?0:C,C!==0&&C!==I.retryLane&&(I.retryLane=C,An(e,C),hn(h,e,C,-1))}return $l(),h=bl(Error(n(421))),Cs(e,t,F,h)}return C.data==="$?"?(t.flags|=128,t.child=e.child,t=d0.bind(null,e),C._reactRetry=t,null):(e=I.treeContext,Wt=Wn(C.nextSibling),Gt=t,ut=!0,un=null,e!==null&&(Zt[Xt++]=kn,Zt[Xt++]=Nn,Zt[Xt++]=wr,kn=e.id,Nn=e.overflow,wr=t),t=El(t,h.children),t.flags|=4096,t)}function eh(e,t,s){e.lanes|=t;var h=e.alternate;h!==null&&(h.lanes|=t),rl(e.return,t,s)}function kl(e,t,s,h,C){var I=e.memoizedState;I===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:h,tail:s,tailMode:C}:(I.isBackwards=t,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=s,I.tailMode=C)}function th(e,t,s){var h=t.pendingProps,C=h.revealOrder,I=h.tail;if(Dt(e,t,h.children,s),h=ht.current,(h&2)!==0)h=h&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eh(e,s,t);else if(e.tag===19)eh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}if(ot(ht,h),(t.mode&1)===0)t.memoizedState=null;else switch(C){case"forwards":for(s=t.child,C=null;s!==null;)e=s.alternate,e!==null&&xs(e)===null&&(C=s),s=s.sibling;s=C,s===null?(C=t.child,t.child=null):(C=s.sibling,s.sibling=null),kl(t,!1,C,s,I);break;case"backwards":for(s=null,C=t.child,t.child=null;C!==null;){if(e=C.alternate,e!==null&&xs(e)===null){t.child=C;break}e=C.sibling,C.sibling=s,s=C,C=e}kl(t,!0,s,null,I);break;case"together":kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Es(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=or(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=or(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Xy(e,t,s){switch(t.tag){case 3:Qf(t),so();break;case 5:yf(t);break;case 1:jt(t.type)&&ls(t);break;case 4:ll(t,t.stateNode.containerInfo);break;case 10:var h=t.type._context,C=t.memoizedProps.value;ot(hs,h._currentValue),h._currentValue=C;break;case 13:if(h=t.memoizedState,h!==null)return h.dehydrated!==null?(ot(ht,ht.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Xf(e,t,s):(ot(ht,ht.current&1),e=Mn(e,t,s),e!==null?e.sibling:null);ot(ht,ht.current&1);break;case 19:if(h=(s&t.childLanes)!==0,(e.flags&128)!==0){if(h)return th(e,t,s);t.flags|=128}if(C=t.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ot(ht,ht.current),h)break;return null;case 22:case 23:return t.lanes=0,Jf(e,t,s)}return Mn(e,t,s)}var nh,Nl,rh,oh;nh=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Nl=function(){},rh=function(e,t,s,h){var C=e.memoizedProps;if(C!==h){e=t.stateNode,Tr(xn.current);var I=null;switch(s){case"input":C=ge(e,C),h=ge(e,h),I=[];break;case"select":C=A({},C,{value:void 0}),h=A({},h,{value:void 0}),I=[];break;case"textarea":C=pe(e,C),h=pe(e,h),I=[];break;default:typeof C.onClick!="function"&&typeof h.onClick=="function"&&(e.onclick=is)}Ro(s,h);var F;s=null;for(ce in C)if(!h.hasOwnProperty(ce)&&C.hasOwnProperty(ce)&&C[ce]!=null)if(ce==="style"){var Z=C[ce];for(F in Z)Z.hasOwnProperty(F)&&(s||(s={}),s[F]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(l.hasOwnProperty(ce)?I||(I=[]):(I=I||[]).push(ce,null));for(ce in h){var te=h[ce];if(Z=C!=null?C[ce]:void 0,h.hasOwnProperty(ce)&&te!==Z&&(te!=null||Z!=null))if(ce==="style")if(Z){for(F in Z)!Z.hasOwnProperty(F)||te&&te.hasOwnProperty(F)||(s||(s={}),s[F]="");for(F in te)te.hasOwnProperty(F)&&Z[F]!==te[F]&&(s||(s={}),s[F]=te[F])}else s||(I||(I=[]),I.push(ce,s)),s=te;else ce==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Z=Z?Z.__html:void 0,te!=null&&Z!==te&&(I=I||[]).push(ce,te)):ce==="children"?typeof te!="string"&&typeof te!="number"||(I=I||[]).push(ce,""+te):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(l.hasOwnProperty(ce)?(te!=null&&ce==="onScroll"&&at("scroll",e),I||Z===te||(I=[])):(I=I||[]).push(ce,te))}s&&(I=I||[]).push("style",s);var ce=I;(t.updateQueue=ce)&&(t.flags|=4)}},oh=function(e,t,s,h){s!==h&&(t.flags|=4)};function xi(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,h=0;if(t)for(var C=e.child;C!==null;)s|=C.lanes|C.childLanes,h|=C.subtreeFlags&14680064,h|=C.flags&14680064,C.return=e,C=C.sibling;else for(C=e.child;C!==null;)s|=C.lanes|C.childLanes,h|=C.subtreeFlags,h|=C.flags,C.return=e,C=C.sibling;return e.subtreeFlags|=h,e.childLanes=s,t}function e0(e,t,s){var h=t.pendingProps;switch(Ya(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return jt(t.type)&&as(),Mt(t),null;case 3:return h=t.stateNode,co(),lt(Ot),lt(At),dl(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,un!==null&&(ql(un),un=null))),Nl(e,t),Mt(t),null;case 5:ul(t);var C=Tr(pi.current);if(s=t.type,e!==null&&t.stateNode!=null)rh(e,t,s,h,C),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!h){if(t.stateNode===null)throw Error(n(166));return Mt(t),null}if(e=Tr(xn.current),fs(t)){h=t.stateNode,s=t.type;var I=t.memoizedProps;switch(h[yn]=t,h[ui]=I,e=(t.mode&1)!==0,s){case"dialog":at("cancel",h),at("close",h);break;case"iframe":case"object":case"embed":at("load",h);break;case"video":case"audio":for(C=0;C<si.length;C++)at(si[C],h);break;case"source":at("error",h);break;case"img":case"image":case"link":at("error",h),at("load",h);break;case"details":at("toggle",h);break;case"input":De(h,I),at("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!I.multiple},at("invalid",h);break;case"textarea":Me(h,I),at("invalid",h)}Ro(s,I),C=null;for(var F in I)if(I.hasOwnProperty(F)){var Z=I[F];F==="children"?typeof Z=="string"?h.textContent!==Z&&(I.suppressHydrationWarning!==!0&&os(h.textContent,Z,e),C=["children",Z]):typeof Z=="number"&&h.textContent!==""+Z&&(I.suppressHydrationWarning!==!0&&os(h.textContent,Z,e),C=["children",""+Z]):l.hasOwnProperty(F)&&Z!=null&&F==="onScroll"&&at("scroll",h)}switch(s){case"input":he(h),ae(h,I,!0);break;case"textarea":he(h),Ue(h);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(h.onclick=is)}h=C,t.updateQueue=h,h!==null&&(t.flags|=4)}else{F=C.nodeType===9?C:C.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=st(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=F.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof h.is=="string"?e=F.createElement(s,{is:h.is}):(e=F.createElement(s),s==="select"&&(F=e,h.multiple?F.multiple=!0:h.size&&(F.size=h.size))):e=F.createElementNS(e,s),e[yn]=t,e[ui]=h,nh(e,t,!1,!1),t.stateNode=e;e:{switch(F=fr(s,h),s){case"dialog":at("cancel",e),at("close",e),C=h;break;case"iframe":case"object":case"embed":at("load",e),C=h;break;case"video":case"audio":for(C=0;C<si.length;C++)at(si[C],e);C=h;break;case"source":at("error",e),C=h;break;case"img":case"image":case"link":at("error",e),at("load",e),C=h;break;case"details":at("toggle",e),C=h;break;case"input":De(e,h),C=ge(e,h),at("invalid",e);break;case"option":C=h;break;case"select":e._wrapperState={wasMultiple:!!h.multiple},C=A({},h,{value:void 0}),at("invalid",e);break;case"textarea":Me(e,h),C=pe(e,h),at("invalid",e);break;default:C=h}Ro(s,C),Z=C;for(I in Z)if(Z.hasOwnProperty(I)){var te=Z[I];I==="style"?jr(e,te):I==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&ct(e,te)):I==="children"?typeof te=="string"?(s!=="textarea"||te!=="")&&We(e,te):typeof te=="number"&&We(e,""+te):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?te!=null&&I==="onScroll"&&at("scroll",e):te!=null&&E(e,I,te,F))}switch(s){case"input":he(e),ae(e,h,!1);break;case"textarea":he(e),Ue(e);break;case"option":h.value!=null&&e.setAttribute("value",""+Y(h.value));break;case"select":e.multiple=!!h.multiple,I=h.value,I!=null?ve(e,!!h.multiple,I,!1):h.defaultValue!=null&&ve(e,!!h.multiple,h.defaultValue,!0);break;default:typeof C.onClick=="function"&&(e.onclick=is)}switch(s){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)oh(e,t,e.memoizedProps,h);else{if(typeof h!="string"&&t.stateNode===null)throw Error(n(166));if(s=Tr(pi.current),Tr(xn.current),fs(t)){if(h=t.stateNode,s=t.memoizedProps,h[yn]=t,(I=h.nodeValue!==s)&&(e=Gt,e!==null))switch(e.tag){case 3:os(h.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(h.nodeValue,s,(e.mode&1)!==0)}I&&(t.flags|=4)}else h=(s.nodeType===9?s:s.ownerDocument).createTextNode(h),h[yn]=t,t.stateNode=h}return Mt(t),null;case 13:if(lt(ht),h=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)sf(),so(),t.flags|=98560,I=!1;else if(I=fs(t),h!==null&&h.dehydrated!==null){if(e===null){if(!I)throw Error(n(318));if(I=t.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[yn]=t}else so(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),I=!1}else un!==null&&(ql(un),un=null),I=!0;if(!I)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(h=h!==null,h!==(e!==null&&e.memoizedState!==null)&&h&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ht.current&1)!==0?wt===0&&(wt=3):$l())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return co(),Nl(e,t),e===null&&ai(t.stateNode.containerInfo),Mt(t),null;case 10:return nl(t.type._context),Mt(t),null;case 17:return jt(t.type)&&as(),Mt(t),null;case 19:if(lt(ht),I=t.memoizedState,I===null)return Mt(t),null;if(h=(t.flags&128)!==0,F=I.rendering,F===null)if(h)xi(I,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(F=xs(e),F!==null){for(t.flags|=128,xi(I,!1),h=F.updateQueue,h!==null&&(t.updateQueue=h,t.flags|=4),t.subtreeFlags=0,h=s,s=t.child;s!==null;)I=s,e=h,I.flags&=14680066,F=I.alternate,F===null?(I.childLanes=0,I.lanes=e,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=F.childLanes,I.lanes=F.lanes,I.child=F.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=F.memoizedProps,I.memoizedState=F.memoizedState,I.updateQueue=F.updateQueue,I.type=F.type,e=F.dependencies,I.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ot(ht,ht.current&1|2),t.child}e=e.sibling}I.tail!==null&&ft()>mo&&(t.flags|=128,h=!0,xi(I,!1),t.lanes=4194304)}else{if(!h)if(e=xs(F),e!==null){if(t.flags|=128,h=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),xi(I,!0),I.tail===null&&I.tailMode==="hidden"&&!F.alternate&&!ut)return Mt(t),null}else 2*ft()-I.renderingStartTime>mo&&s!==1073741824&&(t.flags|=128,h=!0,xi(I,!1),t.lanes=4194304);I.isBackwards?(F.sibling=t.child,t.child=F):(s=I.last,s!==null?s.sibling=F:t.child=F,I.last=F)}return I.tail!==null?(t=I.tail,I.rendering=t,I.tail=t.sibling,I.renderingStartTime=ft(),t.sibling=null,s=ht.current,ot(ht,h?s&1|2:s&1),t):(Mt(t),null);case 22:case 23:return Bl(),h=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==h&&(t.flags|=8192),h&&(t.mode&1)!==0?(Jt&1073741824)!==0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function t0(e,t){switch(Ya(t),t.tag){case 1:return jt(t.type)&&as(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return co(),lt(Ot),lt(At),dl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(lt(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(ht),null;case 4:return co(),null;case 10:return nl(t.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var ks=!1,Pt=!1,n0=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ho(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(h){mt(e,t,h)}else s.current=null}function Al(e,t,s){try{s()}catch(h){mt(e,t,h)}}var ih=!1;function r0(e,t){if(Ba=Wi,e=Ld(),Ra(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var h=s.getSelection&&s.getSelection();if(h&&h.rangeCount!==0){s=h.anchorNode;var C=h.anchorOffset,I=h.focusNode;h=h.focusOffset;try{s.nodeType,I.nodeType}catch{s=null;break e}var F=0,Z=-1,te=-1,ce=0,xe=0,we=e,ye=null;t:for(;;){for(var ke;we!==s||C!==0&&we.nodeType!==3||(Z=F+C),we!==I||h!==0&&we.nodeType!==3||(te=F+h),we.nodeType===3&&(F+=we.nodeValue.length),(ke=we.firstChild)!==null;)ye=we,we=ke;for(;;){if(we===e)break t;if(ye===s&&++ce===C&&(Z=F),ye===I&&++xe===h&&(te=F),(ke=we.nextSibling)!==null)break;we=ye,ye=we.parentNode}we=ke}s=Z===-1||te===-1?null:{start:Z,end:te}}else s=null}s=s||{start:0,end:0}}else s=null;for($a={focusedElem:e,selectionRange:s},Wi=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var Ie=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Pe=Ie.memoizedProps,gt=Ie.memoizedState,ie=t.stateNode,oe=ie.getSnapshotBeforeUpdate(t.elementType===t.type?Pe:cn(t.type,Pe),gt);ie.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var le=t.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){mt(t,t.return,Se)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return Ie=ih,ih=!1,Ie}function bi(e,t,s){var h=t.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var C=h=h.next;do{if((C.tag&e)===e){var I=C.destroy;C.destroy=void 0,I!==void 0&&Al(t,s,I)}C=C.next}while(C!==h)}}function Ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var h=s.create;s.destroy=h()}s=s.next}while(s!==t)}}function Il(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function sh(e){var t=e.alternate;t!==null&&(e.alternate=null,sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[ui],delete t[Ga],delete t[qy],delete t[Fy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ah(e){return e.tag===5||e.tag===3||e.tag===4}function lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,s){var h=e.tag;if(h===5||h===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=is));else if(h!==4&&(e=e.child,e!==null))for(Ml(e,t,s),e=e.sibling;e!==null;)Ml(e,t,s),e=e.sibling}function Pl(e,t,s){var h=e.tag;if(h===5||h===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(h!==4&&(e=e.child,e!==null))for(Pl(e,t,s),e=e.sibling;e!==null;)Pl(e,t,s),e=e.sibling}var kt=null,dn=!1;function Xn(e,t,s){for(s=s.child;s!==null;)uh(e,t,s),s=s.sibling}function uh(e,t,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Gr,s)}catch{}switch(s.tag){case 5:Pt||ho(s,t);case 6:var h=kt,C=dn;kt=null,Xn(e,t,s),kt=h,dn=C,kt!==null&&(dn?(e=kt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):kt.removeChild(s.stateNode));break;case 18:kt!==null&&(dn?(e=kt,s=s.stateNode,e.nodeType===8?Ha(e.parentNode,s):e.nodeType===1&&Ha(e,s),Zo(e)):Ha(kt,s.stateNode));break;case 4:h=kt,C=dn,kt=s.stateNode.containerInfo,dn=!0,Xn(e,t,s),kt=h,dn=C;break;case 0:case 11:case 14:case 15:if(!Pt&&(h=s.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){C=h=h.next;do{var I=C,F=I.destroy;I=I.tag,F!==void 0&&((I&2)!==0||(I&4)!==0)&&Al(s,t,F),C=C.next}while(C!==h)}Xn(e,t,s);break;case 1:if(!Pt&&(ho(s,t),h=s.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=s.memoizedProps,h.state=s.memoizedState,h.componentWillUnmount()}catch(Z){mt(s,t,Z)}Xn(e,t,s);break;case 21:Xn(e,t,s);break;case 22:s.mode&1?(Pt=(h=Pt)||s.memoizedState!==null,Xn(e,t,s),Pt=h):Xn(e,t,s);break;default:Xn(e,t,s)}}function ch(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new n0),t.forEach(function(h){var C=f0.bind(null,e,h);s.has(h)||(s.add(h),h.then(C,C))})}}function fn(e,t){var s=t.deletions;if(s!==null)for(var h=0;h<s.length;h++){var C=s[h];try{var I=e,F=t,Z=F;e:for(;Z!==null;){switch(Z.tag){case 5:kt=Z.stateNode,dn=!1;break e;case 3:kt=Z.stateNode.containerInfo,dn=!0;break e;case 4:kt=Z.stateNode.containerInfo,dn=!0;break e}Z=Z.return}if(kt===null)throw Error(n(160));uh(I,F,C),kt=null,dn=!1;var te=C.alternate;te!==null&&(te.return=null),C.return=null}catch(ce){mt(C,t,ce)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}function dh(e,t){var s=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),wn(e),h&4){try{bi(3,e,e.return),Ns(3,e)}catch(Pe){mt(e,e.return,Pe)}try{bi(5,e,e.return)}catch(Pe){mt(e,e.return,Pe)}}break;case 1:fn(t,e),wn(e),h&512&&s!==null&&ho(s,s.return);break;case 5:if(fn(t,e),wn(e),h&512&&s!==null&&ho(s,s.return),e.flags&32){var C=e.stateNode;try{We(C,"")}catch(Pe){mt(e,e.return,Pe)}}if(h&4&&(C=e.stateNode,C!=null)){var I=e.memoizedProps,F=s!==null?s.memoizedProps:I,Z=e.type,te=e.updateQueue;if(e.updateQueue=null,te!==null)try{Z==="input"&&I.type==="radio"&&I.name!=null&&He(C,I),fr(Z,F);var ce=fr(Z,I);for(F=0;F<te.length;F+=2){var xe=te[F],we=te[F+1];xe==="style"?jr(C,we):xe==="dangerouslySetInnerHTML"?ct(C,we):xe==="children"?We(C,we):E(C,xe,we,ce)}switch(Z){case"input":Fe(C,I);break;case"textarea":Ae(C,I);break;case"select":var ye=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!I.multiple;var ke=I.value;ke!=null?ve(C,!!I.multiple,ke,!1):ye!==!!I.multiple&&(I.defaultValue!=null?ve(C,!!I.multiple,I.defaultValue,!0):ve(C,!!I.multiple,I.multiple?[]:"",!1))}C[ui]=I}catch(Pe){mt(e,e.return,Pe)}}break;case 6:if(fn(t,e),wn(e),h&4){if(e.stateNode===null)throw Error(n(162));C=e.stateNode,I=e.memoizedProps;try{C.nodeValue=I}catch(Pe){mt(e,e.return,Pe)}}break;case 3:if(fn(t,e),wn(e),h&4&&s!==null&&s.memoizedState.isDehydrated)try{Zo(t.containerInfo)}catch(Pe){mt(e,e.return,Pe)}break;case 4:fn(t,e),wn(e);break;case 13:fn(t,e),wn(e),C=e.child,C.flags&8192&&(I=C.memoizedState!==null,C.stateNode.isHidden=I,!I||C.alternate!==null&&C.alternate.memoizedState!==null||(Ll=ft())),h&4&&ch(e);break;case 22:if(xe=s!==null&&s.memoizedState!==null,e.mode&1?(Pt=(ce=Pt)||xe,fn(t,e),Pt=ce):fn(t,e),wn(e),h&8192){if(ce=e.memoizedState!==null,(e.stateNode.isHidden=ce)&&!xe&&(e.mode&1)!==0)for(Ne=e,xe=e.child;xe!==null;){for(we=Ne=xe;Ne!==null;){switch(ye=Ne,ke=ye.child,ye.tag){case 0:case 11:case 14:case 15:bi(4,ye,ye.return);break;case 1:ho(ye,ye.return);var Ie=ye.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=ye,s=ye.return;try{t=h,Ie.props=t.memoizedProps,Ie.state=t.memoizedState,Ie.componentWillUnmount()}catch(Pe){mt(h,s,Pe)}}break;case 5:ho(ye,ye.return);break;case 22:if(ye.memoizedState!==null){ph(we);continue}}ke!==null?(ke.return=ye,Ne=ke):ph(we)}xe=xe.sibling}e:for(xe=null,we=e;;){if(we.tag===5){if(xe===null){xe=we;try{C=we.stateNode,ce?(I=C.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(Z=we.stateNode,te=we.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null,Z.style.display=Yt("display",F))}catch(Pe){mt(e,e.return,Pe)}}}else if(we.tag===6){if(xe===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Pe){mt(e,e.return,Pe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===e)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===e)break e;for(;we.sibling===null;){if(we.return===null||we.return===e)break e;xe===we&&(xe=null),we=we.return}xe===we&&(xe=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:fn(t,e),wn(e),h&4&&ch(e);break;case 21:break;default:fn(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(ah(s)){var h=s;break e}s=s.return}throw Error(n(160))}switch(h.tag){case 5:var C=h.stateNode;h.flags&32&&(We(C,""),h.flags&=-33);var I=lh(e);Pl(e,I,C);break;case 3:case 4:var F=h.stateNode.containerInfo,Z=lh(e);Ml(e,Z,F);break;default:throw Error(n(161))}}catch(te){mt(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function o0(e,t,s){Ne=e,fh(e)}function fh(e,t,s){for(var h=(e.mode&1)!==0;Ne!==null;){var C=Ne,I=C.child;if(C.tag===22&&h){var F=C.memoizedState!==null||ks;if(!F){var Z=C.alternate,te=Z!==null&&Z.memoizedState!==null||Pt;Z=ks;var ce=Pt;if(ks=F,(Pt=te)&&!ce)for(Ne=C;Ne!==null;)F=Ne,te=F.child,F.tag===22&&F.memoizedState!==null?mh(C):te!==null?(te.return=F,Ne=te):mh(C);for(;I!==null;)Ne=I,fh(I),I=I.sibling;Ne=C,ks=Z,Pt=ce}hh(e)}else(C.subtreeFlags&8772)!==0&&I!==null?(I.return=C,Ne=I):hh(e)}}function hh(e){for(;Ne!==null;){var t=Ne;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Pt||Ns(5,t);break;case 1:var h=t.stateNode;if(t.flags&4&&!Pt)if(s===null)h.componentDidMount();else{var C=t.elementType===t.type?s.memoizedProps:cn(t.type,s.memoizedProps);h.componentDidUpdate(C,s.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var I=t.updateQueue;I!==null&&cf(t,I,h);break;case 3:var F=t.updateQueue;if(F!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}cf(t,F,s)}break;case 5:var Z=t.stateNode;if(s===null&&t.flags&4){s=Z;var te=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&s.focus();break;case"img":te.src&&(s.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ce=t.alternate;if(ce!==null){var xe=ce.memoizedState;if(xe!==null){var we=xe.dehydrated;we!==null&&Zo(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pt||t.flags&512&&Il(t)}catch(ye){mt(t,t.return,ye)}}if(t===e){Ne=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ne=s;break}Ne=t.return}}function ph(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ne=s;break}Ne=t.return}}function mh(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ns(4,t)}catch(te){mt(t,s,te)}break;case 1:var h=t.stateNode;if(typeof h.componentDidMount=="function"){var C=t.return;try{h.componentDidMount()}catch(te){mt(t,C,te)}}var I=t.return;try{Il(t)}catch(te){mt(t,I,te)}break;case 5:var F=t.return;try{Il(t)}catch(te){mt(t,F,te)}}}catch(te){mt(t,t.return,te)}if(t===e){Ne=null;break}var Z=t.sibling;if(Z!==null){Z.return=t.return,Ne=Z;break}Ne=t.return}}var i0=Math.ceil,As=x.ReactCurrentDispatcher,Rl=x.ReactCurrentOwner,nn=x.ReactCurrentBatchConfig,Ze=0,St=null,xt=null,Nt=0,Jt=0,po=Jn(0),wt=0,wi=null,Er=0,Is=0,Dl=0,_i=null,qt=null,Ll=0,mo=1/0,Pn=null,Ms=!1,Ol=null,er=null,Ps=!1,tr=null,Rs=0,Si=0,jl=null,Ds=-1,Ls=0;function Lt(){return(Ze&6)!==0?ft():Ds!==-1?Ds:Ds=ft()}function nr(e){return(e.mode&1)===0?1:(Ze&2)!==0&&Nt!==0?Nt&-Nt:$y.transition!==null?(Ls===0&&(Ls=Vn()),Ls):(e=et,e!==0||(e=window.event,e=e===void 0?16:md(e.type)),e)}function hn(e,t,s,h){if(50<Si)throw Si=0,jl=null,Error(n(185));vr(e,s,h),((Ze&2)===0||e!==St)&&(e===St&&((Ze&2)===0&&(Is|=s),wt===4&&rr(e,Nt)),Ft(e,h),s===1&&Ze===0&&(t.mode&1)===0&&(mo=ft()+500,us&&Yn()))}function Ft(e,t){var s=e.callbackNode;Jo(e,t);var h=Bn(e,e===St?Nt:0);if(h===0)s!==null&&Fn(s),e.callbackNode=null,e.callbackPriority=0;else if(t=h&-h,e.callbackPriority!==t){if(s!=null&&Fn(s),t===1)e.tag===0?By(vh.bind(null,e)):ef(vh.bind(null,e)),jy(function(){(Ze&6)===0&&Yn()}),s=null;else{switch(zi(h)){case 1:s=Ho;break;case 4:s=$i;break;case 16:s=Hr;break;case 536870912:s=Vi;break;default:s=Hr}s=Ch(s,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function gh(e,t){if(Ds=-1,Ls=0,(Ze&6)!==0)throw Error(n(327));var s=e.callbackNode;if(go()&&e.callbackNode!==s)return null;var h=Bn(e,e===St?Nt:0);if(h===0)return null;if((h&30)!==0||(h&e.expiredLanes)!==0||t)t=Os(e,h);else{t=h;var C=Ze;Ze|=2;var I=xh();(St!==e||Nt!==t)&&(Pn=null,mo=ft()+500,Nr(e,t));do try{l0();break}catch(Z){yh(e,Z)}while(!0);tl(),As.current=I,Ze=C,xt!==null?t=0:(St=null,Nt=0,t=wt)}if(t!==0){if(t===2&&(C=$n(e),C!==0&&(h=C,t=Ul(e,C))),t===1)throw s=wi,Nr(e,0),rr(e,h),Ft(e,ft()),s;if(t===6)rr(e,h);else{if(C=e.current.alternate,(h&30)===0&&!s0(C)&&(t=Os(e,h),t===2&&(I=$n(e),I!==0&&(h=I,t=Ul(e,I))),t===1))throw s=wi,Nr(e,0),rr(e,h),Ft(e,ft()),s;switch(e.finishedWork=C,e.finishedLanes=h,t){case 0:case 1:throw Error(n(345));case 2:Ar(e,qt,Pn);break;case 3:if(rr(e,h),(h&130023424)===h&&(t=Ll+500-ft(),10<t)){if(Bn(e,0)!==0)break;if(C=e.suspendedLanes,(C&h)!==h){Lt(),e.pingedLanes|=e.suspendedLanes&C;break}e.timeoutHandle=za(Ar.bind(null,e,qt,Pn),t);break}Ar(e,qt,Pn);break;case 4:if(rr(e,h),(h&4194240)===h)break;for(t=e.eventTimes,C=-1;0<h;){var F=31-yt(h);I=1<<F,F=t[F],F>C&&(C=F),h&=~I}if(h=C,h=ft()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*i0(h/1960))-h,10<h){e.timeoutHandle=za(Ar.bind(null,e,qt,Pn),h);break}Ar(e,qt,Pn);break;case 5:Ar(e,qt,Pn);break;default:throw Error(n(329))}}}return Ft(e,ft()),e.callbackNode===s?gh.bind(null,e):null}function Ul(e,t){var s=_i;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=Os(e,t),e!==2&&(t=qt,qt=s,t!==null&&ql(t)),e}function ql(e){qt===null?qt=e:qt.push.apply(qt,e)}function s0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var h=0;h<s.length;h++){var C=s[h],I=C.getSnapshot;C=C.value;try{if(!ln(I(),C))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~Dl,t&=~Is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-yt(t),h=1<<s;e[s]=-1,t&=~h}}function vh(e){if((Ze&6)!==0)throw Error(n(327));go();var t=Bn(e,0);if((t&1)===0)return Ft(e,ft()),null;var s=Os(e,t);if(e.tag!==0&&s===2){var h=$n(e);h!==0&&(t=h,s=Ul(e,h))}if(s===1)throw s=wi,Nr(e,0),rr(e,t),Ft(e,ft()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ar(e,qt,Pn),Ft(e,ft()),null}function Fl(e,t){var s=Ze;Ze|=1;try{return e(t)}finally{Ze=s,Ze===0&&(mo=ft()+500,us&&Yn())}}function kr(e){tr!==null&&tr.tag===0&&(Ze&6)===0&&go();var t=Ze;Ze|=1;var s=nn.transition,h=et;try{if(nn.transition=null,et=1,e)return e()}finally{et=h,nn.transition=s,Ze=t,(Ze&6)===0&&Yn()}}function Bl(){Jt=po.current,lt(po)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Oy(s)),xt!==null)for(s=xt.return;s!==null;){var h=s;switch(Ya(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&as();break;case 3:co(),lt(Ot),lt(At),dl();break;case 5:ul(h);break;case 4:co();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:nl(h.type._context);break;case 22:case 23:Bl()}s=s.return}if(St=e,xt=e=or(e.current,null),Nt=Jt=t,wt=0,wi=null,Dl=Is=Er=0,qt=_i=null,Sr!==null){for(t=0;t<Sr.length;t++)if(s=Sr[t],h=s.interleaved,h!==null){s.interleaved=null;var C=h.next,I=s.pending;if(I!==null){var F=I.next;I.next=C,h.next=F}s.pending=h}Sr=null}return e}function yh(e,t){do{var s=xt;try{if(tl(),bs.current=Ts,ws){for(var h=pt.memoizedState;h!==null;){var C=h.queue;C!==null&&(C.pending=null),h=h.next}ws=!1}if(Cr=0,_t=bt=pt=null,mi=!1,gi=0,Rl.current=null,s===null||s.return===null){wt=1,wi=t,xt=null;break}e:{var I=e,F=s.return,Z=s,te=t;if(t=Nt,Z.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ce=te,xe=Z,we=xe.tag;if((xe.mode&1)===0&&(we===0||we===11||we===15)){var ye=xe.alternate;ye?(xe.updateQueue=ye.updateQueue,xe.memoizedState=ye.memoizedState,xe.lanes=ye.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var ke=Vf(F);if(ke!==null){ke.flags&=-257,zf(ke,F,Z,I,t),ke.mode&1&&$f(I,ce,t),t=ke,te=ce;var Ie=t.updateQueue;if(Ie===null){var Pe=new Set;Pe.add(te),t.updateQueue=Pe}else Ie.add(te);break e}else{if((t&1)===0){$f(I,ce,t),$l();break e}te=Error(n(426))}}else if(ut&&Z.mode&1){var gt=Vf(F);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),zf(gt,F,Z,I,t),Xa(fo(te,Z));break e}}I=te=fo(te,Z),wt!==4&&(wt=2),_i===null?_i=[I]:_i.push(I),I=F;do{switch(I.tag){case 3:I.flags|=65536,t&=-t,I.lanes|=t;var ie=Ff(I,te,t);uf(I,ie);break e;case 1:Z=te;var oe=I.type,le=I.stateNode;if((I.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(er===null||!er.has(le)))){I.flags|=65536,t&=-t,I.lanes|=t;var Se=Bf(I,Z,t);uf(I,Se);break e}}I=I.return}while(I!==null)}wh(s)}catch(Re){t=Re,xt===s&&s!==null&&(xt=s=s.return);continue}break}while(!0)}function xh(){var e=As.current;return As.current=Ts,e===null?Ts:e}function $l(){(wt===0||wt===3||wt===2)&&(wt=4),St===null||(Er&268435455)===0&&(Is&268435455)===0||rr(St,Nt)}function Os(e,t){var s=Ze;Ze|=2;var h=xh();(St!==e||Nt!==t)&&(Pn=null,Nr(e,t));do try{a0();break}catch(C){yh(e,C)}while(!0);if(tl(),Ze=s,As.current=h,xt!==null)throw Error(n(261));return St=null,Nt=0,wt}function a0(){for(;xt!==null;)bh(xt)}function l0(){for(;xt!==null&&!ga();)bh(xt)}function bh(e){var t=Th(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?wh(e):xt=t,Rl.current=null}function wh(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=e0(s,t,Jt),s!==null){xt=s;return}}else{if(s=t0(s,t),s!==null){s.flags&=32767,xt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,xt=null;return}}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);wt===0&&(wt=5)}function Ar(e,t,s){var h=et,C=nn.transition;try{nn.transition=null,et=1,u0(e,t,s,h)}finally{nn.transition=C,et=h}return null}function u0(e,t,s,h){do go();while(tr!==null);if((Ze&6)!==0)throw Error(n(327));s=e.finishedWork;var C=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var I=s.lanes|s.childLanes;if(wa(e,I),e===St&&(xt=St=null,Nt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ps||(Ps=!0,Ch(Hr,function(){return go(),null})),I=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||I){I=nn.transition,nn.transition=null;var F=et;et=1;var Z=Ze;Ze|=4,Rl.current=null,r0(e,s),dh(s,e),Ay($a),Wi=!!Ba,$a=Ba=null,e.current=s,o0(s),Bi(),Ze=Z,et=F,nn.transition=I}else e.current=s;if(Ps&&(Ps=!1,tr=e,Rs=C),I=e.pendingLanes,I===0&&(er=null),va(s.stateNode),Ft(e,ft()),t!==null)for(h=e.onRecoverableError,s=0;s<t.length;s++)C=t[s],h(C.value,{componentStack:C.stack,digest:C.digest});if(Ms)throw Ms=!1,e=Ol,Ol=null,e;return(Rs&1)!==0&&e.tag!==0&&go(),I=e.pendingLanes,(I&1)!==0?e===jl?Si++:(Si=0,jl=e):Si=0,Yn(),null}function go(){if(tr!==null){var e=zi(Rs),t=nn.transition,s=et;try{if(nn.transition=null,et=16>e?16:e,tr===null)var h=!1;else{if(e=tr,tr=null,Rs=0,(Ze&6)!==0)throw Error(n(331));var C=Ze;for(Ze|=4,Ne=e.current;Ne!==null;){var I=Ne,F=I.child;if((Ne.flags&16)!==0){var Z=I.deletions;if(Z!==null){for(var te=0;te<Z.length;te++){var ce=Z[te];for(Ne=ce;Ne!==null;){var xe=Ne;switch(xe.tag){case 0:case 11:case 15:bi(8,xe,I)}var we=xe.child;if(we!==null)we.return=xe,Ne=we;else for(;Ne!==null;){xe=Ne;var ye=xe.sibling,ke=xe.return;if(sh(xe),xe===ce){Ne=null;break}if(ye!==null){ye.return=ke,Ne=ye;break}Ne=ke}}}var Ie=I.alternate;if(Ie!==null){var Pe=Ie.child;if(Pe!==null){Ie.child=null;do{var gt=Pe.sibling;Pe.sibling=null,Pe=gt}while(Pe!==null)}}Ne=I}}if((I.subtreeFlags&2064)!==0&&F!==null)F.return=I,Ne=F;else e:for(;Ne!==null;){if(I=Ne,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:bi(9,I,I.return)}var ie=I.sibling;if(ie!==null){ie.return=I.return,Ne=ie;break e}Ne=I.return}}var oe=e.current;for(Ne=oe;Ne!==null;){F=Ne;var le=F.child;if((F.subtreeFlags&2064)!==0&&le!==null)le.return=F,Ne=le;else e:for(F=oe;Ne!==null;){if(Z=Ne,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Ns(9,Z)}}catch(Re){mt(Z,Z.return,Re)}if(Z===F){Ne=null;break e}var Se=Z.sibling;if(Se!==null){Se.return=Z.return,Ne=Se;break e}Ne=Z.return}}if(Ze=C,Yn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Gr,e)}catch{}h=!0}return h}finally{et=s,nn.transition=t}}return!1}function _h(e,t,s){t=fo(s,t),t=Ff(e,t,1),e=Zn(e,t,1),t=Lt(),e!==null&&(vr(e,1,t),Ft(e,t))}function mt(e,t,s){if(e.tag===3)_h(e,e,s);else for(;t!==null;){if(t.tag===3){_h(t,e,s);break}else if(t.tag===1){var h=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(er===null||!er.has(h))){e=fo(s,e),e=Bf(t,e,1),t=Zn(t,e,1),e=Lt(),t!==null&&(vr(t,1,e),Ft(t,e));break}}t=t.return}}function c0(e,t,s){var h=e.pingCache;h!==null&&h.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&s,St===e&&(Nt&s)===s&&(wt===4||wt===3&&(Nt&130023424)===Nt&&500>ft()-Ll?Nr(e,0):Dl|=s),Ft(e,t)}function Sh(e,t){t===0&&((e.mode&1)===0?t=1:(t=mr,mr<<=1,(mr&130023424)===0&&(mr=4194304)));var s=Lt();e=An(e,t),e!==null&&(vr(e,t,s),Ft(e,s))}function d0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Sh(e,s)}function f0(e,t){var s=0;switch(e.tag){case 13:var h=e.stateNode,C=e.memoizedState;C!==null&&(s=C.retryLane);break;case 19:h=e.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(t),Sh(e,s)}var Th;Th=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Ut=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return Ut=!1,Xy(e,t,s);Ut=(e.flags&131072)!==0}else Ut=!1,ut&&(t.flags&1048576)!==0&&tf(t,ds,t.index);switch(t.lanes=0,t.tag){case 2:var h=t.type;Es(e,t),e=t.pendingProps;var C=ro(t,At.current);lo(t,s),C=pl(null,t,h,e,C,s);var I=ml();return t.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(h)?(I=!0,ls(t)):I=!1,t.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,il(t),C.updater=vs,t.stateNode=C,C._reactInternals=t,al(t,h,e,s),t=Sl(null,t,h,!0,I,s)):(t.tag=0,ut&&I&&Ka(t),Dt(null,t,C,s),t=t.child),t;case 16:h=t.elementType;e:{switch(Es(e,t),e=t.pendingProps,C=h._init,h=C(h._payload),t.type=h,C=t.tag=p0(h),e=cn(h,e),C){case 0:t=_l(null,t,h,e,s);break e;case 1:t=Yf(null,t,h,e,s);break e;case 11:t=Hf(null,t,h,e,s);break e;case 14:t=Gf(null,t,h,cn(h.type,e),s);break e}throw Error(n(306,h,""))}return t;case 0:return h=t.type,C=t.pendingProps,C=t.elementType===h?C:cn(h,C),_l(e,t,h,C,s);case 1:return h=t.type,C=t.pendingProps,C=t.elementType===h?C:cn(h,C),Yf(e,t,h,C,s);case 3:e:{if(Qf(t),e===null)throw Error(n(387));h=t.pendingProps,I=t.memoizedState,C=I.element,lf(e,t),gs(t,h,null,s);var F=t.memoizedState;if(h=F.element,I.isDehydrated)if(I={element:h,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},t.updateQueue.baseState=I,t.memoizedState=I,t.flags&256){C=fo(Error(n(423)),t),t=Zf(e,t,h,s,C);break e}else if(h!==C){C=fo(Error(n(424)),t),t=Zf(e,t,h,s,C);break e}else for(Wt=Wn(t.stateNode.containerInfo.firstChild),Gt=t,ut=!0,un=null,s=vf(t,null,h,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(so(),h===C){t=Mn(e,t,s);break e}Dt(e,t,h,s)}t=t.child}return t;case 5:return yf(t),e===null&&Za(t),h=t.type,C=t.pendingProps,I=e!==null?e.memoizedProps:null,F=C.children,Va(h,C)?F=null:I!==null&&Va(h,I)&&(t.flags|=32),Kf(e,t),Dt(e,t,F,s),t.child;case 6:return e===null&&Za(t),null;case 13:return Xf(e,t,s);case 4:return ll(t,t.stateNode.containerInfo),h=t.pendingProps,e===null?t.child=uo(t,null,h,s):Dt(e,t,h,s),t.child;case 11:return h=t.type,C=t.pendingProps,C=t.elementType===h?C:cn(h,C),Hf(e,t,h,C,s);case 7:return Dt(e,t,t.pendingProps,s),t.child;case 8:return Dt(e,t,t.pendingProps.children,s),t.child;case 12:return Dt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(h=t.type._context,C=t.pendingProps,I=t.memoizedProps,F=C.value,ot(hs,h._currentValue),h._currentValue=F,I!==null)if(ln(I.value,F)){if(I.children===C.children&&!Ot.current){t=Mn(e,t,s);break e}}else for(I=t.child,I!==null&&(I.return=t);I!==null;){var Z=I.dependencies;if(Z!==null){F=I.child;for(var te=Z.firstContext;te!==null;){if(te.context===h){if(I.tag===1){te=In(-1,s&-s),te.tag=2;var ce=I.updateQueue;if(ce!==null){ce=ce.shared;var xe=ce.pending;xe===null?te.next=te:(te.next=xe.next,xe.next=te),ce.pending=te}}I.lanes|=s,te=I.alternate,te!==null&&(te.lanes|=s),rl(I.return,s,t),Z.lanes|=s;break}te=te.next}}else if(I.tag===10)F=I.type===t.type?null:I.child;else if(I.tag===18){if(F=I.return,F===null)throw Error(n(341));F.lanes|=s,Z=F.alternate,Z!==null&&(Z.lanes|=s),rl(F,s,t),F=I.sibling}else F=I.child;if(F!==null)F.return=I;else for(F=I;F!==null;){if(F===t){F=null;break}if(I=F.sibling,I!==null){I.return=F.return,F=I;break}F=F.return}I=F}Dt(e,t,C.children,s),t=t.child}return t;case 9:return C=t.type,h=t.pendingProps.children,lo(t,s),C=en(C),h=h(C),t.flags|=1,Dt(e,t,h,s),t.child;case 14:return h=t.type,C=cn(h,t.pendingProps),C=cn(h.type,C),Gf(e,t,h,C,s);case 15:return Wf(e,t,t.type,t.pendingProps,s);case 17:return h=t.type,C=t.pendingProps,C=t.elementType===h?C:cn(h,C),Es(e,t),t.tag=1,jt(h)?(e=!0,ls(t)):e=!1,lo(t,s),hf(t,h,C),al(t,h,C,s),Sl(null,t,h,!0,e,s);case 19:return th(e,t,s);case 22:return Jf(e,t,s)}throw Error(n(156,t.tag))};function Ch(e,t){return zr(e,t)}function h0(e,t,s,h){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,s,h){return new h0(e,t,s,h)}function Vl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p0(e){if(typeof e=="function")return Vl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===L)return 11;if(e===H)return 14}return 2}function or(e,t){var s=e.alternate;return s===null?(s=rn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function js(e,t,s,h,C,I){var F=2;if(h=e,typeof e=="function")Vl(e)&&(F=1);else if(typeof e=="string")F=5;else e:switch(e){case P:return Ir(s.children,C,I,t);case O:F=8,C|=8;break;case U:return e=rn(12,s,t,C|2),e.elementType=U,e.lanes=I,e;case j:return e=rn(13,s,t,C),e.elementType=j,e.lanes=I,e;case $:return e=rn(19,s,t,C),e.elementType=$,e.lanes=I,e;case ne:return Us(s,C,I,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:F=10;break e;case M:F=9;break e;case L:F=11;break e;case H:F=14;break e;case ee:F=16,h=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=rn(F,s,t,C),t.elementType=e,t.type=h,t.lanes=I,t}function Ir(e,t,s,h){return e=rn(7,e,h,t),e.lanes=s,e}function Us(e,t,s,h){return e=rn(22,e,h,t),e.elementType=ne,e.lanes=s,e.stateNode={isHidden:!1},e}function zl(e,t,s){return e=rn(6,e,null,t),e.lanes=s,e}function Hl(e,t,s){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m0(e,t,s,h,C){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zn(0),this.expirationTimes=zn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.identifierPrefix=h,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Gl(e,t,s,h,C,I,F,Z,te){return e=new m0(e,t,s,Z,te),t===1?(t=1,I===!0&&(t|=8)):t=0,I=rn(3,null,null,t),e.current=I,I.stateNode=e,I.memoizedState={element:h,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(I),e}function g0(e,t,s){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:h==null?null:""+h,children:e,containerInfo:t,implementation:s}}function Eh(e){if(!e)return Kn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(jt(s))return Zd(e,s,t)}return t}function kh(e,t,s,h,C,I,F,Z,te){return e=Gl(s,h,!0,e,C,I,F,Z,te),e.context=Eh(null),s=e.current,h=Lt(),C=nr(s),I=In(h,C),I.callback=t??null,Zn(s,I,C),e.current.lanes=C,vr(e,C,h),Ft(e,h),e}function qs(e,t,s,h){var C=t.current,I=Lt(),F=nr(C);return s=Eh(s),t.context===null?t.context=s:t.pendingContext=s,t=In(I,F),t.payload={element:e},h=h===void 0?null:h,h!==null&&(t.callback=h),e=Zn(C,t,F),e!==null&&(hn(e,C,F,I),ms(e,C,F)),F}function Fs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Wl(e,t){Nh(e,t),(e=e.alternate)&&Nh(e,t)}function v0(){return null}var Ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}Bs.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));qs(e,t,null,null)},Bs.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){qs(null,e,null,null)}),t[Cn]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=be();e={blockedOn:null,target:e,priority:t};for(var s=0;s<nt.length&&t!==0&&t<nt[s].priority;s++);nt.splice(s,0,e),s===0&&hd(e)}};function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ih(){}function y0(e,t,s,h,C){if(C){if(typeof h=="function"){var I=h;h=function(){var ce=Fs(F);I.call(ce)}}var F=kh(t,h,e,0,null,!1,!1,"",Ih);return e._reactRootContainer=F,e[Cn]=F.current,ai(e.nodeType===8?e.parentNode:e),kr(),F}for(;C=e.lastChild;)e.removeChild(C);if(typeof h=="function"){var Z=h;h=function(){var ce=Fs(te);Z.call(ce)}}var te=Gl(e,0,!1,null,null,!1,!1,"",Ih);return e._reactRootContainer=te,e[Cn]=te.current,ai(e.nodeType===8?e.parentNode:e),kr(function(){qs(t,te,s,h)}),te}function Vs(e,t,s,h,C){var I=s._reactRootContainer;if(I){var F=I;if(typeof C=="function"){var Z=C;C=function(){var te=Fs(F);Z.call(te)}}qs(t,F,e,C)}else F=y0(s,t,e,C,h);return Fs(F)}Hi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=gr(t.pendingLanes);s!==0&&(Ko(t,s|1),Ft(t,ft()),(Ze&6)===0&&(mo=ft()+500,Yn()))}break;case 13:kr(function(){var h=An(e,1);if(h!==null){var C=Lt();hn(h,e,1,C)}}),Wl(e,1)}},Yo=function(e){if(e.tag===13){var t=An(e,134217728);if(t!==null){var s=Lt();hn(t,e,134217728,s)}Wl(e,134217728)}},se=function(e){if(e.tag===13){var t=nr(e),s=An(e,t);if(s!==null){var h=Lt();hn(s,e,t,h)}Wl(e,t)}},be=function(){return et},_e=function(e,t){var s=et;try{return et=e,t()}finally{et=s}},on=function(e,t,s){switch(t){case"input":if(Fe(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var h=s[t];if(h!==e&&h.form===e.form){var C=ss(h);if(!C)throw Error(n(90));Te(h),Fe(h,C)}}}break;case"textarea":Ae(e,s);break;case"select":t=s.value,t!=null&&ve(e,!!s.multiple,t,!1)}},Fi=Fl,jo=kr;var x0={usingClientEntryPoint:!1,Events:[ci,to,ss,Ui,qi,Fl]},Ti={findFiberByHostInstance:xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},b0={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vo(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{Gr=zs.inject(b0),Qt=zs}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0,Bt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(t))throw Error(n(200));return g0(e,t,null,s)},Bt.createRoot=function(e,t){if(!Kl(e))throw Error(n(299));var s=!1,h="",C=Ah;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(h=t.identifierPrefix),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=Gl(e,1,!1,null,null,s,!1,h,C),e[Cn]=t.current,ai(e.nodeType===8?e.parentNode:e),new Jl(t)},Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Vo(t),e=e===null?null:e.stateNode,e},Bt.flushSync=function(e){return kr(e)},Bt.hydrate=function(e,t,s){if(!$s(t))throw Error(n(200));return Vs(null,e,t,!0,s)},Bt.hydrateRoot=function(e,t,s){if(!Kl(e))throw Error(n(405));var h=s!=null&&s.hydratedSources||null,C=!1,I="",F=Ah;if(s!=null&&(s.unstable_strictMode===!0&&(C=!0),s.identifierPrefix!==void 0&&(I=s.identifierPrefix),s.onRecoverableError!==void 0&&(F=s.onRecoverableError)),t=kh(t,null,e,1,s??null,C,!1,I,F),e[Cn]=t.current,ai(e),h)for(e=0;e<h.length;e++)s=h[e],C=s._getVersion,C=C(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,C]:t.mutableSourceEagerHydrationData.push(s,C);return new Bs(t)},Bt.render=function(e,t,s){if(!$s(t))throw Error(n(200));return Vs(null,e,t,!1,s)},Bt.unmountComponentAtNode=function(e){if(!$s(e))throw Error(n(40));return e._reactRootContainer?(kr(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1},Bt.unstable_batchedUpdates=Fl,Bt.unstable_renderSubtreeIntoContainer=function(e,t,s,h){if(!$s(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Vs(e,t,s,!1,h)},Bt.version="18.2.0-next-9e3b772b8-20220608",Bt}var Uh;function av(){if(Uh)return Zl.exports;Uh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Zl.exports=A0(),Zl.exports}var qh;function I0(){if(qh)return Gs;qh=1;var o=av();return Gs.createRoot=o.createRoot,Gs.hydrateRoot=o.hydrateRoot,Gs}var M0=I0();const P0=aa(M0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fh;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fh||(Fh={}));var Bh;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Bh||(Bh={}));var $h;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})($h||($h={}));var Vh;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vh||(Vh={}));var zh;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(zh||(zh={}));var Hh;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Hh||(Hh={}));var Gh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Gh||(Gh={}));var Wh;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(Wh||(Wh={}));var Jh;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jh||(Jh={}));var Kh;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Kh||(Kh={}));var Yh;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Yh||(Yh={}));var Qh;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Qh||(Qh={}));var Zh;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Zh||(Zh={}));var Xh;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xh||(Xh={}));var ep;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY"})(ep||(ep={}));var tp;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tp||(tp={}));var np;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(np||(np={}));var rp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rp||(rp={}));var op;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(op||(op={}));var ip;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ip||(ip={}));var sp;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(sp||(sp={}));var ap;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(ap||(ap={}));var lp;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(lp||(lp={}));var up;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(up||(up={}));var cp;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(cp||(cp={}));var dp;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(dp||(dp={}));var fp;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(fp||(fp={}));var hp;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hp||(hp={}));var pp;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pp||(pp={}));var mp;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mp||(mp={}));var gp;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gp||(gp={}));var vp;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(vp||(vp={}));var yp;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(yp||(yp={}));var xp;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(xp||(xp={}));var bp;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(bp||(bp={}));var wp;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wp||(wp={}));var _p;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_p||(_p={}));var Sp;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(Sp||(Sp={}));var Tp;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tp||(Tp={}));var Cp;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(Cp||(Cp={}));var Ep;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ep||(Ep={}));var kp;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(kp||(kp={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Np;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Np||(Np={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R0="1.10.0",D1=`google-genai-sdk/${R0}`;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L1=1024*1024*8;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0="modulepreload",L0=function(o){return"/"+o},Ap={},Li=function(r,n,i){let l=Promise.resolve();if(n&&n.length>0){let c=function(y){return Promise.all(y.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),v=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));l=c(n.map(y=>{if(y=L0(y),y in Ap)return;Ap[y]=!0;const m=y.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${f}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":D0,m||(d.as="script"),d.crossOrigin="",d.href=y,v&&d.setAttribute("nonce",v),document.head.appendChild(d),m)return new Promise((p,_)=>{d.addEventListener("load",p),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(c){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=c,window.dispatchEvent(g),!g.defaultPrevented)throw c}return l.then(c=>{for(const g of c||[])g.status==="rejected"&&u(g.reason);return r().catch(u)})},O0=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...n)=>Li(async()=>{const{default:i}=await Promise.resolve().then(()=>Mo);return{default:i}},void 0).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)};class nd extends Error{constructor(r,n="FunctionsError",i){super(r),this.name=n,this.context=i}}class j0 extends nd{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ip extends nd{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Mp extends nd{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Hc;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Hc||(Hc={}));var U0=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};class q0{constructor(r,{headers:n={},customFetch:i,region:l=Hc.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=O0(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var i;return U0(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:c}=n;let g={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let m;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(g["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(g["Content-Type"]="application/json",m=JSON.stringify(c)));const f=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:m}).catch(S=>{throw new j0(S)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new Ip(f);if(!f.ok)throw new Mp(f);let p=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield f.json():p==="application/octet-stream"?_=yield f.blob():p==="text/event-stream"?_=f:p==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(l){return{data:null,error:l,response:l instanceof Mp||l instanceof Ip?l.context:void 0}}})}}var Ct={},vo={},yo={},xo={},bo={},wo={},F0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Io=F0();const B0=Io.fetch,lv=Io.fetch.bind(Io),uv=Io.Headers,$0=Io.Request,V0=Io.Response,Mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:uv,Request:$0,Response:V0,default:lv,fetch:B0},Symbol.toStringTag,{value:"Module"})),z0=S0(Mo);var Ws={},Pp;function cv(){if(Pp)return Ws;Pp=1,Object.defineProperty(Ws,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ws.default=o,Ws}var Rp;function dv(){if(Rp)return wo;Rp=1;var o=wo&&wo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(wo,"__esModule",{value:!0});const r=o(z0),n=o(cv());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=Object.assign({},this.headers),this.headers[u]=c,this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const g=this.fetch;let v=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var m,f,d;let p=null,_=null,S=null,w=y.status,T=y.statusText;if(y.ok){if(this.method!=="HEAD"){const N=await y.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=N:_=JSON.parse(N))}const E=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),x=(f=y.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");E&&x&&x.length>1&&(S=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(p={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,w=406,T="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const E=await y.text();try{p=JSON.parse(E),Array.isArray(p)&&y.status===404&&(_=[],p=null,w=200,T="OK")}catch{y.status===404&&E===""?(w=204,T="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((d=p==null?void 0:p.details)===null||d===void 0)&&d.includes("0 rows"))&&(p=null,w=200,T="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:_,count:S,status:w,statusText:T}});return this.shouldThrowOnError||(v=v.catch(y=>{var m,f,d;return{error:{message:`${(m=y==null?void 0:y.name)!==null&&m!==void 0?m:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(f=y==null?void 0:y.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=y==null?void 0:y.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),v.then(u,c)}returns(){return this}overrideTypes(){return this}}return wo.default=i,wo}var Dp;function fv(){if(Dp)return bo;Dp=1;var o=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0});const r=o(dv());class n extends r.default{select(l){let u=!1;const c=(l??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:g,referencedTable:v=g}={}){const y=v?`${v}.order`:"order",m=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${m?`${m},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const g=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(g,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:g=c}={}){const v=typeof g>"u"?"offset":`${g}.offset`,y=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(v,`${l}`),this.url.searchParams.set(y,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:g=!1,wal:v=!1,format:y="text"}={}){var m;const f=[l?"analyze":null,u?"verbose":null,c?"settings":null,g?"buffers":null,v?"wal":null].filter(Boolean).join("|"),d=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${d}"; options=${f};`,y==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bo.default=n,bo}var Lp;function rd(){if(Lp)return xo;Lp=1;var o=xo&&xo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xo,"__esModule",{value:!0});const r=o(fv());class n extends r.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const c=Array.from(new Set(u)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:c,type:g}={}){let v="";g==="plain"?v="pl":g==="phrase"?v="ph":g==="websearch"&&(v="w");const y=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${v}fts${y}.${u}`),this}match(l){return Object.entries(l).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(l,u,c){return this.url.searchParams.append(l,`not.${u}.${c}`),this}or(l,{foreignTable:u,referencedTable:c=u}={}){const g=c?`${c}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,u,c){return this.url.searchParams.append(l,`${u}.${c}`),this}}return xo.default=n,xo}var Op;function hv(){if(Op)return yo;Op=1;var o=yo&&yo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yo,"__esModule",{value:!0});const r=o(rd());class n{constructor(l,{headers:u={},schema:c,fetch:g}){this.url=l,this.headers=u,this.schema=c,this.fetch=g}select(l,{head:u=!1,count:c}={}){const g=u?"HEAD":"GET";let v=!1;const y=(l??"*").split("").map(m=>/\s/.test(m)&&!v?"":(m==='"'&&(v=!v),m)).join("");return this.url.searchParams.set("select",y),c&&(this.headers.Prefer=`count=${c}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:c=!0}={}){const g="POST",v=[];if(this.headers.Prefer&&v.push(this.headers.Prefer),u&&v.push(`count=${u}`),c||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(y.length>0){const m=[...new Set(y)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:g,defaultToNull:v=!0}={}){const y="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&m.push(this.headers.Prefer),g&&m.push(`count=${g}`),v||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const f=l.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(f.length>0){const d=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const c="PATCH",g=[];return this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),this.headers.Prefer=g.join(","),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yo.default=n,yo}var Ei={},ki={},jp;function H0(){return jp||(jp=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.version=void 0,ki.version="0.0.0-automated"),ki}var Up;function G0(){if(Up)return Ei;Up=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.DEFAULT_HEADERS=void 0;const o=H0();return Ei.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},Ei}var qp;function W0(){if(qp)return vo;qp=1;var o=vo&&vo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(vo,"__esModule",{value:!0});const r=o(hv()),n=o(rd()),i=G0();class l{constructor(c,{headers:g={},schema:v,fetch:y}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),g),this.schemaName=v,this.fetch=y}from(c){const g=new URL(`${this.url}/${c}`);return new r.default(g,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,g={},{head:v=!1,get:y=!1,count:m}={}){let f;const d=new URL(`${this.url}/rpc/${c}`);let p;v||y?(f=v?"HEAD":"GET",Object.entries(g).filter(([S,w])=>w!==void 0).map(([S,w])=>[S,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([S,w])=>{d.searchParams.append(S,w)})):(f="POST",p=g);const _=Object.assign({},this.headers);return m&&(_.Prefer=`count=${m}`),new n.default({method:f,url:d,headers:_,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return vo.default=l,vo}var Fp;function J0(){if(Fp)return Ct;Fp=1;var o=Ct&&Ct.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const r=o(W0());Ct.PostgrestClient=r.default;const n=o(hv());Ct.PostgrestQueryBuilder=n.default;const i=o(rd());Ct.PostgrestFilterBuilder=i.default;const l=o(fv());Ct.PostgrestTransformBuilder=l.default;const u=o(dv());Ct.PostgrestBuilder=u.default;const c=o(cv());return Ct.PostgrestError=c.default,Ct.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Ct}var K0=J0();const Y0=aa(K0),{PostgrestClient:Q0,PostgrestQueryBuilder:O1,PostgrestFilterBuilder:j1,PostgrestTransformBuilder:U1,PostgrestBuilder:q1,PostgrestError:F1}=Y0;function Z0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const X0=Z0(),ex="2.11.15",tx=`realtime-js/${ex}`,nx="1.0.0",pv=1e4,rx=1e3;var Mi;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Mi||(Mi={}));var Rt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Rt||(Rt={}));var gn;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(gn||(gn={}));var Gc;(function(o){o.websocket="websocket"})(Gc||(Gc={}));var Lr;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Lr||(Lr={}));class ox{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,n,i)}_decodeBroadcast(r,n,i){const l=n.getUint8(1),u=n.getUint8(2);let c=this.HEADER_LENGTH+2;const g=i.decode(r.slice(c,c+l));c=c+l;const v=i.decode(r.slice(c,c+u));c=c+u;const y=JSON.parse(i.decode(r.slice(c,r.byteLength)));return{ref:null,topic:g,event:v,payload:y}}}class mv{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(it||(it={}));const Bp=(o,r,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(r).reduce((u,c)=>(u[c]=ix(c,o,r,l),u),{})},ix=(o,r,n,i)=>{const l=r.find(g=>g.name===o),u=l==null?void 0:l.type,c=n[o];return u&&!i.includes(u)?gv(u,c):Wc(c)},gv=(o,r)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return ux(r,n)}switch(o){case it.bool:return sx(r);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return ax(r);case it.json:case it.jsonb:return lx(r);case it.timestamp:return cx(r);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Wc(r);default:return Wc(r)}},Wc=o=>o,sx=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},ax=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},lx=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(r){return console.log(`JSON parse error: ${r}`),o}return o},ux=(o,r)=>{if(typeof o!="string")return o;const n=o.length-1,i=o[n];if(o[0]==="{"&&i==="}"){let u;const c=o.slice(1,n);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(g=>gv(r,g))}return o},cx=o=>typeof o=="string"?o.replace(" ","T"):o,vv=o=>{let r=o;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class tu{constructor(r,n,i={},l=pv){this.channel=r,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var i;return this._hasReceived(r)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var $p;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})($p||($p={}));class Pi{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:c,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pi.syncState(this.state,l,u,c),this.pendingDiffs.forEach(v=>{this.state=Pi.syncDiff(this.state,v,u,c)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Pi.syncDiff(this.state,l,u,c),g())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,i,l){const u=this.cloneDeep(r),c=this.transformState(n),g={},v={};return this.map(u,(y,m)=>{c[y]||(v[y]=m)}),this.map(c,(y,m)=>{const f=u[y];if(f){const d=m.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),_=m.filter(w=>p.indexOf(w.presence_ref)<0),S=f.filter(w=>d.indexOf(w.presence_ref)<0);_.length>0&&(g[y]=_),S.length>0&&(v[y]=S)}else g[y]=m}),this.syncDiff(u,{joins:g,leaves:v},i,l)}static syncDiff(r,n,i,l){const{joins:u,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(g,v)=>{var y;const m=(y=r[g])!==null&&y!==void 0?y:[];if(r[g]=this.cloneDeep(v),m.length>0){const f=r[g].map(p=>p.presence_ref),d=m.filter(p=>f.indexOf(p.presence_ref)<0);r[g].unshift(...d)}i(g,m,v)}),this.map(c,(g,v)=>{let y=r[g];if(!y)return;const m=v.map(f=>f.presence_ref);y=y.filter(f=>m.indexOf(f.presence_ref)<0),r[g]=y,l(g,y,v),y.length===0&&delete r[g]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(i=>n(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,i)=>{const l=r[i];return"metas"in l?n[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vp;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Vp||(Vp={}));var zp;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(zp||(zp={}));var Ln;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class od{constructor(r,n={config:{}},i){this.topic=r,this.params=n,this.socket=i,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,gn.join,this.params,this.timeout),this.rejoinTimer=new mv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Pi(this),this.broadcastEndpointURL=vv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:u,presence:c,private:g}}=this.params;this._onError(m=>r==null?void 0:r(Ln.CHANNEL_ERROR,m)),this._onClose(()=>r==null?void 0:r(Ln.CLOSED));const v={},y={broadcast:u,presence:c,postgres_changes:(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&l!==void 0?l:[],private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket.setAuth(),m===void 0){r==null||r(Ln.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,p=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,_=[];for(let S=0;S<p;S++){const w=d[S],{filter:{event:T,schema:b,table:E,filter:x}}=w,N=m&&m[S];if(N&&N.event===T&&N.schema===b&&N.table===E&&N.filter===x)_.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=Rt.errored,r==null||r(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,r&&r(Ln.SUBSCRIBED);return}}).receive("error",m=>{this.state=Rt.errored,r==null||r(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,i){return this._on(r,n,i)}async send(r,n={}){var i,l;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:c}=r,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,g,v;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((v=(g=(c=this.params)===null||c===void 0?void 0:c.config)===null||g===void 0?void 0:g.broadcast)===null||v===void 0)&&v.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new tu(this,gn.leave,{},r),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,n,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),c}_push(r,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new tu(this,r,n,i);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(r,n,i){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,i){var l,u;const c=r.toLocaleLowerCase(),{close:g,error:v,leave:y,join:m}=gn;if(i&&[g,v,y,m].indexOf(c)>=0&&i!==this._joinRef())return;let d=this._onMessage(c,n,i);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(p=>{var _,S,w;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(S=p.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(p=>p.callback(d,i)):(u=this.bindings[c])===null||u===void 0||u.filter(p=>{var _,S,w,T,b,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in p){const x=p.id,N=(_=p.filter)===null||_===void 0?void 0:_.event;return x&&((S=n.ids)===null||S===void 0?void 0:S.includes(x))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const x=(b=(T=p==null?void 0:p.filter)===null||T===void 0?void 0:T.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return x==="*"||x===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===c}).map(p=>{if(typeof d=="object"&&"ids"in d){const _=d.data,{schema:S,table:w,commit_timestamp:T,type:b,errors:E}=_;d=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:T,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(_))}p.callback(d,i)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,i){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const i=r.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&od.isEqual(l.filter,n))}),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const i in r)if(r[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(gn.close,{},r)}_onError(r){this._on(gn.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Bp(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Bp(r.columns,r.old_record)),n}}const Hp=()=>{},dx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fx{constructor(r,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hp,this.ref=0,this.logger=Hp,this.conn=null,this.sendBuffer=[],this.serializer=new ox,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...g)=>Li(async()=>{const{default:v}=await Promise.resolve().then(()=>Mo);return{default:v}},void 0).then(({default:v})=>v(...g)):c=fetch,(...g)=>c(...g)},this.endPoint=`${r}/${Gc.websocket}`,this.httpEndpoint=vv(r),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const l=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,c)=>c(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=X0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nx}))}disconnect(r,n){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,i){this.logger(r,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Mi.connecting:return Lr.Connecting;case Mi.open:return Lr.Open;case Mi.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}channel(r,n={config:{}}){const i=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new od(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:i,payload:l,ref:u}=r,c=()=>{this.encode(r,g=>{var v;(v=this.conn)===null||v===void 0||v.send(g)})};this.log("push",`${n} ${i} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){let n=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:tx};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(gn.access_token,{access_token:n})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(rx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,n=>{let{topic:i,event:l,payload:u,ref:c}=n;i==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${i} ${l} ${c&&"("+c+")"||""}`,u),Array.from(this.channels).filter(g=>g._isMember(i)).forEach(g=>g._trigger(l,u,c)),this.stateChangeCallbacks.message.forEach(g=>g(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(gn.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const i=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${i}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const i=new Blob([dx],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class id extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Et(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class hx extends id{constructor(r,n){super(r),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jc extends id{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var px=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};const yv=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...n)=>Li(async()=>{const{default:i}=await Promise.resolve().then(()=>Mo);return{default:i}},void 0).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},mx=()=>px(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Li(()=>Promise.resolve().then(()=>Mo),void 0)).Response:Response}),Kc=o=>{if(Array.isArray(o))return o.map(n=>Kc(n));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Kc(i)}),r};var Or=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};const nu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),gx=(o,r,n)=>Or(void 0,void 0,void 0,function*(){const i=yield mx();o instanceof i&&!(n!=null&&n.noResolveJson)?o.json().then(l=>{r(new hx(nu(l),o.status||500))}).catch(l=>{r(new Jc(nu(l),l))}):r(new Jc(nu(o),o))}),vx=(o,r,n,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),i&&(l.body=JSON.stringify(i)),Object.assign(Object.assign({},l),n))};function Oi(o,r,n,i,l,u){return Or(this,void 0,void 0,function*(){return new Promise((c,g)=>{o(n,vx(r,i,l,u)).then(v=>{if(!v.ok)throw v;return i!=null&&i.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>gx(v,g,i))})})}function oa(o,r,n,i){return Or(this,void 0,void 0,function*(){return Oi(o,"GET",r,n,i)})}function lr(o,r,n,i,l){return Or(this,void 0,void 0,function*(){return Oi(o,"POST",r,i,l,n)})}function yx(o,r,n,i,l){return Or(this,void 0,void 0,function*(){return Oi(o,"PUT",r,i,l,n)})}function xx(o,r,n,i){return Or(this,void 0,void 0,function*(){return Oi(o,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function xv(o,r,n,i,l){return Or(this,void 0,void 0,function*(){return Oi(o,"DELETE",r,i,l,n)})}var $t=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};const bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wx{constructor(r,n={},i,l){this.url=r,this.headers=n,this.bucketId=i,this.fetch=yv(l)}uploadOrUpdate(r,n,i,l){return $t(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Gp),l);let g=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),v&&u.append("metadata",this.encodeMetadata(v)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),v&&u.append("metadata",this.encodeMetadata(v))):(u=i,g["cache-control"]=`max-age=${c.cacheControl}`,g["content-type"]=c.contentType,v&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),l!=null&&l.headers&&(g=Object.assign(Object.assign({},g),l.headers));const y=this._removeEmptyFolders(n),m=this._getFinalPath(y),f=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:r,body:u,headers:g},c!=null&&c.duplex?{duplex:c.duplex}:{})),d=yield f.json();return f.ok?{data:{path:y,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(u){if(Et(u))return{data:null,error:u};throw u}})}upload(r,n,i){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,i)})}uploadToSignedUrl(r,n,i,l){return $t(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),g=new URL(this.url+`/object/upload/sign/${c}`);g.searchParams.set("token",n);try{let v;const y=Object.assign({upsert:Gp.upsert},l),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",y.cacheControl)):(v=i,m["cache-control"]=`max-age=${y.cacheControl}`,m["content-type"]=y.contentType);const f=yield this.fetch(g.toString(),{method:"PUT",body:v,headers:m}),d=yield f.json();return f.ok?{data:{path:u,fullPath:d.Key},error:null}:{data:null,error:d}}catch(v){if(Et(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(r,n){return $t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield lr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+u.url),g=c.searchParams.get("token");if(!g)throw new id("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:g},error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}update(r,n,i){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,i)})}move(r,n,i){return $t(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}copy(r,n,i){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,i){return $t(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield lr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,i){return $t(this,void 0,void 0,function*(){try{const l=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}download(r,n){return $t(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=u?`?${u}`:"";try{const g=this._getFinalPath(r);return{data:yield(yield oa(this.fetch,`${this.url}/${l}/${g}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Et(g))return{data:null,error:g};throw g}})}info(r){return $t(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const i=yield oa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kc(i),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}exists(r){return $t(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield xx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Et(i)&&i instanceof Jc){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const g=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});v!==""&&l.push(v);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${i}${y}`)}}}remove(r){return $t(this,void 0,void 0,function*(){try{return{data:yield xv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}list(r,n,i){return $t(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},bx),n),{prefix:r||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const _x="2.7.1",Sx={"X-Client-Info":`storage-js/${_x}`};var _o=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};class Tx{constructor(r,n={},i){this.url=r,this.headers=Object.assign(Object.assign({},Sx),n),this.fetch=yv(i)}listBuckets(){return _o(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}getBucket(r){return _o(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return _o(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}updateBucket(r,n){return _o(this,void 0,void 0,function*(){try{return{data:yield yx(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}emptyBucket(r){return _o(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}deleteBucket(r){return _o(this,void 0,void 0,function*(){try{return{data:yield xv(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}}class Cx extends Tx{constructor(r,n={},i){super(r,n,i)}from(r){return new wx(this.url,this.headers,r,this.fetch)}}const Ex="2.52.1";let Ni="";typeof Deno<"u"?Ni="deno":typeof document<"u"?Ni="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ni="react-native":Ni="node";const kx={"X-Client-Info":`supabase-js-${Ni}/${Ex}`},Nx={headers:kx},Ax={schema:"public"},Ix={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mx={};var Px=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};const Rx=o=>{let r;return o?r=o:typeof fetch>"u"?r=lv:r=fetch,(...n)=>r(...n)},Dx=()=>typeof Headers>"u"?uv:Headers,Lx=(o,r,n)=>{const i=Rx(n),l=Dx();return(u,c)=>Px(void 0,void 0,void 0,function*(){var g;const v=(g=yield r())!==null&&g!==void 0?g:o;let y=new l(c==null?void 0:c.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),i(u,Object.assign(Object.assign({},c),{headers:y}))})};var Ox=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};function jx(o){return o.endsWith("/")?o:o+"/"}function Ux(o,r){var n,i;const{db:l,auth:u,realtime:c,global:g}=o,{db:v,auth:y,realtime:m,global:f}=r,d={db:Object.assign(Object.assign({},v),l),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},m),c),global:Object.assign(Object.assign(Object.assign({},f),g),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(i=g==null?void 0:g.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Ox(this,void 0,void 0,function*(){return""})};return o.accessToken?d.accessToken=o.accessToken:delete d.accessToken,d}const bv="2.71.1",No=30*1e3,Yc=3,ru=Yc*No,qx="http://localhost:9999",Fx="supabase.auth.token",Bx={"X-Client-Info":`gotrue-js/${bv}`},Qc="X-Supabase-Api-Version",wv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$x=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vx=600*1e3;class sd extends Error{constructor(r,n,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ze(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class zx extends sd{constructor(r,n,i){super(r,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Hx(o){return ze(o)&&o.name==="AuthApiError"}class _v extends sd{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class cr extends sd{constructor(r,n,i,l){super(r,i,l),this.name=n,this.status=i}}class ar extends cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gx(o){return ze(o)&&o.name==="AuthSessionMissingError"}class Js extends cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ks extends cr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ys extends cr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wx(o){return ze(o)&&o.name==="AuthImplicitGrantRedirectError"}class Wp extends cr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zc extends cr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function ou(o){return ze(o)&&o.name==="AuthRetryableFetchError"}class Jp extends cr{constructor(r,n,i){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Xc extends cr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ia="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kp=` 	
\r=`.split(""),Jx=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<Kp.length;r+=1)o[Kp[r].charCodeAt(0)]=-2;for(let r=0;r<ia.length;r+=1)o[ia[r].charCodeAt(0)]=r;return o})();function Yp(o,r,n){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(ia[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(ia[i]),r.queuedBits-=6}}function Sv(o,r,n){const i=Jx[o];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Qp(o){const r=[],n=c=>{r.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{Qx(c,i,n)};for(let c=0;c<o.length;c+=1)Sv(o.charCodeAt(c),l,u);return r.join("")}function Kx(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Yx(o,r){for(let n=0;n<o.length;n+=1){let i=o.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(o.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Kx(i,r)}}function Qx(o,r,n){if(r.utf8seq===0){if(o<=127){n(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Zx(o){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};for(let l=0;l<o.length;l+=1)Sv(o.charCodeAt(l),n,i);return new Uint8Array(r)}function Xx(o){const r=[];return Yx(o,n=>r.push(n)),new Uint8Array(r)}function eb(o){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};return o.forEach(l=>Yp(l,n,i)),Yp(null,n,i),r.join("")}function tb(o){return Math.round(Date.now()/1e3)+o}function nb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const r=Math.random()*16|0;return(o=="x"?r:r&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",Mr={tested:!1,writable:!1},Tv=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mr.tested)return Mr.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Mr.tested=!0,Mr.writable=!0}catch{Mr.tested=!0,Mr.writable=!1}return Mr.writable};function rb(o){const r={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((i,l)=>{r[l]=i}),r}const Cv=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...n)=>Li(async()=>{const{default:i}=await Promise.resolve().then(()=>Mo);return{default:i}},void 0).then(({default:i})=>i(...n)):r=fetch,(...n)=>r(...n)},ob=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Ao=async(o,r,n)=>{await o.setItem(r,JSON.stringify(n))},Pr=async(o,r)=>{const n=await o.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},sr=async(o,r)=>{await o.removeItem(r)};class ua{constructor(){this.promise=new ua.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}ua.promiseConstructor=Promise;function iu(o){const r=o.split(".");if(r.length!==3)throw new Xc("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!$x.test(r[i]))throw new Xc("JWT not in base64url format");return{header:JSON.parse(Qp(r[0])),payload:JSON.parse(Qp(r[1])),signature:Zx(r[2]),raw:{header:r[0],payload:r[1]}}}async function ib(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function sb(o,r){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await o(u);if(!r(u,null,c)){i(c);return}}catch(c){if(!r(u,c)){l(c);return}}})()})}function ab(o){return("0"+o.toString(16)).substr(-2)}function lb(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(r),Array.from(r,ab).join("")}async function ub(o){const n=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function cb(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await ub(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(o,r,n=!1){const i=lb();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await Ao(o,`${r}-code-verifier`,l);const u=await cb(i);return[u,i===u?"plain":"s256"]}const db=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fb(o){const r=o.headers.get(Qc);if(!r||!r.match(db))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function hb(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function pb(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(o){if(!mb.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function su(){const o={};return new Proxy(o,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zp(o){return JSON.parse(JSON.stringify(o))}var gb=function(o,r){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(o);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(o,i[l])&&(n[i[l]]=o[i[l]]);return n};const Dr=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),vb=[502,503,504];async function Xp(o){var r;if(!ob(o))throw new Zc(Dr(o),0);if(vb.includes(o.status))throw new Zc(Dr(o),o.status);let n;try{n=await o.json()}catch(u){throw new _v(Dr(u),u)}let i;const l=fb(o);if(l&&l.getTime()>=wv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Jp(Dr(n),o.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Jp(Dr(n),o.status,n.weak_password.reasons);throw new zx(Dr(n),o.status||500,i)}const yb=(o,r,n,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function Ye(o,r,n,i){var l;const u=Object.assign({},i==null?void 0:i.headers);u[Qc]||(u[Qc]=wv["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const g=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await xb(o,r,n+g,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(v):{data:Object.assign({},v),error:null}}async function xb(o,r,n,i,l,u){const c=yb(r,i,l,u);let g;try{g=await o(n,Object.assign({},c))}catch(v){throw console.error(v),new Zc(Dr(v),0)}if(g.ok||await Xp(g),i!=null&&i.noResolveJson)return g;try{return await g.json()}catch(v){await Xp(v)}}function Dn(o){var r;let n=null;Sb(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=tb(o.expires_in)));const i=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:n,user:i},error:null}}function em(o){const r=Dn(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(r.data.weak_password=o.weak_password),r}function ur(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function bb(o){return{data:o,error:null}}function wb(o){const{action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u}=o,c=gb(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u},v=Object.assign({},c);return{data:{properties:g,user:v},error:null}}function _b(o){return o}function Sb(o){return o.access_token&&o.refresh_token&&o.expires_in}const au=["global","local","others"];var Tb=function(o,r){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(o);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(o,i[l])&&(n[i[l]]=o[i[l]]);return n};class Cb{constructor({url:r="",headers:n={},fetch:i}){this.url=r,this.headers=n,this.fetch=Cv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n=au[0]){if(au.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${au.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,n={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ur})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:n}=r,i=Tb(r,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:wb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:ur})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,i,l,u,c,g,v;try{const y={nextPage:null,lastPage:0,total:0},m=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_b});if(m.error)throw m.error;const f=await m.json(),d=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,p=(v=(g=m.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return p.length>0&&(p.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);y[`${w}Page`]=S}),y.total=parseInt(d)),{data:Object.assign(Object.assign({},f),y),error:null}}catch(y){if(ze(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){To(r);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:ur})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){To(r);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:ur})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,n=!1){To(r);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:ur})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){To(r.userId);try{const{data:n,error:i}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteFactor(r){To(r.userId),To(r.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}}function tm(o={}){return{getItem:r=>o[r]||null,setItem:(r,n)=>{o[r]=n},removeItem:r=>{delete o[r]}}}function Eb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Co={debug:!!(globalThis&&Tv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ev extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class kb extends Ev{}async function Nb(o,r,n){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),Co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,l.name);try{return await n()}finally{Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,l.name)}}else{if(r===0)throw Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new kb(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Co.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Eb();const Ab={url:qx,storageKey:Fx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nm(o,r,n){return await n()}const Eo={};class Di{constructor(r){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Di.nextInstanceID,Di.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Ab),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Cb({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Cv(l.fetch),this.lock=l.lock||nm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:mn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Nb:this.lock=nm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Tv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=tm(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var r,n;return(n=(r=Eo[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Eo[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bv}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=rb(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),mn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Wx(u)){const v=(r=u.details)===null||r===void 0?void 0:r.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:g}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",g),await this._saveSession(c),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ze(n)?{error:n}:{error:new _v("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,i,l;try{const u=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Dn}),{data:c,error:g}=u;if(g||!c)return{data:{user:null,session:null},error:g};const v=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,i,l;try{let u;if("email"in r){const{email:m,password:f,options:d}=r;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await So(this.storage,this.storageKey)),u=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:m,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:_},xform:Dn})}else if("phone"in r){const{phone:m,password:f,options:d}=r;u=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:f,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Dn})}else throw new Ks("You must provide either an email or phone number and a password");const{data:c,error:g}=u;if(g||!c)return{data:{user:null,session:null},error:g};const v=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(u){if(ze(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:c,options:g}=r;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:em})}else if("phone"in r){const{phone:u,password:c,options:g}=r;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:em})}else throw new Ks("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Js}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,i,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;if(n==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(r){var n,i,l,u,c,g,v,y,m,f,d,p;let _,S;if("message"in r)_=r.message,S=r.signature;else{const{chain:w,wallet:T,statement:b,options:E}=r;let x;if(mn())if(typeof T=="object")x=T;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))x=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=T}const N=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const R=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let P;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")P=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)P=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)_=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${N.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(l=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((v=E==null?void 0:E.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((y=E==null?void 0:E.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((f=(m=E==null?void 0:E.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||f===void 0)&&f.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const R=await x.signMessage(new TextEncoder().encode(_),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=R}}try{const{data:w,error:T}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:eb(S)},!((d=r.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=r.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Dn});if(T)throw T;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Js}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:T})}catch(w){if(ze(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(r){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:u,error:c}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Dn});if(await sr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Js}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(ze(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:i,token:l,access_token:u,nonce:c}=r,g=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dn}),{data:v,error:y}=g;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Js}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:y})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,i,l,u,c;try{if("email"in r){const{email:g,options:v}=r;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await So(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},create_user:(i=v==null?void 0:v.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:m},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in r){const{phone:g,options:v}=r,{data:y,error:m}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},create_user:(u=v==null?void 0:v.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:m}}throw new Ks("You must provide either an email or phone number.")}catch(g){if(ze(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(r){var n,i;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:g}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Dn});if(g)throw g;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,y=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(l){if(ze(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var n,i,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await So(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:bb})}catch(u){if(ze(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)throw i;if(!n)throw new ar;const{error:l}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(ze(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:i,type:l,options:u}=r,{error:c}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in r){const{phone:i,type:l,options:u}=r,{data:c,error:g}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:g}}throw new Ks("You must provide either an email or phone number and a type")}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<ru:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const c=await Pr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?r.user=c.user:r.user=su()}if(this.storage.isServer&&r.user){let c=this.suppressGetSessionWarning;r=new Proxy(r,{get:(v,y,m)=>(!c&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,y,m))})}return{data:{session:r},error:null}}const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:ur}):await this._useSession(async n=>{var i,l,u;const{data:c,error:g}=n;if(g)throw g;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ur})})}catch(n){if(ze(n))return Gx(n)&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new ar;const c=l.session;let g=null,v=null;this.flowType==="pkce"&&r.email!=null&&([g,v]=await So(this.storage,this.storageKey));const{data:y,error:m}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:g,code_challenge_method:v}),jwt:c.access_token,xform:ur});if(m)throw m;return c.user=y.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(ze(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ar;const n=Date.now()/1e3;let i=n,l=!0,u=null;const{payload:c}=iu(r.access_token);if(c.exp&&(i=c.exp,l=i<=n),l){const{session:g,error:v}=await this._callRefreshToken(r.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:v}=await this._getUser(r.access_token);if(v)throw v;u={access_token:r.access_token,refresh_token:r.refresh_token,user:g.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var i;if(!r){const{data:c,error:g}=n;if(g)throw g;r=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(r!=null&&r.refresh_token))throw new ar;const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!mn())throw new Ys("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ys(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ys("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Wp("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(r.code);if(E)throw E;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:g,expires_at:v,token_type:y}=r;if(!u||!g||!c||!y)throw new Ys("No session defined in URL");const m=Math.round(Date.now()/1e3),f=parseInt(g);let d=m+f;v&&(d=parseInt(v));const p=d-m;p*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const _=d-f;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,d,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,d,m);const{data:S,error:w}=await this._getUser(u);if(w)throw w;const T={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:f,expires_at:d,refresh_token:c,token_type:y,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(i){if(ze(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return{error:u};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:g}=await this.admin.signOut(c,r);if(g&&!(Hx(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return r!=="others"&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=nb(),i={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async n=>{var i,l;try{const{data:{session:u},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await So(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ze(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:i,error:l}=await this._useSession(async u=>{var c,g,v,y,m;const{data:f,error:d}=u;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(g=r.options)===null||g===void 0?void 0:g.scopes,queryParams:(v=r.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",p,{headers:this.headers,jwt:(m=(y=f.session)===null||y===void 0?void 0:y.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return mn()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:r.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ze(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var i,l;const{data:u,error:c}=n;if(c)throw c;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await sb(async l=>(l>0&&await ib(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Dn})),(l,u)=>{const c=200*Math.pow(2,l);return u&&ou(u)&&Date.now()+c-i<No})}catch(i){if(this._debug(n,"error",i),ze(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",i),mn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Pr(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Ao(this.userStorage,this.storageKey+"-user",c)),l.user=(r=c==null?void 0:c.user)!==null&&r!==void 0?r:su()}else if(l&&!l.user&&!l.user){const c=await Pr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await sr(this.storage,this.storageKey+"-user"),await Ao(this.storage,this.storageKey,l)):l.user=su()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ru;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${ru}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),ou(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:g}=await this._getUser(l.access_token);!g&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var n,i;if(!r)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ua;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new ar;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={session:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(l,"error",u),ze(u)){const c={session:null,error:u};return ou(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,i=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(r,n)}catch(v){u.push(v)}});if(await Promise.all(c),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Ao(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=Zp(l);await Ao(this.storage,this.storageKey,u)}else{const l=Zp(n);await Ao(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await sr(this.storage,this.storageKey),await sr(this.storage,this.storageKey+"-code-verifier"),await sr(this.storage,this.storageKey+"-user"),this.userStorage&&await sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-r)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${No}ms, refresh threshold is ${Yc} ticks`),l<=Yc&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Ev)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await So(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(g.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;return u?{data:null,error:u}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var i,l;const{data:u,error:c}=n;if(c)return{data:null,error:c};const g=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:v,error:y}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&(!((l=v==null?void 0:v.totp)===null||l===void 0)&&l.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return{data:null,error:u};const{data:c,error:g}=await Ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:g})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;return u?{data:null,error:u}:await Ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(r==null?void 0:r.factors)||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,i;const{data:{session:l},error:u}=r;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=iu(l.access_token);let g=null;c.aal&&(g=c.aal);let v=g;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");const m=c.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(r,n={keys:[]}){let i=n.keys.find(g=>g.kid===r);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(g=>g.kid===r),i&&this.jwks_cached_at+Vx>l)return i;const{data:u,error:c}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(g=>g.kid===r),!i)?null:i}async getClaims(r,n={}){try{let i=r;if(!i){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};i=p.session.access_token}const{header:l,payload:u,signature:c,raw:{header:g,payload:v}}=iu(i);n!=null&&n.allowExpired||hb(u.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!y){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:u,header:l,signature:c},error:null}}const m=pb(l.alg),f=await crypto.subtle.importKey("jwk",y,m,!0,["verify"]);if(!await crypto.subtle.verify(m,f,c,Xx(`${g}.${v}`)))throw new Xc("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(i){if(ze(i))return{data:null,error:i};throw i}}}Di.nextInstanceID=0;const Ib=Di;class Mb extends Ib{constructor(r){super(r)}}var Pb=function(o,r,n,i){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function g(m){try{y(i.next(m))}catch(f){c(f)}}function v(m){try{y(i.throw(m))}catch(f){c(f)}}function y(m){m.done?u(m.value):l(m.value).then(g,v)}y((i=i.apply(o,r||[])).next())})};class Rb{constructor(r,n,i){var l,u,c;if(this.supabaseUrl=r,this.supabaseKey=n,!r)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const g=jx(r),v=new URL(g);this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const y=`sb-${v.hostname.split(".")[0]}-auth-token`,m={db:Ax,realtime:Mx,auth:Object.assign(Object.assign({},Ix),{storageKey:y}),global:Nx},f=Ux(i??{},m);this.storageKey=(l=f.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=f.global.headers)!==null&&u!==void 0?u:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=f.auth)!==null&&c!==void 0?c:{},this.headers,f.global.fetch),this.fetch=Lx(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Q0(new URL("rest/v1",v).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Cx(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return Pb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,storageKey:u,flowType:c,lock:g,debug:v},y,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mb({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),y),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,flowType:c,lock:g,debug:v,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new fx(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Db=(o,r,n)=>new Rb(o,r,n);function Lb(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const o=process.version.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}Lb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ob="https://mhnxfpxeflisbrfiwujy.supabase.co",jb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1obnhmcHhlZmxpc2JyZml3dWp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNjY5MjcsImV4cCI6MjA2Nzg0MjkyN30.WByqGYmGzfGKzjPNN235zWb5aT8F8UhVXBUsjQkrqXE",_n=Db(Ob,jb);async function Ub(o,r){try{let l=(await o.sendMessage({message:r})).text.trim();const u=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,c=l.match(u);return c&&c[2]&&(l=c[2].trim()),l}catch(n){return console.error("Error in getAIResponse:",n),JSON.stringify({commands:[{command:"PLAIN_RESPONSE",payload:{text:"I'm sorry, but I'm having trouble connecting to my brain right now. Please check the console for errors or try again later."}}]})}}function Vt(o,r){const[n,i]=Q.useState(()=>{try{const u=window.localStorage.getItem(o);return u?JSON.parse(u):r}catch(u){return console.error(u),r}}),l=u=>{try{i(c=>{const g=u instanceof Function?u(c):u;return window.localStorage.setItem(o,JSON.stringify(g)),g})}catch(c){console.error(c)}};return Q.useEffect(()=>{const u=c=>{if(c.key===o)try{i(c.newValue?JSON.parse(c.newValue):r)}catch(g){console.error(g)}};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[o,r]),[n,l]}const qb={send:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}),mic:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"}),notes:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}),memory:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),clear:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}),eye:a.jsxs(a.Fragment,{children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"eye-slash":a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M17.25 6.75L6.75 17.25",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a.jsx("path",{d:"M9.75 12.75a3 3 0 114.5-4.5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a.jsx("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c2.206 0 4.25.868 5.82 2.27",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a.jsx("path",{d:"M21.542 12c-1.274 4.057-5.064 7-9.542 7a9.953 9.953 0 01-4.044-1.02",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),close:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}),delete:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}),chevron:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"}),question:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),logo:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"}),edit:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}),clearScript:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l-4 4-4-4 4-4"}),apps:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}),bell:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}),minimize:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"}),restore:a.jsx("path",{d:"M4 8V4h4m12 0h-4v4m0 12v4h-4m-12 0h4v-4",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),user:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),palette:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"}),shirt:a.jsx("path",{d:"M18.37 3.63A2 2 0 0016.95 3H7.05a2 2 0 00-1.42.63L3 6.27V21h18V6.27l-2.63-2.64zM12 12v9M9.5 7.5L12 3l2.5 4.5",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),link:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}),list:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"}),back:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 19l-7-7 7-7m-7 7h16"}),more:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01"}),bold:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6zM6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}),italic:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 4h6M7 20h6M10 4L8 20"}),underline:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 4v7a5 5 0 0 0 10 0V4M5 20h14"}),strikethrough:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h14"}),highlight:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12l-2 5-2-10-2 10-2-5-2 5"}),calendar:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),check:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"}),h1:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6.75 3v18M17.25 3v18M6.75 12h10.5"}),h2:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6.75 3v18m10.5-18v18M6.75 12h10.5M4 3h5m3 0h5M4 21h5m3 0h5"}),p:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 3h7a5 5 0 015 5v0a5 5 0 01-5 5H6v8"}),clearFormat:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 4v1m0 4v1m0 4v1m4-13v1m0 4v1m0 4v1M4 4h16"}),book:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}),briefcase:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}),code:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l-4 4-4-4 4-4"}),lightbulb:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"}),dollar:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V6m0 12v-2m6-4a9 9 0 11-18 0 9 9 0 0118 0z"}),folder:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}),heart:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 18.75l-7.318-7.868a4.5 4.5 0 010-6.364z"}),star:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.539 1.118l-3.975-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}),home:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),cart:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"}),chart:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7.86 16.536L12 12m0 0l4.14-4.536M12 12v9"}),chat:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z"}),cog:a.jsxs(a.Fragment,{children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"..."}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"..."})]}),gamepad:a.jsxs(a.Fragment,{children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12a9 9 0 019-9h.286a1 1 0 01.962.728l1 4a1 1 0 01-.962 1.272H9.52a1 1 0 00-.962 1.272l1 4A1 1 0 009.714 21H9a9 9 0 01-6-9z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a9 9 0 01-9 9"})]}),music:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"}),plane:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}),movie:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"}),leaf:a.jsxs(a.Fragment,{children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.121 15.536c-3.467-3.467-3.467-9.117 0-12.585.969-.969 2.234-1.453 3.535-1.453s2.566.484 3.535 1.453c3.467 3.467 3.467 9.117 0 12.585-1.953 1.953-5.117 1.953-7.07 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12.93 14.072c-3.467-3.467-3.467-9.117 0-12.585C13.898.518 15.164 0 16.465 0s2.566.518 3.535 1.487c3.467 3.467 3.467 9.117 0 12.585-1.953 1.953-5.117 1.953-7.07 0z"})]}),lock:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}),cloud:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),image:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}),drag:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 9h14M5 15h14"}),menu:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),globe:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9h18"})},me=({name:o,className:r="h-6 w-6",style:n})=>a.jsx("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",style:n,children:qb[o]||a.jsx("circle",{cx:"12",cy:"12",r:"10"})}),kv={en:{name:"English",flag:"🇺🇸"},ru:{name:"Русский",flag:"🇷🇺"}},Fb={"en-US":"English (US)","ru-RU":"Русский (RU)","de-DE":"Deutsch","fr-FR":"Français","es-ES":"Español","it-IT":"Italiano","ja-JP":"日本語","ko-KR":"한국어","zh-CN":"中文 (Mandarin, Simplified)"},On=o=>o==="ru"?"ru-RU":"en-US",rm={en:{"common.more":"More","common.back":"Back","common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.close":"Close","common.new":"New","common.confirm":"Confirm","common.today":"Today","common.untitled":"Untitled Note","common.note":"note","common.event":"event","common.reminder":"reminder","common.app":"app","common.note.plural":"notes","common.event.plural":"events","common.reminder.plural":"reminders","common.app.plural":"apps","common.search":"Search {{context}}...","common.listening":"Listening...","common.askNexus":"Ask Nexus anything...","common.unsavedChanges":"You have unsaved changes.","common.moreItems":"+{{count}} more","common.new_entity":"New {{entity}}","common.edit_entity":"Edit {{entity}}","common.skip":"Skip","header.title":"Nexus AI","header.greeting":"Hi, {{name}}","header.toggleUI":"Hide/Show UI","header.hideUI":"Hide UI","header.closeAllApps":"Close All Apps","nav.dashboard":"Dashboard","nav.calendar":"Calendar","nav.apps":"Apps","nav.chat":"Chat","nav.notifications":"Notifications","nav.profile":"Profile","nav.settings":"Settings","nav.more":"More","auth.language.title":"Choose your language","auth.language.description":"Select the language for the interface.","auth.theme.title":"Select a theme","auth.theme.description":"You can always change this later in settings.","auth.getStarted":"Get Started","auth.login.title":"Welcome Back","auth.register.title":"Create Your Account","auth.login.action":"Log In","auth.register.action":"Create Account","auth.login.switch":"Don't have an account? Sign Up","auth.register.switch":"Already have an account? Log In","auth.agree.prefix":"I agree to the","auth.agree.terms":"Terms of Use","auth.agree.and":"and","auth.agree.policy":"Privacy Policy","auth.verify.title":"Check Your Email","auth.verify.message":"We've sent a confirmation link to","auth.verify.instruction":"Please click the link to complete your registration.","auth.password.show":"Show password","auth.password.hide":"Hide password","auth.password.strength.length":"Minimum 12 characters","auth.password.strength.case":"Uppercase & lowercase letters","auth.password.strength.special":"Includes special characters (!@#...)","auth.password.strength.englishOnly":"Only English letters, numbers, symbols","auth.password.strength.crackTime":"Estimated time to crack:","auth.password.strength.crack.instantly":"instantly","auth.password.strength.crack.seconds":"seconds","auth.password.strength.crack.minutes":"minutes","auth.password.strength.crack.hours":"hours","auth.password.strength.crack.days":"days","auth.password.strength.crack.months":"months","auth.password.strength.crack.years":"years","auth.password.strength.crack.thousandYears":"thousand years","auth.password.strength.crack.centuries":"centuries","chat.title":"Nexus Chat","chat.clear":"Clear Chat","chat.pin":"Pin to Left","chat.greeting":"Hello {{name}}! I'm Nexus, your smart assistant. How can I help you today?","chat.cleared":"Chat cleared. How can I help you start fresh?","chat.error.generic":"Sorry, I encountered an error. Please try again.","chat.error.badResponse":"I seem to have generated an invalid response format. Could you try rephrasing?","chat.error.init":"Error: Could not initialize AI. Please check your API key and network connection.","chat.noteUpdate":"{{summary}}","chat.commandSummary":"{{successful}} out of {{total}} commands executed in {{time}}ms","chat.reminderNotification":"REMINDER: {{title}}","chat.timerFinished":'Timer "{{label}}" has finished.',"chat.appLaunchError":'Error: App with ID "{{appId}}" not found.',"onboarding.welcome.title":"Welcome to Nexus AI","onboarding.welcome.description":"Your intelligent personal assistant, designed to seamlessly integrate with your thoughts and tasks. Let's get you set up.","onboarding.demo1.title":"I Understand Your Words","onboarding.demo1.description":"Just tell me what you need, and I'll handle the rest, from creating notes to managing your schedule.","onboarding.demo1.prompt":"Create a note with my project ideas: integrate new AI features and redesign user dashboard.","onboarding.demo2.title":"Stay Organized Effortlessly","onboarding.demo2.description":"I can set reminders, create calendar events, and help you keep track of everything important.","onboarding.demo2.prompt":"Remind me to call John tomorrow at 2 PM.","onboarding.demo_notes.title":"Rich Notes & Backgrounds","onboarding.demo_notes.description":"Create beautiful notes with rich text formatting and custom backgrounds to set the mood.","onboarding.demo_calendar.title":"Intuitive Calendar","onboarding.demo_calendar.description":"Click a day to see its agenda, or click-and-drag across multiple days to quickly create a multi-day event.","onboarding.demo_customize.title":"Total Customization","onboarding.demo_customize.description":"Make Nexus yours. Change themes, accent colors, navigation layouts, and much more in the Settings menu.","onboarding.permissions.title":"One Last Thing...","onboarding.permissions.notificationsDescription":"To provide timely reminders, Nexus AI needs permission to send you browser notifications.","onboarding.permissions.grant":"Enable Notifications","onboarding.permissions.granted":"Permissions granted. Thank you!","onboarding.permissions.denied":"Notifications disabled. You can change this in your browser settings later.","onboarding.finish.title":"You're all set!","onboarding.finish.description":"You're ready to start organizing your life with Nexus AI.","onboarding.finish.button":"Finish","onboarding.next":"Next","onboarding.back":"Back","onboarding.continue":"Continue","onboarding.welcomeMessage":"Welcome, {{name}}! It's great to meet you. I've saved your profile. How can I help you get started?","confirmation.title":"Nexus needs more information","deleteModal.title":"Delete {{itemType}}","deleteModal.message":'Are you sure you want to delete "{{itemName}}"? This action cannot be undone.',"discardModal.title":"Discard Changes?","discardModal.message":"You have unsaved changes. Are you sure you want to discard them and close the settings?","discardModal.confirm":"Discard","langChange.title":"Reload Required","langChange.message":"To apply the new language, the application must be reloaded. Any unsaved work may be lost. Continue?","langChange.confirm":"Reload","deleteDataModal.title":"Are you absolutely sure?","deleteDataModal.message":"This action is irreversible. It will permanently delete all local data associated with your account from this device.","deleteDataModal.dataSummary":"You currently have: {{notesCount}} notes, {{eventsCount}} events, and {{remindersCount}} reminders.","deleteDataModal.confirmPhrase":"Please type `delete my data` to confirm.","deleteDataModal.confirm":"Delete Everything","settings.title":"Settings","settings.save":"Save Changes","settings.personalization.title":"Personalization","settings.personalization.theme":"Theme","settings.personalization.theme.light":"Light","settings.personalization.theme.dark":"Dark","settings.personalization.contrast":"Contrast","settings.personalization.contrast.description":"Adjust visual contrast. {{theme}} theme is selected.","settings.personalization.contrast.low":"low","settings.personalization.contrast.medium":"medium","settings.personalization.contrast.high":"high","settings.personalization.accent":"Accent Color","settings.personalization.accent.custom":"Choose custom color","settings.personalization.calendarBg":"Calendar Background","settings.personalization.calendarBg.none":"None","settings.personalization.calendarBg.upload":"Upload","settings.personalization.calendarBg.dim":"Dim Background:","settings.personalization.calendarBg.preset.paper":"Paper","settings.personalization.calendarBg.preset.wood":"Wood","settings.personalization.noteBg.preset.cosmos":"Cosmos","settings.personalization.noteBg.preset.beach":"Beach","settings.personalization.noteBg.preset.forest":"Forest","settings.navigation.title":"Navigation","settings.navigation.desktopStyle":"Desktop Navigation Style","settings.navigation.desktopStyle.description":"Choose how to navigate on desktop devices.","settings.navigation.desktopStyle.header":"Header","settings.navigation.desktopStyle.header.desc":"Classic navigation bar at the top of the screen.","settings.navigation.desktopStyle.sidebarLeft":"Side Bar (Left)","settings.navigation.desktopStyle.sidebarLeft.desc":"A vertical navigation bar pinned to the left.","settings.navigation.desktopStyle.sidebarRight":"Side Bar (Right)","settings.navigation.desktopStyle.sidebarRight.desc":"A vertical navigation bar pinned to the right.","settings.navigation.sidebarLabels":"Side bar label display style.","settings.navigation.sidebarLabels.show":"Show Labels","settings.navigation.sidebarLabels.show.desc":"Always show icon labels.","settings.navigation.sidebarLabels.hover":"Show on Hover","settings.navigation.sidebarLabels.hover.desc":"Only show labels when you hover over the bar.","settings.navigation.mobileStyle":"Mobile Navigation Style","settings.navigation.mobileStyle.description":'Choose how to navigate on mobile devices. "Bottom Bar" is recommended for easier access.',"settings.navigation.mobileStyle.bottom":"Bottom Bar","settings.navigation.mobileStyle.bottom.desc":"Modern navigation bar at the bottom for one-handed use.","settings.navigation.mobileHeight":"Adjust bottom bar height.","settings.navigation.mobileHeight.normal":"Normal","settings.navigation.mobileHeight.normal.desc":"Standard height with more spacing.","settings.navigation.mobileHeight.compact":"Compact","settings.navigation.mobileHeight.compact.desc":"Reduced height for more screen space.","settings.navigation.customize":"Customize Navigation Items","settings.navigation.customize.header":"Header & Side Bar Items","settings.navigation.customize.header.desc":"Items for Header (Desktop/Mobile) and Side Bar (Desktop) layouts. Drag to reorder or hide.","settings.navigation.customize.bottomBar":"Mobile Bottom Bar Items","settings.navigation.customize.bottomBar.desc":"Items for the mobile Bottom Bar layout. Up to 5 items are recommended.","settings.navigation.customize.visible":"Visible Items","settings.navigation.customize.hidden":"Hidden Items","settings.navigation.customize.limitError":"Too many items. Please move {{count}} to hidden.","settings.language.title":"Language & Region","settings.language.sectionTitle":"Language & Region","settings.language.appLanguage.title":"Application Language","settings.language.appLanguage.description":"Change the display language of the app interface.","settings.language.voiceInput.title":"Voice Input Language","settings.language.voiceInput.description":"Select the language for speech-to-text recognition.","settings.calendar.title":"Calendar Settings","settings.calendar.general":"General","settings.calendar.startWeekOn":"Start week on","settings.calendar.startWeekOn.sunday":"Sunday","settings.calendar.startWeekOn.monday":"Monday","settings.calendar.showWeekNumbers":"Show Week Numbers","settings.calendar.showWeekNumbers.desc":"Display the week number on the side of the month view.","settings.calendar.showMonthNumber":"Show Month Number","settings.calendar.showMonthNumber.desc":"Display month number (e.g., July (07)).","settings.calendar.weekends":"Weekends","settings.calendar.highlightWeekends":"Highlight Weekends","settings.calendar.highlightWeekends.desc":"Apply a subtle highlight to weekend days.","settings.calendar.selectWeekends":"Select which days are weekends:","settings.interface.title":"Interface Settings","settings.interface.header":"Header","settings.interface.combineLogo":"Combine Logo & UI Hide Button","settings.interface.combineLogo.desc":"Good for small screens. The logo will also hide/show the UI.","settings.chat.title":"AI Chat Settings","settings.chat.interaction":"Interaction Mode","settings.chat.interaction.desc":"Choose how you want to open the chat interface.","settings.chat.interaction.overlay":"Input Bar Overlay","settings.chat.interaction.overlay.desc":"A persistent input bar at the bottom. Focusing it opens the chat.","settings.chat.interaction.header":"Header Button","settings.chat.interaction.header.desc":"A dedicated button in the header to toggle the chat overlay.","settings.account.title":"Account","settings.account.deleteData":"Delete All Local Data","settings.account.deleteDataDesc":"Permanently remove all notes, events, reminders and other data from this device. This cannot be undone.","settings.account.restartOnboarding":"Restart Onboarding","settings.account.restartOnboardingDesc":"See the introductory tour and welcome messages again.","profile.title":"My Profile","profile.firstName":"First Name","profile.lastName":"Last Name","profile.dob":"Date of Birth","profile.timezone":"Timezone","profile.about":"About Me","profile.memory.title":"AI Memory","profile.memory.description":"This is for other facts and preferences I've learned about you.","profile.memory.empty":"AI memory is empty.","profile.memory.clearAll":"Clear All AI Memory","apps.title":"My Apps","apps.editTitle":"Edit App","apps.createTitle":"Create New App","apps.createButton":"Create New App","apps.empty":"No applications created yet. Ask me to make one, or create your own!","apps.launch":"Launch","apps.appTitle":"App Title","apps.appTitle.placeholder":"My Awesome App","apps.html":"HTML","apps.css":"CSS","apps.js":"JavaScript","dashboard.title":"Dashboard","dashboard.notes":"Notes","dashboard.reminders":"Reminders","dashboard.events":"Events","dashboard.newNote":"New Note","dashboard.editNote":"Edit Note","dashboard.editFolder":"Edit Folder","dashboard.folderName":"Folder Name","dashboard.iconColor":"Icon Color","dashboard.chooseIcon":"Choose an Icon","dashboard.uploadIcon":"Or Upload Your Own","dashboard.chooseImage":"Choose Image","dashboard.saveChanges":"Save Changes","dashboard.noteCount":"{{count}} note","dashboard.noteCount.plural":"{{count}} notes","dashboard.updated":"Updated: {{date}}","dashboard.empty":"No notes found. Ask me to create one!","dashboard.overdue":"Overdue","dashboard.today":"Today","dashboard.upcoming":"Upcoming","dashboard.completed":"Completed","dashboard.reminders.empty":"No reminders found.","dashboard.events.empty":"No events found.","dashboard.newEvent":"New Event","dashboard.newReminder":"New Reminder","dashboard.daily.noItems":"No events or reminders for this day.","dashboard.note.attached":"Attached Note:","dashboard.note.empty":"This note is empty. Click to edit.","dashboard.note.folder_prefix":"Folder","dashboard.note.title.placeholder":"Note Title...","dashboard.note.folder.placeholder":"Folder...","dashboard.note.content.placeholder":"Start writing your note...","dashboard.note.style":"Style","dashboard.note.background":"Background","dashboard.note.dim":"Dim","dashboard.itemEditor.title.placeholder":"{{type}} Title","dashboard.itemEditor.description.placeholder":"Description...","dashboard.itemEditor.allDay":"All-day","dashboard.itemEditor.start":"Start","dashboard.itemEditor.end":"End","dashboard.itemEditor.datetime":"Date & Time","dashboard.itemEditor.color":"Color","dashboard.itemEditor.attachNote":"Attach a note (optional)","dashboard.itemEditor.delete_entity":"Delete {{type}}","dashboard.itemEditor.error.title":"Title cannot be empty.","dashboard.itemEditor.error.dates.invalid":"One or more dates are invalid.","dashboard.itemEditor.error.dates.order":"End time must be after start time.","dashboard.itemEditor.error.dates.duration":"Event duration must be at least 5 minutes.","dashboard.itemEditor.sheet.prompt":"Drag up to add more details","notifications.title":"Notifications","notifications.clearAll":"Clear All","notifications.empty":"You have no notifications.","notifications.unread":"unread","system.notification.aiError.title":"AI Features Disabled","system.notification.aiError.message":"The Gemini API key is missing or invalid. AI-powered features will not be available until this is resolved.","system.notification.speechError.title":"Voice Input Unavailable","system.notification.speechError.message":"Your browser does not support the Speech Recognition API, so voice commands cannot be used."},ru:{"common.more":"Ещё","common.back":"Назад","common.save":"Сохранить","common.cancel":"Отмена","common.delete":"Удалить","common.edit":"Изменить","common.close":"Закрыть","common.new":"Новый","common.confirm":"Подтвердить","common.today":"Сегодня","common.untitled":"Новая заметка","common.note":"заметку","common.event":"событие","common.reminder":"напоминание","common.app":"приложение","common.note.plural":"заметки","common.event.plural":"события","common.reminder.plural":"напоминания","common.app.plural":"приложения","common.search":"Искать в {{context}}...","common.listening":"Слушаю...","common.askNexus":"Спросите Nexus о чём угодно...","common.unsavedChanges":"У вас есть несохраненные изменения.","common.moreItems":"+{{count}} еще","common.new_entity":"Новое {{entity}}","common.edit_entity":"Редактировать {{entity}}","common.skip":"Пропустить","header.title":"Nexus AI","header.greeting":"Привет, {{name}}","header.toggleUI":"Скрыть/Показать UI","header.hideUI":"Скрыть UI","header.closeAllApps":"Закрыть все приложения","nav.dashboard":"Панель","nav.calendar":"Календарь","nav.apps":"Приложения","nav.chat":"Чат","nav.notifications":"Уведомления","nav.profile":"Профиль","nav.settings":"Настройки","nav.more":"Меню","auth.language.title":"Выберите ваш язык","auth.language.description":"Выберите язык для интерфейса.","auth.theme.title":"Выберите тему","auth.theme.description":"Вы всегда можете изменить это позже в настройках.","auth.getStarted":"Начать","auth.login.title":"С возвращением","auth.register.title":"Создайте аккаунт","auth.login.action":"Войти","auth.register.action":"Создать аккаунт","auth.login.switch":"Нет аккаунта? Зарегистрироваться","auth.register.switch":"Уже есть аккаунт? Войти","auth.agree.prefix":"Я согласен с","auth.agree.terms":"Условиями использования","auth.agree.and":"и","auth.agree.policy":"Политикой конфиденциальности","auth.verify.title":"Проверьте вашу почту","auth.verify.message":"Мы отправили ссылку для подтверждения на","auth.verify.instruction":"Пожалуйста, перейдите по ссылке, чтобы завершить регистрацию.","auth.password.show":"Показать пароль","auth.password.hide":"Скрыть пароль","auth.password.strength.length":"Минимум 12 символов","auth.password.strength.case":"Заглавные и строчные буквы","auth.password.strength.special":"Включая спецсимволы (!@#...)","auth.password.strength.englishOnly":"Только английские буквы, цифры, символы","auth.password.strength.crackTime":"Примерное время для взлома:","auth.password.strength.crack.instantly":"мгновенно","auth.password.strength.crack.seconds":"секунд","auth.password.strength.crack.minutes":"минут","auth.password.strength.crack.hours":"часов","auth.password.strength.crack.days":"дней","auth.password.strength.crack.months":"месяцев","auth.password.strength.crack.years":"лет","auth.password.strength.crack.thousandYears":"тысяч лет","auth.password.strength.crack.centuries":"столетия","chat.title":"Nexus Чат","chat.clear":"Очистить чат","chat.pin":"Закрепить слева","chat.greeting":"Привет, {{name}}! Я Nexus, ваш умный помощник. Чем могу помочь сегодня?","chat.cleared":"Чат очищен. Как я могу помочь вам начать заново?","chat.error.generic":"К сожалению, произошла ошибка. Пожалуйста, попробуйте еще раз.","chat.error.badResponse":"Кажется, я сгенерировал неверный формат ответа. Не могли бы вы перефразировать?","chat.error.init":"Ошибка: Не удалось инициализировать ИИ. Проверьте ваш API ключ и подключение к сети.","chat.noteUpdate":"{{summary}}","chat.commandSummary":"{{successful}} из {{total}} команд выполнено за {{time}}мс","chat.reminderNotification":"НАПОМИНАНИЕ: {{title}}","chat.timerFinished":'Таймер "{{label}}" завершен.',"chat.appLaunchError":'Ошибка: Приложение с ID "{{appId}}" не найдено.',"onboarding.welcome.title":"Добро пожаловать в Nexus AI","onboarding.welcome.description":"Ваш интеллектуальный личный помощник, созданный для органичной интеграции с вашими мыслями и задачами. Давайте вас настроим.","onboarding.demo1.title":"Я понимаю ваши слова","onboarding.demo1.description":"Просто скажите мне, что вам нужно, и я сделаю остальное, от создания заметок до управления вашим расписанием.","onboarding.demo1.prompt":"Создай заметку с идеями для проекта: интегрировать новые ИИ-фичи и переделать дашборд.","onboarding.demo2.title":"Оставайтесь организованным без усилий","onboarding.demo2.description":"Я могу устанавливать напоминания, создавать события в календаре и помогать вам отслеживать все важное.","onboarding.demo2.prompt":"Напомни мне позвонить Джону завтра в 14:00.","onboarding.demo_notes.title":"Заметки с форматом и фонами","onboarding.demo_notes.description":"Создавайте красивые заметки с форматированием и фонами, чтобы задать настроение.","onboarding.demo_calendar.title":"Интуитивный календарь","onboarding.demo_calendar.description":"Нажмите на день, чтобы увидеть его расписание, или нажмите и перетащите на несколько дней, чтобы быстро создать многодневное событие.","onboarding.demo_customize.title":"Полная настройка","onboarding.demo_customize.description":"Сделайте Nexus своим. Меняйте темы, цвета, навигацию и многое другое в меню Настроек.","onboarding.permissions.title":"И последнее...","onboarding.permissions.notificationsDescription":"Для своевременных напоминаний Nexus AI требуется разрешение на отправку вам браузерных уведомлений.","onboarding.permissions.grant":"Включить уведомления","onboarding.permissions.granted":"Разрешения предоставлены. Спасибо!","onboarding.permissions.denied":"Уведомления отключены. Вы можете изменить это позже в настройках браузера.","onboarding.finish.title":"Всё готово!","onboarding.finish.description":"Вы готовы начать организовывать свою жизнь с Nexus AI.","onboarding.finish.button":"Завершить","onboarding.next":"Далее","onboarding.back":"Назад","onboarding.continue":"Продолжить","onboarding.welcomeMessage":"Добро пожаловать, {{name}}! Рад знакомству. Я сохранил ваш профиль. С чего начнем?","confirmation.title":"Nexus требуется дополнительная информация","deleteModal.title":"Удалить {{itemType}}","deleteModal.message":'Вы уверены, что хотите удалить "{{itemName}}"? Это действие нельзя будет отменить.',"discardModal.title":"Отменить изменения?","discardModal.message":"У вас есть несохраненные изменения. Вы уверены, что хотите отменить их и закрыть настройки?","discardModal.confirm":"Отменить","langChange.title":"Требуется перезагрузка","langChange.message":"Для применения нового языка приложение должно быть перезагружено. Все несохраненные данные в открытых редакторах могут быть потеряны. Продолжить?","langChange.confirm":"Перезагрузить","deleteDataModal.title":"Вы абсолютно уверены?","deleteDataModal.message":"Это действие необратимо. Оно навсегда удалит все локальные данные, связанные с вашей учетной записью, с этого устройства.","deleteDataModal.dataSummary":"У вас сейчас: {{notesCount}} заметок, {{eventsCount}} событий и {{remindersCount}} напоминаний.","deleteDataModal.confirmPhrase":"Пожалуйста, введите `delete my data`, чтобы подтвердить.","deleteDataModal.confirm":"Удалить всё","settings.title":"Настройки","settings.save":"Сохранить изменения","settings.personalization.title":"Персонализация","settings.personalization.theme":"Тема","settings.personalization.theme.light":"Светлая","settings.personalization.theme.dark":"Тёмная","settings.personalization.contrast":"Контраст","settings.personalization.contrast.description":"Настройте визуальный контраст. Выбрана {{theme}} тема.","settings.personalization.contrast.low":"низкий","settings.personalization.contrast.medium":"средний","settings.personalization.contrast.high":"высокий","settings.personalization.accent":"Акцентный цвет","settings.personalization.accent.custom":"Выбрать свой цвет","settings.personalization.calendarBg":"Фон календаря","settings.personalization.calendarBg.none":"Нет","settings.personalization.calendarBg.upload":"Загрузить","settings.personalization.calendarBg.dim":"Затемнение фона:","settings.personalization.calendarBg.preset.paper":"Бумага","settings.personalization.calendarBg.preset.wood":"Дерево","settings.personalization.noteBg.preset.cosmos":"Космос","settings.personalization.noteBg.preset.beach":"Пляж","settings.personalization.noteBg.preset.forest":"Лес","settings.navigation.title":"Навигация","settings.navigation.desktopStyle":"Стиль навигации на ПК","settings.navigation.desktopStyle.description":"Выберите, как перемещаться по приложению на настольных компьютерах.","settings.navigation.desktopStyle.header":"Шапка","settings.navigation.desktopStyle.header.desc":"Классическая панель навигации вверху экрана.","settings.navigation.desktopStyle.sidebarLeft":"Боковая панель (слева)","settings.navigation.desktopStyle.sidebarLeft.desc":"Вертикальная панель навигации, закрепленная слева.","settings.navigation.desktopStyle.sidebarRight":"Боковая панель (справа)","settings.navigation.desktopStyle.sidebarRight.desc":"Вертикальная панель навигации, закрепленная справа.","settings.navigation.sidebarLabels":"Отображение меток боковой панели.","settings.navigation.sidebarLabels.show":"Показывать","settings.navigation.sidebarLabels.show.desc":"Всегда показывать метки иконок.","settings.navigation.sidebarLabels.hover":"При наведении","settings.navigation.sidebarLabels.hover.desc":"Показывать метки только при наведении на панель.","settings.navigation.mobileStyle":"Стиль навигации на мобильных","settings.navigation.mobileStyle.description":'Выберите, как перемещаться на мобильных устройствах. "Нижняя панель" рекомендуется для удобства.',"settings.navigation.mobileStyle.bottom":"Нижняя панель","settings.navigation.mobileStyle.bottom.desc":"Современная панель навигации внизу для использования одной рукой.","settings.navigation.mobileHeight":"Настройте высоту нижней панели.","settings.navigation.mobileHeight.normal":"Обычная","settings.navigation.mobileHeight.normal.desc":"Стандартная высота с большим пространством.","settings.navigation.mobileHeight.compact":"Компактная","settings.navigation.mobileHeight.compact.desc":"Уменьшенная высота для большего пространства на экране.","settings.navigation.customize":"Настроить элементы навигации","settings.navigation.customize.header":"Элементы шапки и боковой панели","settings.navigation.customize.header.desc":"Элементы для шапки (ПК/моб.) и боковой панели (ПК). Перетащите для сортировки или скрытия.","settings.navigation.customize.bottomBar":"Элементы нижней мобильной панели","settings.navigation.customize.bottomBar.desc":"Элементы для нижней мобильной панели. Рекомендуется до 5 элементов.","settings.navigation.customize.visible":"Видимые элементы","settings.navigation.customize.hidden":"Скрытые элементы","settings.navigation.customize.limitError":"Слишком много элементов. Пожалуйста, переместите {{count}} в скрытые.","settings.language.title":"Язык и регион","settings.language.sectionTitle":"Язык и регион","settings.language.appLanguage.title":"Язык приложения","settings.language.appLanguage.description":"Измените язык интерфейса приложения.","settings.language.voiceInput.title":"Язык голосового ввода","settings.language.voiceInput.description":"Выберите язык для распознавания речи.","settings.calendar.title":"Настройки календаря","settings.calendar.general":"Общие","settings.calendar.startWeekOn":"Начинать неделю с","settings.calendar.startWeekOn.sunday":"Воскресенья","settings.calendar.startWeekOn.monday":"Понедельника","settings.calendar.showWeekNumbers":"Показывать номера недель","settings.calendar.showWeekNumbers.desc":"Отображать номер недели сбоку в режиме месяца.","settings.calendar.showMonthNumber":"Показывать номер месяца","settings.calendar.showMonthNumber.desc":"Отображать номер месяца (напр., Июль (07)).","settings.calendar.weekends":"Выходные","settings.calendar.highlightWeekends":"Выделять выходные","settings.calendar.highlightWeekends.desc":"Применять лёгкое выделение к выходным дням.","settings.calendar.selectWeekends":"Выберите, какие дни являются выходными:","settings.interface.title":"Настройки интерфейса","settings.interface.header":"Шапка","settings.interface.combineLogo":"Объединить логотип и кнопку скрытия UI","settings.interface.combineLogo.desc":"Удобно для маленьких экранов. Логотип также будет скрывать/показывать UI.","settings.chat.title":"Настройки чата с ИИ","settings.chat.interaction":"Режим взаимодействия","settings.chat.interaction.desc":"Выберите, как вы хотите открывать интерфейс чата.","settings.chat.interaction.overlay":"Строка ввода с оверлеем","settings.chat.interaction.overlay.desc":"Постоянная строка ввода внизу. При клике открывается чат.","settings.chat.interaction.header":"Кнопка в шапке","settings.chat.interaction.header.desc":"Специальная кнопка в шапке для переключения оверлея чата.","settings.account.title":"Аккаунт","settings.account.deleteData":"Удалить все локальные данные","settings.account.deleteDataDesc":"Безвозвратно удалить все заметки, события, напоминания и другие данные с этого устройства. Это действие нельзя отменить.","settings.account.restartOnboarding":"Перезапустить обучение","settings.account.restartOnboardingDesc":"Снова посмотреть вступительный тур и приветственные сообщения.","profile.title":"Мой профиль","profile.firstName":"Имя","profile.lastName":"Фамилия","profile.dob":"Дата рождения","profile.timezone":"Часовой пояс","profile.about":"Обо мне","profile.memory.title":"Память ИИ","profile.memory.description":"Здесь хранятся другие факты и предпочтения, которые я узнал о вас.","profile.memory.empty":"Память ИИ пуста.","profile.memory.clearAll":"Очистить всю память ИИ","apps.title":"Мои приложения","apps.editTitle":"Редактировать приложение","apps.createTitle":"Создать новое приложение","apps.createButton":"Создать новое приложение","apps.empty":"Приложений пока нет. Попросите меня создать одно или сделайте сами!","apps.launch":"Запустить","apps.appTitle":"Название приложения","apps.appTitle.placeholder":"Мое крутое приложение","apps.html":"HTML","apps.css":"CSS","apps.js":"JavaScript","dashboard.title":"Панель","dashboard.notes":"Заметки","dashboard.reminders":"Напоминания","dashboard.events":"События","dashboard.newNote":"Новая заметка","dashboard.editNote":"Редактировать заметку","dashboard.editFolder":"Редактировать папку","dashboard.folderName":"Название папки","dashboard.iconColor":"Цвет иконки","dashboard.chooseIcon":"Выберите иконку","dashboard.uploadIcon":"Или загрузите свою","dashboard.chooseImage":"Выбрать изображение","dashboard.saveChanges":"Сохранить изменения","dashboard.noteCount":"{{count}} заметка","dashboard.noteCount.plural":"{{count}} заметок","dashboard.updated":"Обновлено: {{date}}","dashboard.empty":"Заметок нет. Попросите меня создать одну!","dashboard.overdue":"Просроченные","dashboard.today":"Сегодня","dashboard.upcoming":"Предстоящие","dashboard.completed":"Завершенные","dashboard.reminders.empty":"Напоминаний нет.","dashboard.events.empty":"Событий нет.","dashboard.newEvent":"Новое событие","dashboard.newReminder":"Новое напоминание","dashboard.daily.noItems":"На этот день нет событий или напоминаний.","dashboard.note.attached":"Прикрепленная заметка:","dashboard.note.empty":"Эта заметка пуста. Нажмите, чтобы отредактировать.","dashboard.note.folder_prefix":"Папка","dashboard.note.title.placeholder":"Заголовок заметки","dashboard.note.folder.placeholder":"Папка...","dashboard.note.content.placeholder":"Начните писать вашу заметку...","dashboard.note.style":"Стиль","dashboard.note.background":"Фон","dashboard.note.dim":"Затемнение","dashboard.itemEditor.title.placeholder":"Заголовок {{type}}","dashboard.itemEditor.description.placeholder":"Описание...","dashboard.itemEditor.allDay":"Весь день","dashboard.itemEditor.start":"Начало","dashboard.itemEditor.end":"Конец","dashboard.itemEditor.datetime":"Дата и время","dashboard.itemEditor.color":"Цвет","dashboard.itemEditor.attachNote":"Прикрепить заметку (необязательно)","dashboard.itemEditor.delete_entity":"Удалить {{type}}","dashboard.itemEditor.error.title":"Заголовок не может быть пустым.","dashboard.itemEditor.error.dates.invalid":"Одна или несколько дат недействительны.","dashboard.itemEditor.error.dates.order":"Время окончания должно быть после времени начала.","dashboard.itemEditor.error.dates.duration":"Продолжительность события должна быть не менее 5 минут.","dashboard.itemEditor.sheet.prompt":"Потяните вверх для добавления деталей","notifications.title":"Уведомления","notifications.clearAll":"Очистить все","notifications.empty":"У вас нет уведомлений.","notifications.unread":"непрочитано","system.notification.aiError.title":"Функции ИИ отключены","system.notification.aiError.message":"Ключ API Gemini отсутствует или недействителен. Функции на базе ИИ не будут доступны до решения проблемы.","system.notification.speechError.title":"Голосовой ввод недоступен","system.notification.speechError.message":"Ваш браузер не поддерживает Speech Recognition API, поэтому голосовые команды не могут быть использованы."}};let Nv="en";const sa=o=>{Nv=o},z=(o,r)=>{var i;let n=((i=rm[Nv])==null?void 0:i[o])||rm.en[o]||o;return r&&Object.keys(r).forEach(l=>{const u=r[l];u!==void 0&&(n=n.replace(`{{${l}}}`,String(u)))}),n},Bb=({onToggleUI:o,onClearScript:r,isScriptActive:n,userName:i,settings:l,onNavAction:u,items:c,hiddenItemCount:g,onMoreClick:v,getIsActive:y,unreadNotificationsCount:m,isMobile:f})=>a.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 flex items-center justify-between p-3 bg-secondary/50 border-b border-border-color shadow-md backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[a.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-primary/50",title:z("header.toggleUI"),children:a.jsx(me,{name:"logo",className:"h-8 w-8 text-accent"})}),a.jsx("h1",{className:"text-xl font-bold text-text-primary hidden sm:block",children:z("header.title")})]}),a.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 min-w-0",children:[i&&a.jsx("span",{className:"text-text-secondary hidden md:inline flex-shrink-0",children:z("header.greeting",{name:i})}),a.jsxs("div",{className:"flex items-center overflow-x-auto scrollbar-hide space-x-1 md:space-x-2",children:[c.map(d=>a.jsxs(Qs,{onClick:p=>u(d.id,p),tooltip:z(`nav.${d.id}`),isActive:y(d.id),isMobile:f,children:[a.jsx(me,{name:d.icon,className:"h-6 w-6 md:h-5 md:w-5"}),d.id==="notifications"&&m>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-[10px] font-bold animate-pop-in",children:m>9?"9+":m})]},d.id)),g>0&&a.jsx(Qs,{onClick:v,tooltip:z("common.more"),"aria-label":"More menu button",isMobile:f,children:a.jsx(me,{name:"menu",className:"h-6 w-6 md:h-5 md:w-5"})}),n&&a.jsx(Qs,{onClick:()=>r(),tooltip:z("header.closeAllApps"),isMobile:f,children:a.jsx(me,{name:"clearScript",className:"h-6 w-6 md:h-5 md:w-5"})}),!l.combineLogoAndUIHide&&a.jsx(Qs,{onClick:()=>o(),tooltip:z("header.hideUI"),isMobile:f,children:a.jsx(me,{name:"hide",className:"h-6 w-6 md:h-5 md:w-5"})})]})]})]}),Qs=({onClick:o,children:r,tooltip:n,isActive:i=!1,isMobile:l,...u})=>a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("button",{onClick:o,"aria-label":u["aria-label"]||n,className:`p-3 md:p-2 rounded-full text-text-secondary transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-accent ${i?"bg-accent text-white":"bg-primary hover:bg-border-color hover:text-text-primary"}`,children:r}),a.jsx("div",{className:`absolute top-full mt-2 right-1/2 translate-x-1/2 px-2 py-1 bg-secondary text-text-primary text-xs rounded-md whitespace-nowrap opacity-0 pointer-events-none transition-opacity ${l?"":"group-hover:opacity-100"}`,children:n})]}),$b=({content:o})=>{const[r,n]=Q.useState(!1),i=o.results.filter(c=>c.status==="success").length,l=o.results.length,u=`${i}/${l} commands executed in ${o.executionTime}ms`;return a.jsxs("div",{className:"bg-secondary/50 rounded-lg p-3 space-y-2 max-w-md w-full self-center my-2 border border-border-color",children:[a.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>n(c=>!c),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{name:"check",className:"h-5 w-5 text-green-500"}),a.jsx("span",{className:"text-sm font-semibold text-text-primary",children:u})]}),a.jsx(me,{name:"chevron",className:`h-5 w-5 text-text-secondary transition-transform ${r?"rotate-180":""}`})]}),r&&a.jsx("div",{className:"pt-2 border-t border-border-color/50 space-y-1",children:o.results.map((c,g)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs animate-fade-in",style:{animationDelay:`${g*75}ms`},children:[a.jsx(me,{name:c.status==="success"?"check":"close",className:`h-3.5 w-3.5 flex-shrink-0 ${c.status==="success"?"text-green-500":"text-red-500"}`}),a.jsxs("span",{className:"font-mono text-text-secondary",children:[c.command,":"]}),a.jsx("span",{className:"text-text-secondary truncate",children:c.message})]},g))})]})},Av=({messages:o,isLoading:r,onNoteClick:n})=>{const i=Q.useRef(null);return Q.useEffect(()=>{var l;(l=i.current)==null||l.scrollIntoView({behavior:"smooth"})},[o,r]),a.jsxs("div",{className:"flex flex-col space-y-4 max-w-4xl mx-auto w-full",children:[o.map(l=>{if(l.sender==="system_note_update"){const g=l.content;return a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-secondary/60 border border-border-color/50 rounded-lg p-3 text-sm text-text-secondary italic w-full max-w-md hover:bg-border-color/50 cursor-pointer transition-colors",onClick:()=>n(g.noteId),role:"button",tabIndex:0,"aria-label":`Open note ${g.noteTitle}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(me,{name:"edit",className:"h-4 w-4 mr-3 text-accent flex-shrink-0"}),a.jsx("p",{children:g.summary})]})})},l.id)}if(l.sender==="system-command-group")return a.jsx($b,{content:l.content},l.id);let u="",c="";switch(l.sender){case"user":u="bg-accent self-end rounded-l-xl rounded-tr-xl",c="justify-end";break;case"ai":u="bg-secondary self-start rounded-r-xl rounded-tl-xl",c="justify-start";break;case"system":u="bg-transparent text-text-secondary text-sm text-center self-center italic",c="justify-center";break}return a.jsx("div",{className:`flex ${c}`,children:a.jsx("div",{className:`p-3 max-w-lg ${u}`,children:a.jsx("p",{className:"whitespace-pre-wrap",children:typeof l.content=="string"?l.content:""})})},l.id)}),r&&a.jsx("div",{className:"flex justify-start",children:a.jsxs("div",{className:"p-3 bg-secondary self-start rounded-r-xl rounded-tl-xl flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse-fast"}),a.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse-fast",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse-fast",style:{animationDelay:"0.4s"}})]})}),a.jsx("div",{ref:i})]})},om=window.SpeechRecognition||window.webkitSpeechRecognition;let im=!1;const Iv=(o,r="en-US")=>{const[n,i]=Q.useState(!1),[l,u]=Q.useState(!1),c=Q.useRef(null);Q.useEffect(()=>{if(!om){im||(console.warn("Speech Recognition API not supported in this browser."),im=!0),u(!1);return}u(!0);const m=new om;m.continuous=!1,m.interimResults=!1,m.lang=r;const f=()=>{c.current&&n&&(c.current.stop(),i(!1))};m.onresult=d=>{const p=d.results[0][0].transcript;o(p),f()},m.onerror=d=>{console.error("Speech recognition error:",d.error),f()},m.onend=()=>{i(!1)},c.current=m},[o,r,n]);const g=()=>{if(c.current&&!n)try{c.current.start(),i(!0)}catch(m){console.error("Could not start recognition",m)}},v=()=>{c.current&&n&&(c.current.stop(),i(!1))};return{isListening:n,isAvailable:l,toggleListening:()=>{n?v():g()}}},na=({onSendMessage:o,isLoading:r,onFocus:n,onBlur:i,voiceInputLanguage:l,inputDraft:u,setInputDraft:c})=>{const g=Q.useCallback(d=>{c(d)},[c]),{isListening:v,isAvailable:y,toggleListening:m}=Iv(g,l),f=d=>{d.preventDefault(),u.trim()&&!r&&o(u)};return a.jsxs("form",{onSubmit:f,className:"flex items-center space-x-2 max-w-4xl mx-auto",children:[y&&a.jsx("button",{type:"button",onClick:m,disabled:r,className:`p-2.5 rounded-full transition-colors duration-200 ${v?"bg-red-500 text-white animate-pulse":"bg-secondary text-text-secondary hover:bg-accent hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:a.jsx(me,{name:"mic",className:"h-5 w-5"})}),a.jsx("div",{className:"flex-1 relative",children:a.jsx("input",{type:"text",value:u,onChange:d=>c(d.target.value),onFocus:n,onBlur:i,placeholder:z(v?"common.listening":"common.askNexus"),disabled:r||v,className:"w-full bg-secondary border border-border-color rounded-full py-2.5 px-5 text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-200"})}),a.jsx("button",{type:"submit",disabled:r||!u.trim(),className:"p-2.5 rounded-full bg-accent text-white hover:bg-accent-hover disabled:bg-secondary disabled:text-text-secondary disabled:cursor-not-allowed transition-colors duration-200",children:a.jsx(me,{name:"send",className:"h-5 w-5"})})]})};var lu,sm;function Vb(){if(sm)return lu;sm=1;function o(){this.__data__=[],this.size=0}return lu=o,lu}var uu,am;function Mv(){if(am)return uu;am=1;function o(r,n){return r===n||r!==r&&n!==n}return uu=o,uu}var cu,lm;function ca(){if(lm)return cu;lm=1;var o=Mv();function r(n,i){for(var l=n.length;l--;)if(o(n[l][0],i))return l;return-1}return cu=r,cu}var du,um;function zb(){if(um)return du;um=1;var o=ca(),r=Array.prototype,n=r.splice;function i(l){var u=this.__data__,c=o(u,l);if(c<0)return!1;var g=u.length-1;return c==g?u.pop():n.call(u,c,1),--this.size,!0}return du=i,du}var fu,cm;function Hb(){if(cm)return fu;cm=1;var o=ca();function r(n){var i=this.__data__,l=o(i,n);return l<0?void 0:i[l][1]}return fu=r,fu}var hu,dm;function Gb(){if(dm)return hu;dm=1;var o=ca();function r(n){return o(this.__data__,n)>-1}return hu=r,hu}var pu,fm;function Wb(){if(fm)return pu;fm=1;var o=ca();function r(n,i){var l=this.__data__,u=o(l,n);return u<0?(++this.size,l.push([n,i])):l[u][1]=i,this}return pu=r,pu}var mu,hm;function da(){if(hm)return mu;hm=1;var o=Vb(),r=zb(),n=Hb(),i=Gb(),l=Wb();function u(c){var g=-1,v=c==null?0:c.length;for(this.clear();++g<v;){var y=c[g];this.set(y[0],y[1])}}return u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=n,u.prototype.has=i,u.prototype.set=l,mu=u,mu}var gu,pm;function Jb(){if(pm)return gu;pm=1;var o=da();function r(){this.__data__=new o,this.size=0}return gu=r,gu}var vu,mm;function Kb(){if(mm)return vu;mm=1;function o(r){var n=this.__data__,i=n.delete(r);return this.size=n.size,i}return vu=o,vu}var yu,gm;function Yb(){if(gm)return yu;gm=1;function o(r){return this.__data__.get(r)}return yu=o,yu}var xu,vm;function Qb(){if(vm)return xu;vm=1;function o(r){return this.__data__.has(r)}return xu=o,xu}var bu,ym;function Pv(){if(ym)return bu;ym=1;var o=typeof Hs=="object"&&Hs&&Hs.Object===Object&&Hs;return bu=o,bu}var wu,xm;function jn(){if(xm)return wu;xm=1;var o=Pv(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=o||r||Function("return this")();return wu=n,wu}var _u,bm;function ad(){if(bm)return _u;bm=1;var o=jn(),r=o.Symbol;return _u=r,_u}var Su,wm;function Zb(){if(wm)return Su;wm=1;var o=ad(),r=Object.prototype,n=r.hasOwnProperty,i=r.toString,l=o?o.toStringTag:void 0;function u(c){var g=n.call(c,l),v=c[l];try{c[l]=void 0;var y=!0}catch{}var m=i.call(c);return y&&(g?c[l]=v:delete c[l]),m}return Su=u,Su}var Tu,_m;function Xb(){if(_m)return Tu;_m=1;var o=Object.prototype,r=o.toString;function n(i){return r.call(i)}return Tu=n,Tu}var Cu,Sm;function fa(){if(Sm)return Cu;Sm=1;var o=ad(),r=Zb(),n=Xb(),i="[object Null]",l="[object Undefined]",u=o?o.toStringTag:void 0;function c(g){return g==null?g===void 0?l:i:u&&u in Object(g)?r(g):n(g)}return Cu=c,Cu}var Eu,Tm;function Rv(){if(Tm)return Eu;Tm=1;function o(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return Eu=o,Eu}var ku,Cm;function Dv(){if(Cm)return ku;Cm=1;var o=fa(),r=Rv(),n="[object AsyncFunction]",i="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function c(g){if(!r(g))return!1;var v=o(g);return v==i||v==l||v==n||v==u}return ku=c,ku}var Nu,Em;function ew(){if(Em)return Nu;Em=1;var o=jn(),r=o["__core-js_shared__"];return Nu=r,Nu}var Au,km;function tw(){if(km)return Au;km=1;var o=ew(),r=function(){var i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!r&&r in i}return Au=n,Au}var Iu,Nm;function Lv(){if(Nm)return Iu;Nm=1;var o=Function.prototype,r=o.toString;function n(i){if(i!=null){try{return r.call(i)}catch{}try{return i+""}catch{}}return""}return Iu=n,Iu}var Mu,Am;function nw(){if(Am)return Mu;Am=1;var o=Dv(),r=tw(),n=Rv(),i=Lv(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,g=Object.prototype,v=c.toString,y=g.hasOwnProperty,m=RegExp("^"+v.call(y).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||r(d))return!1;var p=o(d)?m:u;return p.test(i(d))}return Mu=f,Mu}var Pu,Im;function rw(){if(Im)return Pu;Im=1;function o(r,n){return r==null?void 0:r[n]}return Pu=o,Pu}var Ru,Mm;function Po(){if(Mm)return Ru;Mm=1;var o=nw(),r=rw();function n(i,l){var u=r(i,l);return o(u)?u:void 0}return Ru=n,Ru}var Du,Pm;function ld(){if(Pm)return Du;Pm=1;var o=Po(),r=jn(),n=o(r,"Map");return Du=n,Du}var Lu,Rm;function ha(){if(Rm)return Lu;Rm=1;var o=Po(),r=o(Object,"create");return Lu=r,Lu}var Ou,Dm;function ow(){if(Dm)return Ou;Dm=1;var o=ha();function r(){this.__data__=o?o(null):{},this.size=0}return Ou=r,Ou}var ju,Lm;function iw(){if(Lm)return ju;Lm=1;function o(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return ju=o,ju}var Uu,Om;function sw(){if(Om)return Uu;Om=1;var o=ha(),r="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function l(u){var c=this.__data__;if(o){var g=c[u];return g===r?void 0:g}return i.call(c,u)?c[u]:void 0}return Uu=l,Uu}var qu,jm;function aw(){if(jm)return qu;jm=1;var o=ha(),r=Object.prototype,n=r.hasOwnProperty;function i(l){var u=this.__data__;return o?u[l]!==void 0:n.call(u,l)}return qu=i,qu}var Fu,Um;function lw(){if(Um)return Fu;Um=1;var o=ha(),r="__lodash_hash_undefined__";function n(i,l){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=o&&l===void 0?r:l,this}return Fu=n,Fu}var Bu,qm;function uw(){if(qm)return Bu;qm=1;var o=ow(),r=iw(),n=sw(),i=aw(),l=lw();function u(c){var g=-1,v=c==null?0:c.length;for(this.clear();++g<v;){var y=c[g];this.set(y[0],y[1])}}return u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=n,u.prototype.has=i,u.prototype.set=l,Bu=u,Bu}var $u,Fm;function cw(){if(Fm)return $u;Fm=1;var o=uw(),r=da(),n=ld();function i(){this.size=0,this.__data__={hash:new o,map:new(n||r),string:new o}}return $u=i,$u}var Vu,Bm;function dw(){if(Bm)return Vu;Bm=1;function o(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return Vu=o,Vu}var zu,$m;function pa(){if($m)return zu;$m=1;var o=dw();function r(n,i){var l=n.__data__;return o(i)?l[typeof i=="string"?"string":"hash"]:l.map}return zu=r,zu}var Hu,Vm;function fw(){if(Vm)return Hu;Vm=1;var o=pa();function r(n){var i=o(this,n).delete(n);return this.size-=i?1:0,i}return Hu=r,Hu}var Gu,zm;function hw(){if(zm)return Gu;zm=1;var o=pa();function r(n){return o(this,n).get(n)}return Gu=r,Gu}var Wu,Hm;function pw(){if(Hm)return Wu;Hm=1;var o=pa();function r(n){return o(this,n).has(n)}return Wu=r,Wu}var Ju,Gm;function mw(){if(Gm)return Ju;Gm=1;var o=pa();function r(n,i){var l=o(this,n),u=l.size;return l.set(n,i),this.size+=l.size==u?0:1,this}return Ju=r,Ju}var Ku,Wm;function Ov(){if(Wm)return Ku;Wm=1;var o=cw(),r=fw(),n=hw(),i=pw(),l=mw();function u(c){var g=-1,v=c==null?0:c.length;for(this.clear();++g<v;){var y=c[g];this.set(y[0],y[1])}}return u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=n,u.prototype.has=i,u.prototype.set=l,Ku=u,Ku}var Yu,Jm;function gw(){if(Jm)return Yu;Jm=1;var o=da(),r=ld(),n=Ov(),i=200;function l(u,c){var g=this.__data__;if(g instanceof o){var v=g.__data__;if(!r||v.length<i-1)return v.push([u,c]),this.size=++g.size,this;g=this.__data__=new n(v)}return g.set(u,c),this.size=g.size,this}return Yu=l,Yu}var Qu,Km;function vw(){if(Km)return Qu;Km=1;var o=da(),r=Jb(),n=Kb(),i=Yb(),l=Qb(),u=gw();function c(g){var v=this.__data__=new o(g);this.size=v.size}return c.prototype.clear=r,c.prototype.delete=n,c.prototype.get=i,c.prototype.has=l,c.prototype.set=u,Qu=c,Qu}var Zu,Ym;function yw(){if(Ym)return Zu;Ym=1;var o="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,o),this}return Zu=r,Zu}var Xu,Qm;function xw(){if(Qm)return Xu;Qm=1;function o(r){return this.__data__.has(r)}return Xu=o,Xu}var ec,Zm;function bw(){if(Zm)return ec;Zm=1;var o=Ov(),r=yw(),n=xw();function i(l){var u=-1,c=l==null?0:l.length;for(this.__data__=new o;++u<c;)this.add(l[u])}return i.prototype.add=i.prototype.push=r,i.prototype.has=n,ec=i,ec}var tc,Xm;function ww(){if(Xm)return tc;Xm=1;function o(r,n){for(var i=-1,l=r==null?0:r.length;++i<l;)if(n(r[i],i,r))return!0;return!1}return tc=o,tc}var nc,eg;function _w(){if(eg)return nc;eg=1;function o(r,n){return r.has(n)}return nc=o,nc}var rc,tg;function jv(){if(tg)return rc;tg=1;var o=bw(),r=ww(),n=_w(),i=1,l=2;function u(c,g,v,y,m,f){var d=v&i,p=c.length,_=g.length;if(p!=_&&!(d&&_>p))return!1;var S=f.get(c),w=f.get(g);if(S&&w)return S==g&&w==c;var T=-1,b=!0,E=v&l?new o:void 0;for(f.set(c,g),f.set(g,c);++T<p;){var x=c[T],N=g[T];if(y)var R=d?y(N,x,T,g,c,f):y(x,N,T,c,g,f);if(R!==void 0){if(R)continue;b=!1;break}if(E){if(!r(g,function(P,O){if(!n(E,O)&&(x===P||m(x,P,v,y,f)))return E.push(O)})){b=!1;break}}else if(!(x===N||m(x,N,v,y,f))){b=!1;break}}return f.delete(c),f.delete(g),b}return rc=u,rc}var oc,ng;function Sw(){if(ng)return oc;ng=1;var o=jn(),r=o.Uint8Array;return oc=r,oc}var ic,rg;function Tw(){if(rg)return ic;rg=1;function o(r){var n=-1,i=Array(r.size);return r.forEach(function(l,u){i[++n]=[u,l]}),i}return ic=o,ic}var sc,og;function Cw(){if(og)return sc;og=1;function o(r){var n=-1,i=Array(r.size);return r.forEach(function(l){i[++n]=l}),i}return sc=o,sc}var ac,ig;function Ew(){if(ig)return ac;ig=1;var o=ad(),r=Sw(),n=Mv(),i=jv(),l=Tw(),u=Cw(),c=1,g=2,v="[object Boolean]",y="[object Date]",m="[object Error]",f="[object Map]",d="[object Number]",p="[object RegExp]",_="[object Set]",S="[object String]",w="[object Symbol]",T="[object ArrayBuffer]",b="[object DataView]",E=o?o.prototype:void 0,x=E?E.valueOf:void 0;function N(R,P,O,U,D,M,L){switch(O){case b:if(R.byteLength!=P.byteLength||R.byteOffset!=P.byteOffset)return!1;R=R.buffer,P=P.buffer;case T:return!(R.byteLength!=P.byteLength||!M(new r(R),new r(P)));case v:case y:case d:return n(+R,+P);case m:return R.name==P.name&&R.message==P.message;case p:case S:return R==P+"";case f:var j=l;case _:var $=U&c;if(j||(j=u),R.size!=P.size&&!$)return!1;var H=L.get(R);if(H)return H==P;U|=g,L.set(R,P);var ee=i(j(R),j(P),U,D,M,L);return L.delete(R),ee;case w:if(x)return x.call(R)==x.call(P)}return!1}return ac=N,ac}var lc,sg;function kw(){if(sg)return lc;sg=1;function o(r,n){for(var i=-1,l=n.length,u=r.length;++i<l;)r[u+i]=n[i];return r}return lc=o,lc}var uc,ag;function ud(){if(ag)return uc;ag=1;var o=Array.isArray;return uc=o,uc}var cc,lg;function Nw(){if(lg)return cc;lg=1;var o=kw(),r=ud();function n(i,l,u){var c=l(i);return r(i)?c:o(c,u(i))}return cc=n,cc}var dc,ug;function Aw(){if(ug)return dc;ug=1;function o(r,n){for(var i=-1,l=r==null?0:r.length,u=0,c=[];++i<l;){var g=r[i];n(g,i,r)&&(c[u++]=g)}return c}return dc=o,dc}var fc,cg;function Iw(){if(cg)return fc;cg=1;function o(){return[]}return fc=o,fc}var hc,dg;function Mw(){if(dg)return hc;dg=1;var o=Aw(),r=Iw(),n=Object.prototype,i=n.propertyIsEnumerable,l=Object.getOwnPropertySymbols,u=l?function(c){return c==null?[]:(c=Object(c),o(l(c),function(g){return i.call(c,g)}))}:r;return hc=u,hc}var pc,fg;function Pw(){if(fg)return pc;fg=1;function o(r,n){for(var i=-1,l=Array(r);++i<r;)l[i]=n(i);return l}return pc=o,pc}var mc,hg;function ma(){if(hg)return mc;hg=1;function o(r){return r!=null&&typeof r=="object"}return mc=o,mc}var gc,pg;function Rw(){if(pg)return gc;pg=1;var o=fa(),r=ma(),n="[object Arguments]";function i(l){return r(l)&&o(l)==n}return gc=i,gc}var vc,mg;function Dw(){if(mg)return vc;mg=1;var o=Rw(),r=ma(),n=Object.prototype,i=n.hasOwnProperty,l=n.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(c){return r(c)&&i.call(c,"callee")&&!l.call(c,"callee")};return vc=u,vc}var Ai={exports:{}},yc,gg;function Lw(){if(gg)return yc;gg=1;function o(){return!1}return yc=o,yc}Ai.exports;var vg;function Uv(){return vg||(vg=1,function(o,r){var n=jn(),i=Lw(),l=r&&!r.nodeType&&r,u=l&&!0&&o&&!o.nodeType&&o,c=u&&u.exports===l,g=c?n.Buffer:void 0,v=g?g.isBuffer:void 0,y=v||i;o.exports=y}(Ai,Ai.exports)),Ai.exports}var xc,yg;function Ow(){if(yg)return xc;yg=1;var o=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(i,l){var u=typeof i;return l=l??o,!!l&&(u=="number"||u!="symbol"&&r.test(i))&&i>-1&&i%1==0&&i<l}return xc=n,xc}var bc,xg;function qv(){if(xg)return bc;xg=1;var o=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=o}return bc=r,bc}var wc,bg;function jw(){if(bg)return wc;bg=1;var o=fa(),r=qv(),n=ma(),i="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",g="[object Error]",v="[object Function]",y="[object Map]",m="[object Number]",f="[object Object]",d="[object RegExp]",p="[object Set]",_="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",b="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",N="[object Int16Array]",R="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",U="[object Uint16Array]",D="[object Uint32Array]",M={};M[b]=M[E]=M[x]=M[N]=M[R]=M[P]=M[O]=M[U]=M[D]=!0,M[i]=M[l]=M[w]=M[u]=M[T]=M[c]=M[g]=M[v]=M[y]=M[m]=M[f]=M[d]=M[p]=M[_]=M[S]=!1;function L(j){return n(j)&&r(j.length)&&!!M[o(j)]}return wc=L,wc}var _c,wg;function Uw(){if(wg)return _c;wg=1;function o(r){return function(n){return r(n)}}return _c=o,_c}var Ii={exports:{}};Ii.exports;var _g;function qw(){return _g||(_g=1,function(o,r){var n=Pv(),i=r&&!r.nodeType&&r,l=i&&!0&&o&&!o.nodeType&&o,u=l&&l.exports===i,c=u&&n.process,g=function(){try{var v=l&&l.require&&l.require("util").types;return v||c&&c.binding&&c.binding("util")}catch{}}();o.exports=g}(Ii,Ii.exports)),Ii.exports}var Sc,Sg;function Fv(){if(Sg)return Sc;Sg=1;var o=jw(),r=Uw(),n=qw(),i=n&&n.isTypedArray,l=i?r(i):o;return Sc=l,Sc}var Tc,Tg;function Fw(){if(Tg)return Tc;Tg=1;var o=Pw(),r=Dw(),n=ud(),i=Uv(),l=Ow(),u=Fv(),c=Object.prototype,g=c.hasOwnProperty;function v(y,m){var f=n(y),d=!f&&r(y),p=!f&&!d&&i(y),_=!f&&!d&&!p&&u(y),S=f||d||p||_,w=S?o(y.length,String):[],T=w.length;for(var b in y)(m||g.call(y,b))&&!(S&&(b=="length"||p&&(b=="offset"||b=="parent")||_&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||l(b,T)))&&w.push(b);return w}return Tc=v,Tc}var Cc,Cg;function Bw(){if(Cg)return Cc;Cg=1;var o=Object.prototype;function r(n){var i=n&&n.constructor,l=typeof i=="function"&&i.prototype||o;return n===l}return Cc=r,Cc}var Ec,Eg;function $w(){if(Eg)return Ec;Eg=1;function o(r,n){return function(i){return r(n(i))}}return Ec=o,Ec}var kc,kg;function Vw(){if(kg)return kc;kg=1;var o=$w(),r=o(Object.keys,Object);return kc=r,kc}var Nc,Ng;function zw(){if(Ng)return Nc;Ng=1;var o=Bw(),r=Vw(),n=Object.prototype,i=n.hasOwnProperty;function l(u){if(!o(u))return r(u);var c=[];for(var g in Object(u))i.call(u,g)&&g!="constructor"&&c.push(g);return c}return Nc=l,Nc}var Ac,Ag;function Hw(){if(Ag)return Ac;Ag=1;var o=Dv(),r=qv();function n(i){return i!=null&&r(i.length)&&!o(i)}return Ac=n,Ac}var Ic,Ig;function Gw(){if(Ig)return Ic;Ig=1;var o=Fw(),r=zw(),n=Hw();function i(l){return n(l)?o(l):r(l)}return Ic=i,Ic}var Mc,Mg;function Ww(){if(Mg)return Mc;Mg=1;var o=Nw(),r=Mw(),n=Gw();function i(l){return o(l,n,r)}return Mc=i,Mc}var Pc,Pg;function Jw(){if(Pg)return Pc;Pg=1;var o=Ww(),r=1,n=Object.prototype,i=n.hasOwnProperty;function l(u,c,g,v,y,m){var f=g&r,d=o(u),p=d.length,_=o(c),S=_.length;if(p!=S&&!f)return!1;for(var w=p;w--;){var T=d[w];if(!(f?T in c:i.call(c,T)))return!1}var b=m.get(u),E=m.get(c);if(b&&E)return b==c&&E==u;var x=!0;m.set(u,c),m.set(c,u);for(var N=f;++w<p;){T=d[w];var R=u[T],P=c[T];if(v)var O=f?v(P,R,T,c,u,m):v(R,P,T,u,c,m);if(!(O===void 0?R===P||y(R,P,g,v,m):O)){x=!1;break}N||(N=T=="constructor")}if(x&&!N){var U=u.constructor,D=c.constructor;U!=D&&"constructor"in u&&"constructor"in c&&!(typeof U=="function"&&U instanceof U&&typeof D=="function"&&D instanceof D)&&(x=!1)}return m.delete(u),m.delete(c),x}return Pc=l,Pc}var Rc,Rg;function Kw(){if(Rg)return Rc;Rg=1;var o=Po(),r=jn(),n=o(r,"DataView");return Rc=n,Rc}var Dc,Dg;function Yw(){if(Dg)return Dc;Dg=1;var o=Po(),r=jn(),n=o(r,"Promise");return Dc=n,Dc}var Lc,Lg;function Qw(){if(Lg)return Lc;Lg=1;var o=Po(),r=jn(),n=o(r,"Set");return Lc=n,Lc}var Oc,Og;function Zw(){if(Og)return Oc;Og=1;var o=Po(),r=jn(),n=o(r,"WeakMap");return Oc=n,Oc}var jc,jg;function Xw(){if(jg)return jc;jg=1;var o=Kw(),r=ld(),n=Yw(),i=Qw(),l=Zw(),u=fa(),c=Lv(),g="[object Map]",v="[object Object]",y="[object Promise]",m="[object Set]",f="[object WeakMap]",d="[object DataView]",p=c(o),_=c(r),S=c(n),w=c(i),T=c(l),b=u;return(o&&b(new o(new ArrayBuffer(1)))!=d||r&&b(new r)!=g||n&&b(n.resolve())!=y||i&&b(new i)!=m||l&&b(new l)!=f)&&(b=function(E){var x=u(E),N=x==v?E.constructor:void 0,R=N?c(N):"";if(R)switch(R){case p:return d;case _:return g;case S:return y;case w:return m;case T:return f}return x}),jc=b,jc}var Uc,Ug;function e_(){if(Ug)return Uc;Ug=1;var o=vw(),r=jv(),n=Ew(),i=Jw(),l=Xw(),u=ud(),c=Uv(),g=Fv(),v=1,y="[object Arguments]",m="[object Array]",f="[object Object]",d=Object.prototype,p=d.hasOwnProperty;function _(S,w,T,b,E,x){var N=u(S),R=u(w),P=N?m:l(S),O=R?m:l(w);P=P==y?f:P,O=O==y?f:O;var U=P==f,D=O==f,M=P==O;if(M&&c(S)){if(!c(w))return!1;N=!0,U=!1}if(M&&!U)return x||(x=new o),N||g(S)?r(S,w,T,b,E,x):n(S,w,P,T,b,E,x);if(!(T&v)){var L=U&&p.call(S,"__wrapped__"),j=D&&p.call(w,"__wrapped__");if(L||j){var $=L?S.value():S,H=j?w.value():w;return x||(x=new o),E($,H,T,b,x)}}return M?(x||(x=new o),i(S,w,T,b,E,x)):!1}return Uc=_,Uc}var qc,qg;function t_(){if(qg)return qc;qg=1;var o=e_(),r=ma();function n(i,l,u,c,g){return i===l?!0:i==null||l==null||!r(i)&&!r(l)?i!==i&&l!==l:o(i,l,u,c,n,g)}return qc=n,qc}var Fc,Fg;function n_(){if(Fg)return Fc;Fg=1;var o=t_();function r(n,i){return o(n,i)}return Fc=r,Fc}var ra={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var r_=ra.exports,Bg;function o_(){return Bg||(Bg=1,function(o,r){(function(i,l){o.exports=l()})(typeof self<"u"?self:r_,function(){return function(n){var i={};function l(u){if(i[u])return i[u].exports;var c=i[u]={i:u,l:!1,exports:{}};return n[u].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=n,l.c=i,l.d=function(u,c,g){l.o(u,c)||Object.defineProperty(u,c,{configurable:!1,enumerable:!0,get:g})},l.n=function(u){var c=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(c,"a",c),c},l.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},l.p="",l(l.s=109)}([function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(17),c=l(18),g=l(19),v=l(45),y=l(46),m=l(47),f=l(48),d=l(49),p=l(12),_=l(32),S=l(33),w=l(31),T=l(1),b={Scope:T.Scope,create:T.create,find:T.find,query:T.query,register:T.register,Container:u.default,Format:c.default,Leaf:g.default,Embed:f.default,Scroll:v.default,Block:m.default,Inline:y.default,Text:d.default,Attributor:{Attribute:p.default,Class:_.default,Style:S.default,Store:w.default}};i.default=b},function(n,i,l){var u=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,b){T.__proto__=b}||function(T,b){for(var E in b)b.hasOwnProperty(E)&&(T[E]=b[E])};return function(T,b){w(T,b);function E(){this.constructor=T}T.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=function(w){u(T,w);function T(b){var E=this;return b="[Parchment] "+b,E=w.call(this,b)||this,E.message=b,E.name=E.constructor.name,E}return T}(Error);i.ParchmentError=c;var g={},v={},y={},m={};i.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=i.Scope||(i.Scope={}));function d(w,T){var b=_(w);if(b==null)throw new c("Unable to create "+w+" blot");var E=b,x=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(T);return new E(x,T)}i.create=d;function p(w,T){return T===void 0&&(T=!1),w==null?null:w[i.DATA_KEY]!=null?w[i.DATA_KEY].blot:T?p(w.parentNode,T):null}i.find=p;function _(w,T){T===void 0&&(T=f.ANY);var b;if(typeof w=="string")b=m[w]||g[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)b=m.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?b=m.block:w&f.LEVEL&f.INLINE&&(b=m.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var x in E)if(b=v[E[x]],b)break;b=b||y[w.tagName]}return b==null?null:T&f.LEVEL&b.scope&&T&f.TYPE&b.scope?b:null}i.query=_;function S(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];if(w.length>1)return w.map(function(x){return S(x)});var b=w[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new c("Invalid definition");if(b.blotName==="abstract")throw new c("Cannot register abstract class");if(m[b.blotName||b.attrName]=b,typeof b.keyName=="string")g[b.keyName]=b;else if(b.className!=null&&(v[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(x){return x.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var E=Array.isArray(b.tagName)?b.tagName:[b.tagName];E.forEach(function(x){(y[x]==null||b.className==null)&&(y[x]=b)})}return b}i.register=S},function(n,i,l){var u=l(51),c=l(11),g=l(3),v=l(20),y="\0",m=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};m.prototype.insert=function(f,d){var p={};return f.length===0?this:(p.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},m.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},m.prototype.retain=function(f,d){if(f<=0)return this;var p={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},m.prototype.push=function(f){var d=this.ops.length,p=this.ops[d-1];if(f=g(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(f),this;if(c(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},m.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},m.prototype.filter=function(f){return this.ops.filter(f)},m.prototype.forEach=function(f){this.ops.forEach(f)},m.prototype.map=function(f){return this.ops.map(f)},m.prototype.partition=function(f){var d=[],p=[];return this.forEach(function(_){var S=f(_)?d:p;S.push(_)}),[d,p]},m.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},m.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+v.length(d):d.delete?f-d.delete:f},0)},m.prototype.length=function(){return this.reduce(function(f,d){return f+v.length(d)},0)},m.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var p=[],_=v.iterator(this.ops),S=0;S<d&&_.hasNext();){var w;S<f?w=_.next(f-S):(w=_.next(d-S),p.push(w)),S+=v.length(w)}return new m(p)},m.prototype.compose=function(f){var d=v.iterator(this.ops),p=v.iterator(f.ops),_=[],S=p.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){for(var w=S.retain;d.peekType()==="insert"&&d.peekLength()<=w;)w-=d.peekLength(),_.push(d.next());S.retain-w>0&&p.next(S.retain-w)}for(var T=new m(_);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")T.push(p.next());else if(d.peekType()==="delete")T.push(d.next());else{var b=Math.min(d.peekLength(),p.peekLength()),E=d.next(b),x=p.next(b);if(typeof x.retain=="number"){var N={};typeof E.retain=="number"?N.retain=b:N.insert=E.insert;var R=v.attributes.compose(E.attributes,x.attributes,typeof E.retain=="number");if(R&&(N.attributes=R),T.push(N),!p.hasNext()&&c(T.ops[T.ops.length-1],N)){var P=new m(d.rest());return T.concat(P).chop()}}else typeof x.delete=="number"&&typeof E.retain=="number"&&T.push(x)}return T.chop()},m.prototype.concat=function(f){var d=new m(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},m.prototype.diff=function(f,d){if(this.ops===f.ops)return new m;var p=[this,f].map(function(b){return b.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:y;var x=b===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),_=new m,S=u(p[0],p[1],d),w=v.iterator(this.ops),T=v.iterator(f.ops);return S.forEach(function(b){for(var E=b[1].length;E>0;){var x=0;switch(b[0]){case u.INSERT:x=Math.min(T.peekLength(),E),_.push(T.next(x));break;case u.DELETE:x=Math.min(E,w.peekLength()),w.next(x),_.delete(x);break;case u.EQUAL:x=Math.min(w.peekLength(),T.peekLength(),E);var N=w.next(x),R=T.next(x);c(N.insert,R.insert)?_.retain(x,v.attributes.diff(N.attributes,R.attributes)):_.push(R).delete(x);break}E-=x}}),_.chop()},m.prototype.eachLine=function(f,d){d=d||`
`;for(var p=v.iterator(this.ops),_=new m,S=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),T=v.length(w)-p.peekLength(),b=typeof w.insert=="string"?w.insert.indexOf(d,T)-T:-1;if(b<0)_.push(p.next());else if(b>0)_.push(p.next(b));else{if(f(_,p.next(1).attributes||{},S)===!1)return;S+=1,_=new m}}_.length()>0&&f(_,{},S)},m.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var p=v.iterator(this.ops),_=v.iterator(f.ops),S=new m;p.hasNext()||_.hasNext();)if(p.peekType()==="insert"&&(d||_.peekType()!=="insert"))S.retain(v.length(p.next()));else if(_.peekType()==="insert")S.push(_.next());else{var w=Math.min(p.peekLength(),_.peekLength()),T=p.next(w),b=_.next(w);if(T.delete)continue;b.delete?S.push(b):S.retain(w,v.attributes.transform(T.attributes,b.attributes,d))}return S.chop()},m.prototype.transformPosition=function(f,d){d=!!d;for(var p=v.iterator(this.ops),_=0;p.hasNext()&&_<=f;){var S=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){f-=Math.min(S,f-_);continue}else w==="insert"&&(_<f||!d)&&(f+=S);_+=S}return f},n.exports=m},function(n,i){var l=Object.prototype.hasOwnProperty,u=Object.prototype.toString,c=Object.defineProperty,g=Object.getOwnPropertyDescriptor,v=function(p){return typeof Array.isArray=="function"?Array.isArray(p):u.call(p)==="[object Array]"},y=function(p){if(!p||u.call(p)!=="[object Object]")return!1;var _=l.call(p,"constructor"),S=p.constructor&&p.constructor.prototype&&l.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!_&&!S)return!1;var w;for(w in p);return typeof w>"u"||l.call(p,w)},m=function(p,_){c&&_.name==="__proto__"?c(p,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):p[_.name]=_.newValue},f=function(p,_){if(_==="__proto__")if(l.call(p,_)){if(g)return g(p,_).value}else return;return p[_]};n.exports=function d(){var p,_,S,w,T,b,E=arguments[0],x=1,N=arguments.length,R=!1;for(typeof E=="boolean"&&(R=E,E=arguments[1]||{},x=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});x<N;++x)if(p=arguments[x],p!=null)for(_ in p)S=f(E,_),w=f(p,_),E!==w&&(R&&w&&(y(w)||(T=v(w)))?(T?(T=!1,b=S&&v(S)?S:[]):b=S&&y(S)?S:{},m(E,{name:_,newValue:d(R,b,w)})):typeof w<"u"&&m(E,{name:_,newValue:w}));return E}},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var u=function(){function M(L,j){for(var $=0;$<j.length;$++){var H=j[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(L,H.key,H)}}return function(L,j,$){return j&&M(L.prototype,j),$&&M(L,$),L}}(),c=function M(L,j,$){L===null&&(L=Function.prototype);var H=Object.getOwnPropertyDescriptor(L,j);if(H===void 0){var ee=Object.getPrototypeOf(L);return ee===null?void 0:M(ee,j,$)}else{if("value"in H)return H.value;var ne=H.get;return ne===void 0?void 0:ne.call($)}},g=l(3),v=E(g),y=l(2),m=E(y),f=l(0),d=E(f),p=l(16),_=E(p),S=l(6),w=E(S),T=l(7),b=E(T);function E(M){return M&&M.__esModule?M:{default:M}}function x(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function N(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:M}function R(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}var P=1,O=function(M){R(L,M);function L(){return x(this,L),N(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return u(L,[{key:"attach",value:function(){c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new m.default().insert(this.value(),(0,v.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,H){var ee=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);ee!=null&&this.attributes.attribute(ee,H)}},{key:"formatAt",value:function($,H,ee,ne){this.format(ee,ne)}},{key:"insertAt",value:function($,H,ee){if(typeof H=="string"&&H.endsWith(`
`)){var ne=d.default.create(U.blotName);this.parent.insertBefore(ne,$===0?this:this.next),ne.insertAt(0,H.slice(0,-1))}else c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,H,ee)}}]),L}(d.default.Embed);O.scope=d.default.Scope.BLOCK_BLOT;var U=function(M){R(L,M);function L(j){x(this,L);var $=N(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,j));return $.cache={},$}return u(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,H){return H.length()===0?$:$.insert(H.value(),D(H))},new m.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function($,H){c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,$,H),this.cache={}}},{key:"formatAt",value:function($,H,ee,ne){H<=0||(d.default.query(ee,d.default.Scope.BLOCK)?$+H===this.length()&&this.format(ee,ne):c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,$,Math.min(H,this.length()-$-1),ee,ne),this.cache={})}},{key:"insertAt",value:function($,H,ee){if(ee!=null)return c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,H,ee);if(H.length!==0){var ne=H.split(`
`),re=ne.shift();re.length>0&&($<this.length()-1||this.children.tail==null?c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var W=this;ne.reduce(function(A,k){return W=W.split(A,!0),W.insertAt(0,k),k.length},$+re.length)}}},{key:"insertBefore",value:function($,H){var ee=this.children.head;c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,$,H),ee instanceof _.default&&ee.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function($,H){c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,$,H),this.cache={}}},{key:"optimize",value:function($){c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&($===0||$>=this.length()-P)){var ee=this.clone();return $===0?(this.parent.insertBefore(ee,this),this):(this.parent.insertBefore(ee,this.next),ee)}else{var ne=c(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,$,H);return this.cache={},ne}}}]),L}(d.default.Block);U.blotName="block",U.tagName="P",U.defaultChild="break",U.allowedChildren=[w.default,d.default.Embed,b.default];function D(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M==null||(typeof M.formats=="function"&&(L=(0,v.default)(L,M.formats())),M.parent==null||M.parent.blotName=="scroll"||M.parent.statics.scope!==M.statics.scope)?L:D(M.parent,L)}i.bubbleFormats=D,i.BlockEmbed=O,i.default=U},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},c=function(){function W(A,k){var q=[],V=!0,K=!1,J=void 0;try{for(var B=A[Symbol.iterator](),G;!(V=(G=B.next()).done)&&(q.push(G.value),!(k&&q.length===k));V=!0);}catch(Y){K=!0,J=Y}finally{try{!V&&B.return&&B.return()}finally{if(K)throw J}}return q}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return W(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function W(A,k){for(var q=0;q<k.length;q++){var V=k[q];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,V.key,V)}}return function(A,k,q){return k&&W(A.prototype,k),q&&W(A,q),A}}();l(50);var v=l(2),y=D(v),m=l(14),f=D(m),d=l(8),p=D(d),_=l(9),S=D(_),w=l(0),T=D(w),b=l(15),E=D(b),x=l(3),N=D(x),R=l(10),P=D(R),O=l(34),U=D(O);function D(W){return W&&W.__esModule?W:{default:W}}function M(W,A,k){return A in W?Object.defineProperty(W,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):W[A]=k,W}function L(W,A){if(!(W instanceof A))throw new TypeError("Cannot call a class as a function")}var j=(0,P.default)("quill"),$=function(){g(W,null,[{key:"debug",value:function(k){k===!0&&(k="log"),P.default.level(k)}},{key:"find",value:function(k){return k.__quill||T.default.find(k)}},{key:"import",value:function(k){return this.imports[k]==null&&j.error("Cannot import "+k+". Are you sure it was registered?"),this.imports[k]}},{key:"register",value:function(k,q){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof k!="string"){var J=k.attrName||k.blotName;typeof J=="string"?this.register("formats/"+J,k,q):Object.keys(k).forEach(function(B){V.register(B,k[B],q)})}else this.imports[k]!=null&&!K&&j.warn("Overwriting "+k+" with",q),this.imports[k]=q,(k.startsWith("blots/")||k.startsWith("formats/"))&&q.blotName!=="abstract"?T.default.register(q):k.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function W(A){var k=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,W),this.options=H(A,q),this.container=this.options.container,this.container==null)return j.error("Invalid Quill container",A);this.options.debug&&W.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=T.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(J){J===p.default.events.TEXT_CHANGE&&k.root.classList.toggle("ql-blank",k.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(J,B){var G=k.selection.lastRange,Y=G&&G.length===0?G.index:void 0;ee.call(k,function(){return k.editor.update(null,B,Y)},J)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return g(W,[{key:"addContainer",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof k=="string"){var V=k;k=document.createElement("div"),k.classList.add(V)}return this.container.insertBefore(k,q),k}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(k,q,V){var K=this,J=ne(k,q,V),B=c(J,4);return k=B[0],q=B[1],V=B[3],ee.call(this,function(){return K.editor.deleteText(k,q)},V,k,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(k),this.container.classList.toggle("ql-disabled",!k)}},{key:"focus",value:function(){var k=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=k,this.scrollIntoView()}},{key:"format",value:function(k,q){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return ee.call(this,function(){var J=V.getSelection(!0),B=new y.default;if(J==null)return B;if(T.default.query(k,T.default.Scope.BLOCK))B=V.editor.formatLine(J.index,J.length,M({},k,q));else{if(J.length===0)return V.selection.format(k,q),B;B=V.editor.formatText(J.index,J.length,M({},k,q))}return V.setSelection(J,p.default.sources.SILENT),B},K)}},{key:"formatLine",value:function(k,q,V,K,J){var B=this,G=void 0,Y=ne(k,q,V,K,J),X=c(Y,4);return k=X[0],q=X[1],G=X[2],J=X[3],ee.call(this,function(){return B.editor.formatLine(k,q,G)},J,k,0)}},{key:"formatText",value:function(k,q,V,K,J){var B=this,G=void 0,Y=ne(k,q,V,K,J),X=c(Y,4);return k=X[0],q=X[1],G=X[2],J=X[3],ee.call(this,function(){return B.editor.formatText(k,q,G)},J,k,0)}},{key:"getBounds",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof k=="number"?V=this.selection.getBounds(k,q):V=this.selection.getBounds(k.index,k.length);var K=this.container.getBoundingClientRect();return{bottom:V.bottom-K.top,height:V.height,left:V.left-K.left,right:V.right-K.left,top:V.top-K.top,width:V.width}}},{key:"getContents",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-k,V=ne(k,q),K=c(V,2);return k=K[0],q=K[1],this.editor.getContents(k,q)}},{key:"getFormat",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof k=="number"?this.editor.getFormat(k,q):this.editor.getFormat(k.index,k.length)}},{key:"getIndex",value:function(k){return k.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(k){return this.scroll.leaf(k)}},{key:"getLine",value:function(k){return this.scroll.line(k)}},{key:"getLines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof k!="number"?this.scroll.lines(k.index,k.length):this.scroll.lines(k,q)}},{key:"getModule",value:function(k){return this.theme.modules[k]}},{key:"getSelection",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return k&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-k,V=ne(k,q),K=c(V,2);return k=K[0],q=K[1],this.editor.getText(k,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(k,q,V){var K=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return ee.call(this,function(){return K.editor.insertEmbed(k,q,V)},J,k)}},{key:"insertText",value:function(k,q,V,K,J){var B=this,G=void 0,Y=ne(k,0,V,K,J),X=c(Y,4);return k=X[0],G=X[2],J=X[3],ee.call(this,function(){return B.editor.insertText(k,q,G)},J,k,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(k,q,V){this.clipboard.dangerouslyPasteHTML(k,q,V)}},{key:"removeFormat",value:function(k,q,V){var K=this,J=ne(k,q,V),B=c(J,4);return k=B[0],q=B[1],V=B[3],ee.call(this,function(){return K.editor.removeFormat(k,q)},V,k)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(k){var q=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return ee.call(this,function(){k=new y.default(k);var K=q.getLength(),J=q.editor.deleteText(0,K),B=q.editor.applyDelta(k),G=B.ops[B.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),B.delete(1));var Y=J.compose(B);return Y},V)}},{key:"setSelection",value:function(k,q,V){if(k==null)this.selection.setRange(null,q||W.sources.API);else{var K=ne(k,q,V),J=c(K,4);k=J[0],q=J[1],V=J[3],this.selection.setRange(new b.Range(k,q),V),V!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,V=new y.default().insert(k);return this.setContents(V,q)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,q=this.scroll.update(k);return this.selection.update(k),q}},{key:"updateContents",value:function(k){var q=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return ee.call(this,function(){return k=new y.default(k),q.editor.applyDelta(k,V)},V,!0)}}]),W}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=p.default.events,$.sources=p.default.sources,$.version="1.3.7",$.imports={delta:y.default,parchment:T.default,"core/module":S.default,"core/theme":U.default};function H(W,A){if(A=(0,N.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},A),!A.theme||A.theme===$.DEFAULTS.theme)A.theme=U.default;else if(A.theme=$.import("themes/"+A.theme),A.theme==null)throw new Error("Invalid theme "+A.theme+". Did you register it?");var k=(0,N.default)(!0,{},A.theme.DEFAULTS);[k,A].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(J){K.modules[J]===!0&&(K.modules[J]={})})});var q=Object.keys(k.modules).concat(Object.keys(A.modules)),V=q.reduce(function(K,J){var B=$.import("modules/"+J);return B==null?j.error("Cannot load "+J+" module. Are you sure you registered it?"):K[J]=B.DEFAULTS||{},K},{});return A.modules!=null&&A.modules.toolbar&&A.modules.toolbar.constructor!==Object&&(A.modules.toolbar={container:A.modules.toolbar}),A=(0,N.default)(!0,{},$.DEFAULTS,{modules:V},k,A),["bounds","container","scrollingContainer"].forEach(function(K){typeof A[K]=="string"&&(A[K]=document.querySelector(A[K]))}),A.modules=Object.keys(A.modules).reduce(function(K,J){return A.modules[J]&&(K[J]=A.modules[J]),K},{}),A}function ee(W,A,k,q){if(this.options.strict&&!this.isEnabled()&&A===p.default.sources.USER)return new y.default;var V=k==null?null:this.getSelection(),K=this.editor.delta,J=W();if(V!=null&&(k===!0&&(k=V.index),q==null?V=re(V,J,A):q!==0&&(V=re(V,k,q,A)),this.setSelection(V,p.default.sources.SILENT)),J.length()>0){var B,G=[p.default.events.TEXT_CHANGE,J,K,A];if((B=this.emitter).emit.apply(B,[p.default.events.EDITOR_CHANGE].concat(G)),A!==p.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,G)}}return J}function ne(W,A,k,q,V){var K={};return typeof W.index=="number"&&typeof W.length=="number"?typeof A!="number"?(V=q,q=k,k=A,A=W.length,W=W.index):(A=W.length,W=W.index):typeof A!="number"&&(V=q,q=k,k=A,A=0),(typeof k>"u"?"undefined":u(k))==="object"?(K=k,V=q):typeof k=="string"&&(q!=null?K[k]=q:V=k),V=V||p.default.sources.API,[W,A,K,V]}function re(W,A,k,q){if(W==null)return null;var V=void 0,K=void 0;if(A instanceof y.default){var J=[W.index,W.index+W.length].map(function(X){return A.transformPosition(X,q!==p.default.sources.USER)}),B=c(J,2);V=B[0],K=B[1]}else{var G=[W.index,W.index+W.length].map(function(X){return X<A||X===A&&q===p.default.sources.USER?X:k>=0?X+k:Math.max(A,X+k)}),Y=c(G,2);V=Y[0],K=Y[1]}return new b.Range(V,K-V)}i.expandConfig=H,i.overload=ne,i.default=$},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function w(T,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,x.key,x)}}return function(T,b,E){return b&&w(T.prototype,b),E&&w(T,E),T}}(),c=function w(T,b,E){T===null&&(T=Function.prototype);var x=Object.getOwnPropertyDescriptor(T,b);if(x===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:w(N,b,E)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(E)}},g=l(7),v=f(g),y=l(0),m=f(y);function f(w){return w&&w.__esModule?w:{default:w}}function d(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function p(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function _(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var S=function(w){_(T,w);function T(){return d(this,T),p(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return u(T,[{key:"formatAt",value:function(E,x,N,R){if(T.compare(this.statics.blotName,N)<0&&m.default.query(N,m.default.Scope.BLOT)){var P=this.isolate(E,x);R&&P.wrap(N,R)}else c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,E,x,N,R)}},{key:"optimize",value:function(E){if(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,E),this.parent instanceof T&&T.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(E,x){var N=T.order.indexOf(E),R=T.order.indexOf(x);return N>=0||R>=0?N-R:E===x?0:E<x?-1:1}}]),T}(m.default.Inline);S.allowedChildren=[S,m.default.Embed,v.default],S.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=S},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(0),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}function v(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function y(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function m(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){m(p,d);function p(){return v(this,p),y(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(c.default.Text);i.default=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function b(E,x){for(var N=0;N<x.length;N++){var R=x[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,x,N){return x&&b(E.prototype,x),N&&b(E,N),E}}(),c=function b(E,x,N){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,x);if(R===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:b(P,x,N)}else{if("value"in R)return R.value;var O=R.get;return O===void 0?void 0:O.call(N)}},g=l(54),v=f(g),y=l(10),m=f(y);function f(b){return b&&b.__esModule?b:{default:b}}function d(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function p(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function _(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var S=(0,m.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(b){document.addEventListener(b,function(){for(var E=arguments.length,x=Array(E),N=0;N<E;N++)x[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var P;(P=R.__quill.emitter).handleDOM.apply(P,x)}})})});var T=function(b){_(E,b);function E(){d(this,E);var x=p(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return x.listeners={},x.on("error",S.error),x}return u(E,[{key:"emit",value:function(){S.log.apply(S,arguments),c(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var R=arguments.length,P=Array(R>1?R-1:0),O=1;O<R;O++)P[O-1]=arguments[O];(this.listeners[N.type]||[]).forEach(function(U){var D=U.node,M=U.handler;(N.target===D||D.contains(N.target))&&M.apply(void 0,[N].concat(P))})}},{key:"listenDOM",value:function(N,R,P){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:R,handler:P})}}]),E}(v.default);T.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},T.sources={API:"api",SILENT:"silent",USER:"user"},i.default=T},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});function u(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}var c=function g(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u(this,g),this.quill=v,this.options=y};c.DEFAULTS={},i.default=c},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=["error","warn","log","info"],c="warn";function g(y){if(u.indexOf(y)<=u.indexOf(c)){for(var m,f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];(m=console)[y].apply(m,d)}}function v(y){return u.reduce(function(m,f){return m[f]=g.bind(console,f,y),m},{})}g.level=v.level=function(y){c=y},i.default=v},function(n,i,l){var u=Array.prototype.slice,c=l(52),g=l(53),v=n.exports=function(d,p,_){return _||(_={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?_.strict?d===p:d==p:f(d,p,_)};function y(d){return d==null}function m(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,p,_){var S,w;if(y(d)||y(p)||d.prototype!==p.prototype)return!1;if(g(d))return g(p)?(d=u.call(d),p=u.call(p),v(d,p,_)):!1;if(m(d)){if(!m(p)||d.length!==p.length)return!1;for(S=0;S<d.length;S++)if(d[S]!==p[S])return!1;return!0}try{var T=c(d),b=c(p)}catch{return!1}if(T.length!=b.length)return!1;for(T.sort(),b.sort(),S=T.length-1;S>=0;S--)if(T[S]!=b[S])return!1;for(S=T.length-1;S>=0;S--)if(w=T[S],!v(d[w],p[w],_))return!1;return typeof d==typeof p}},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(1),c=function(){function g(v,y,m){m===void 0&&(m={}),this.attrName=v,this.keyName=y;var f=u.Scope.TYPE&u.Scope.ATTRIBUTE;m.scope!=null?this.scope=m.scope&u.Scope.LEVEL|f:this.scope=u.Scope.ATTRIBUTE,m.whitelist!=null&&(this.whitelist=m.whitelist)}return g.keys=function(v){return[].map.call(v.attributes,function(y){return y.name})},g.prototype.add=function(v,y){return this.canAdd(v,y)?(v.setAttribute(this.keyName,y),!0):!1},g.prototype.canAdd=function(v,y){var m=u.query(v,u.Scope.BLOT&(this.scope|u.Scope.TYPE));return m==null?!1:this.whitelist==null?!0:typeof y=="string"?this.whitelist.indexOf(y.replace(/["']/g,""))>-1:this.whitelist.indexOf(y)>-1},g.prototype.remove=function(v){v.removeAttribute(this.keyName)},g.prototype.value=function(v){var y=v.getAttribute(this.keyName);return this.canAdd(v,y)&&y?y:""},g}();i.default=c},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var u=function(){function O(U,D){var M=[],L=!0,j=!1,$=void 0;try{for(var H=U[Symbol.iterator](),ee;!(L=(ee=H.next()).done)&&(M.push(ee.value),!(D&&M.length===D));L=!0);}catch(ne){j=!0,$=ne}finally{try{!L&&H.return&&H.return()}finally{if(j)throw $}}return M}return function(U,D){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return O(U,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function O(U,D){for(var M=0;M<D.length;M++){var L=D[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(U,L.key,L)}}return function(U,D,M){return D&&O(U.prototype,D),M&&O(U,M),U}}(),g=function O(U,D,M){U===null&&(U=Function.prototype);var L=Object.getOwnPropertyDescriptor(U,D);if(L===void 0){var j=Object.getPrototypeOf(U);return j===null?void 0:O(j,D,M)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(M)}},v=l(2),y=b(v),m=l(0),f=b(m),d=l(4),p=b(d),_=l(6),S=b(_),w=l(7),T=b(w);function b(O){return O&&O.__esModule?O:{default:O}}function E(O,U){if(!(O instanceof U))throw new TypeError("Cannot call a class as a function")}function x(O,U){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:O}function N(O,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);O.prototype=Object.create(U&&U.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(O,U):O.__proto__=U)}var R=function(O){N(U,O);function U(){return E(this,U),x(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return U}(S.default);R.blotName="code",R.tagName="CODE";var P=function(O){N(U,O);function U(){return E(this,U),x(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return c(U,[{key:"delta",value:function(){var M=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(j,$){return j.insert($).insert(`
`,M.formats())},new y.default)}},{key:"format",value:function(M,L){if(!(M===this.statics.blotName&&L)){var j=this.descendant(T.default,this.length()-1),$=u(j,1),H=$[0];H!=null&&H.deleteAt(H.length()-1,1),g(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"format",this).call(this,M,L)}}},{key:"formatAt",value:function(M,L,j,$){if(L!==0&&!(f.default.query(j,f.default.Scope.BLOCK)==null||j===this.statics.blotName&&$===this.statics.formats(this.domNode))){var H=this.newlineIndex(M);if(!(H<0||H>=M+L)){var ee=this.newlineIndex(M,!0)+1,ne=H-ee+1,re=this.isolate(ee,ne),W=re.next;re.format(j,$),W instanceof U&&W.formatAt(0,M-ee+L-ne,j,$)}}}},{key:"insertAt",value:function(M,L,j){if(j==null){var $=this.descendant(T.default,M),H=u($,2),ee=H[0],ne=H[1];ee.insertAt(ne,L)}}},{key:"length",value:function(){var M=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?M:M+1}},{key:"newlineIndex",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,M).lastIndexOf(`
`);var j=this.domNode.textContent.slice(M).indexOf(`
`);return j>-1?M+j:-1}},{key:"optimize",value:function(M){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),g(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"optimize",this).call(this,M);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(M),L.moveChildren(this),L.remove())}},{key:"replace",value:function(M){g(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"replace",this).call(this,M),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var j=f.default.find(L);j==null?L.parentNode.removeChild(L):j instanceof f.default.Embed?j.remove():j.unwrap()})}}],[{key:"create",value:function(M){var L=g(U.__proto__||Object.getPrototypeOf(U),"create",this).call(this,M);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),U}(p.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",i.Code=R,i.default=P},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},c=function(){function W(A,k){var q=[],V=!0,K=!1,J=void 0;try{for(var B=A[Symbol.iterator](),G;!(V=(G=B.next()).done)&&(q.push(G.value),!(k&&q.length===k));V=!0);}catch(Y){K=!0,J=Y}finally{try{!V&&B.return&&B.return()}finally{if(K)throw J}}return q}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return W(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function W(A,k){for(var q=0;q<k.length;q++){var V=k[q];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,V.key,V)}}return function(A,k,q){return k&&W(A.prototype,k),q&&W(A,q),A}}(),v=l(2),y=L(v),m=l(20),f=L(m),d=l(0),p=L(d),_=l(13),S=L(_),w=l(24),T=L(w),b=l(4),E=L(b),x=l(16),N=L(x),R=l(21),P=L(R),O=l(11),U=L(O),D=l(3),M=L(D);function L(W){return W&&W.__esModule?W:{default:W}}function j(W,A,k){return A in W?Object.defineProperty(W,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):W[A]=k,W}function $(W,A){if(!(W instanceof A))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,ee=function(){function W(A){$(this,W),this.scroll=A,this.delta=this.getDelta()}return g(W,[{key:"applyDelta",value:function(k){var q=this,V=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),k=re(k),k.reduce(function(J,B){var G=B.retain||B.delete||B.insert.length||1,Y=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var X=B.insert;X.endsWith(`
`)&&V&&(V=!1,X=X.slice(0,-1)),J>=K&&!X.endsWith(`
`)&&(V=!0),q.scroll.insertAt(J,X);var ue=q.scroll.line(J),he=c(ue,2),Te=he[0],Ce=he[1],ge=(0,M.default)({},(0,b.bubbleFormats)(Te));if(Te instanceof E.default){var De=Te.descendant(p.default.Leaf,Ce),He=c(De,1),Fe=He[0];ge=(0,M.default)(ge,(0,b.bubbleFormats)(Fe))}Y=f.default.attributes.diff(ge,Y)||{}}else if(u(B.insert)==="object"){var ae=Object.keys(B.insert)[0];if(ae==null)return J;q.scroll.insertAt(J,ae,B.insert[ae])}K+=G}return Object.keys(Y).forEach(function(de){q.scroll.formatAt(J,G,de,Y[de])}),J+G},0),k.reduce(function(J,B){return typeof B.delete=="number"?(q.scroll.deleteAt(J,B.delete),J):J+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(k)}},{key:"deleteText",value:function(k,q){return this.scroll.deleteAt(k,q),this.update(new y.default().retain(k).delete(q))}},{key:"formatLine",value:function(k,q){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(J){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[J])){var B=V.scroll.lines(k,Math.max(q,1)),G=q;B.forEach(function(Y){var X=Y.length();if(!(Y instanceof S.default))Y.format(J,K[J]);else{var ue=k-Y.offset(V.scroll),he=Y.newlineIndex(ue+G)-ue+1;Y.formatAt(ue,he,J,K[J])}G-=X})}}),this.scroll.optimize(),this.update(new y.default().retain(k).retain(q,(0,P.default)(K)))}},{key:"formatText",value:function(k,q){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(J){V.scroll.formatAt(k,q,J,K[J])}),this.update(new y.default().retain(k).retain(q,(0,P.default)(K)))}},{key:"getContents",value:function(k,q){return this.delta.slice(k,k+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(k,q){return k.concat(q.delta())},new y.default)}},{key:"getFormat",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],K=[];q===0?this.scroll.path(k).forEach(function(B){var G=c(B,1),Y=G[0];Y instanceof E.default?V.push(Y):Y instanceof p.default.Leaf&&K.push(Y)}):(V=this.scroll.lines(k,q),K=this.scroll.descendants(p.default.Leaf,k,q));var J=[V,K].map(function(B){if(B.length===0)return{};for(var G=(0,b.bubbleFormats)(B.shift());Object.keys(G).length>0;){var Y=B.shift();if(Y==null)return G;G=ne((0,b.bubbleFormats)(Y),G)}return G});return M.default.apply(M.default,J)}},{key:"getText",value:function(k,q){return this.getContents(k,q).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(k,q,V){return this.scroll.insertAt(k,q,V),this.update(new y.default().retain(k).insert(j({},q,V)))}},{key:"insertText",value:function(k,q){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(k,q),Object.keys(K).forEach(function(J){V.scroll.formatAt(k,q.length,J,K[J])}),this.update(new y.default().retain(k).insert(q,(0,P.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var k=this.scroll.children.head;return k.statics.blotName!==E.default.blotName||k.children.length>1?!1:k.children.head instanceof N.default}},{key:"removeFormat",value:function(k,q){var V=this.getText(k,q),K=this.scroll.line(k+q),J=c(K,2),B=J[0],G=J[1],Y=0,X=new y.default;B!=null&&(B instanceof S.default?Y=B.newlineIndex(G)-G+1:Y=B.length()-G,X=B.delta().slice(G,G+Y-1).insert(`
`));var ue=this.getContents(k,q+Y),he=ue.diff(new y.default().insert(V).concat(X)),Te=new y.default().retain(k).concat(he);return this.applyDelta(Te)}},{key:"update",value:function(k){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(H)&&p.default.find(q[0].target)){var J=p.default.find(q[0].target),B=(0,b.bubbleFormats)(J),G=J.offset(this.scroll),Y=q[0].oldValue.replace(T.default.CONTENTS,""),X=new y.default().insert(Y),ue=new y.default().insert(J.value()),he=new y.default().retain(G).concat(X.diff(ue,V));k=he.reduce(function(Te,Ce){return Ce.insert?Te.insert(Ce.insert,B):Te.push(Ce)},new y.default),this.delta=K.compose(k)}else this.delta=this.getDelta(),(!k||!(0,U.default)(K.compose(k),this.delta))&&(k=K.diff(this.delta,V));return k}}]),W}();function ne(W,A){return Object.keys(A).reduce(function(k,q){return W[q]==null||(A[q]===W[q]?k[q]=A[q]:Array.isArray(A[q])?A[q].indexOf(W[q])<0&&(k[q]=A[q].concat([W[q]])):k[q]=[A[q],W[q]]),k},{})}function re(W){return W.reduce(function(A,k){if(k.insert===1){var q=(0,P.default)(k.attributes);return delete q.image,A.insert({image:k.attributes.image},q)}if(k.attributes!=null&&(k.attributes.list===!0||k.attributes.bullet===!0)&&(k=(0,P.default)(k),k.attributes.list?k.attributes.list="ordered":(k.attributes.list="bullet",delete k.attributes.bullet)),typeof k.insert=="string"){var V=k.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return A.insert(V,k.attributes)}return A.push(k)},new y.default)}i.default=ee},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var u=function(){function O(U,D){var M=[],L=!0,j=!1,$=void 0;try{for(var H=U[Symbol.iterator](),ee;!(L=(ee=H.next()).done)&&(M.push(ee.value),!(D&&M.length===D));L=!0);}catch(ne){j=!0,$=ne}finally{try{!L&&H.return&&H.return()}finally{if(j)throw $}}return M}return function(U,D){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return O(U,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function O(U,D){for(var M=0;M<D.length;M++){var L=D[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(U,L.key,L)}}return function(U,D,M){return D&&O(U.prototype,D),M&&O(U,M),U}}(),g=l(0),v=T(g),y=l(21),m=T(y),f=l(11),d=T(f),p=l(8),_=T(p),S=l(10),w=T(S);function T(O){return O&&O.__esModule?O:{default:O}}function b(O){if(Array.isArray(O)){for(var U=0,D=Array(O.length);U<O.length;U++)D[U]=O[U];return D}else return Array.from(O)}function E(O,U){if(!(O instanceof U))throw new TypeError("Cannot call a class as a function")}var x=(0,w.default)("quill:selection"),N=function O(U){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,O),this.index=U,this.length=D},R=function(){function O(U,D){var M=this;E(this,O),this.emitter=D,this.scroll=U,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=v.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){M.mouseDown||setTimeout(M.update.bind(M,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(L,j){L===_.default.events.TEXT_CHANGE&&j.length()>0&&M.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(M.hasFocus()){var L=M.getNativeRange();L!=null&&L.start.node!==M.cursor.textNode&&M.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{M.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(L,j){if(j.range){var $=j.range,H=$.startNode,ee=$.startOffset,ne=$.endNode,re=$.endOffset;M.setNativeRange(H,ee,ne,re)}}),this.update(_.default.sources.SILENT)}return c(O,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var M=D.cursor.restore();if(!M)return;setTimeout(function(){D.setNativeRange(M.startNode,M.startOffset,M.endNode,M.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,M){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||v.default.query(D,v.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var j=v.default.find(L.start.node,!1);if(j==null)return;if(j instanceof v.default.Leaf){var $=j.split(L.start.offset);j.parent.insertBefore(this.cursor,$)}else j.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(D,M),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();D=Math.min(D,L-1),M=Math.min(D+M,L-1)-D;var j=void 0,$=this.scroll.leaf(D),H=u($,2),ee=H[0],ne=H[1];if(ee==null)return null;var re=ee.position(ne,!0),W=u(re,2);j=W[0],ne=W[1];var A=document.createRange();if(M>0){A.setStart(j,ne);var k=this.scroll.leaf(D+M),q=u(k,2);if(ee=q[0],ne=q[1],ee==null)return null;var V=ee.position(ne,!0),K=u(V,2);return j=K[0],ne=K[1],A.setEnd(j,ne),A.getBoundingClientRect()}else{var J="left",B=void 0;return j instanceof Text?(ne<j.data.length?(A.setStart(j,ne),A.setEnd(j,ne+1)):(A.setStart(j,ne-1),A.setEnd(j,ne),J="right"),B=A.getBoundingClientRect()):(B=ee.domNode.getBoundingClientRect(),ne>0&&(J="right")),{bottom:B.top+B.height,height:B.height,left:B[J],right:B[J],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var M=D.getRangeAt(0);if(M==null)return null;var L=this.normalizeNative(M);return x.info("getNativeRange",L),L}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var M=this.normalizedToRange(D);return[M,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var M=this,L=[[D.start.node,D.start.offset]];D.native.collapsed||L.push([D.end.node,D.end.offset]);var j=L.map(function(ee){var ne=u(ee,2),re=ne[0],W=ne[1],A=v.default.find(re,!0),k=A.offset(M.scroll);return W===0?k:A instanceof v.default.Container?k+A.length():k+A.index(re,W)}),$=Math.min(Math.max.apply(Math,b(j)),this.scroll.length()-1),H=Math.min.apply(Math,[$].concat(b(j)));return new N(H,$-H)}},{key:"normalizeNative",value:function(D){if(!P(this.root,D.startContainer)||!D.collapsed&&!P(this.root,D.endContainer))return null;var M={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[M.start,M.end].forEach(function(L){for(var j=L.node,$=L.offset;!(j instanceof Text)&&j.childNodes.length>0;)if(j.childNodes.length>$)j=j.childNodes[$],$=0;else if(j.childNodes.length===$)j=j.lastChild,$=j instanceof Text?j.data.length:j.childNodes.length+1;else break;L.node=j,L.offset=$}),M}},{key:"rangeToNative",value:function(D){var M=this,L=D.collapsed?[D.index]:[D.index,D.index+D.length],j=[],$=this.scroll.length();return L.forEach(function(H,ee){H=Math.min($-1,H);var ne=void 0,re=M.scroll.leaf(H),W=u(re,2),A=W[0],k=W[1],q=A.position(k,ee!==0),V=u(q,2);ne=V[0],k=V[1],j.push(ne,k)}),j.length<2&&(j=j.concat(j)),j}},{key:"scrollIntoView",value:function(D){var M=this.lastRange;if(M!=null){var L=this.getBounds(M.index,M.length);if(L!=null){var j=this.scroll.length()-1,$=this.scroll.line(Math.min(M.index,j)),H=u($,1),ee=H[0],ne=ee;if(M.length>0){var re=this.scroll.line(Math.min(M.index+M.length,j)),W=u(re,1);ne=W[0]}if(!(ee==null||ne==null)){var A=D.getBoundingClientRect();L.top<A.top?D.scrollTop-=A.top-L.top:L.bottom>A.bottom&&(D.scrollTop+=L.bottom-A.bottom)}}}}},{key:"setNativeRange",value:function(D,M){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",D,M,L,j),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||L.parentNode==null))){var H=document.getSelection();if(H!=null)if(D!=null){this.hasFocus()||this.root.focus();var ee=(this.getNativeRange()||{}).native;if(ee==null||$||D!==ee.startContainer||M!==ee.startOffset||L!==ee.endContainer||j!==ee.endOffset){D.tagName=="BR"&&(M=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),L.tagName=="BR"&&(j=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var ne=document.createRange();ne.setStart(D,M),ne.setEnd(L,j),H.removeAllRanges(),H.addRange(ne)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof M=="string"&&(L=M,M=!1),x.info("setRange",D),D!=null){var j=this.rangeToNative(D);this.setNativeRange.apply(this,b(j).concat([M]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,M=this.lastRange,L=this.getRange(),j=u(L,2),$=j[0],H=j[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(M,this.lastRange)){var ee;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var ne=[_.default.events.SELECTION_CHANGE,(0,m.default)(this.lastRange),(0,m.default)(M),D];if((ee=this.emitter).emit.apply(ee,[_.default.events.EDITOR_CHANGE].concat(ne)),D!==_.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,ne)}}}}]),O}();function P(O,U){try{U.parentNode}catch{return!1}return U instanceof Text&&(U=U.parentNode),O.contains(U)}i.Range=N,i.default=R},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function _(S,w){for(var T=0;T<w.length;T++){var b=w[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,T){return w&&_(S.prototype,w),T&&_(S,T),S}}(),c=function _(S,w,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:_(E,w,T)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(T)}},g=l(0),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function d(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){d(S,_);function S(){return m(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return u(S,[{key:"insertInto",value:function(T,b){T.children.length===0?c(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertInto",this).call(this,T,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),S}(v.default.Embed);p.blotName="break",p.tagName="BR",i.default=p},function(n,i,l){var u=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var _ in p)p.hasOwnProperty(_)&&(d[_]=p[_])};return function(d,p){f(d,p);function _(){this.constructor=d}d.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(44),g=l(30),v=l(1),y=function(f){u(d,f);function d(p){var _=f.call(this,p)||this;return _.build(),_}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new c.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var S=m(_);p.insertBefore(S,p.children.head||void 0)}catch(w){if(w instanceof v.ParchmentError)return;throw w}})},d.prototype.deleteAt=function(p,_){if(p===0&&_===this.length())return this.remove();this.children.forEachAt(p,_,function(S,w,T){S.deleteAt(w,T)})},d.prototype.descendant=function(p,_){var S=this.children.find(_),w=S[0],T=S[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,T]:w instanceof d?w.descendant(p,T):[null,-1]},d.prototype.descendants=function(p,_,S){_===void 0&&(_=0),S===void 0&&(S=Number.MAX_VALUE);var w=[],T=S;return this.children.forEachAt(_,S,function(b,E,x){(p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p)&&w.push(b),b instanceof d&&(w=w.concat(b.descendants(p,E,T))),T-=x}),w},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(p,_,S,w){this.children.forEachAt(p,_,function(T,b,E){T.formatAt(b,E,S,w)})},d.prototype.insertAt=function(p,_,S){var w=this.children.find(p),T=w[0],b=w[1];if(T)T.insertAt(b,_,S);else{var E=S==null?v.create("text",_):v.create(_,S);this.appendChild(E)}},d.prototype.insertBefore=function(p,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(S){return p instanceof S}))throw new v.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,_)},d.prototype.length=function(){return this.children.reduce(function(p,_){return p+_.length()},0)},d.prototype.moveChildren=function(p,_){this.children.forEach(function(S){p.insertBefore(S,_)})},d.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var _=v.create(this.statics.defaultChild);this.appendChild(_),_.optimize(p)}else this.remove()},d.prototype.path=function(p,_){_===void 0&&(_=!1);var S=this.children.find(p,_),w=S[0],T=S[1],b=[[this,p]];return w instanceof d?b.concat(w.path(T,_)):(w!=null&&b.push([w,T]),b)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),f.prototype.replace.call(this,p)},d.prototype.split=function(p,_){if(_===void 0&&(_=!1),!_){if(p===0)return this;if(p===this.length())return this.next}var S=this.clone();return this.parent.insertBefore(S,this.next),this.children.forEachAt(p,this.length(),function(w,T,b){w=w.split(T,_),S.appendChild(w)}),S},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,_){var S=this,w=[],T=[];p.forEach(function(b){b.target===S.domNode&&b.type==="childList"&&(w.push.apply(w,b.addedNodes),T.push.apply(T,b.removedNodes))}),T.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=v.find(b);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===S.domNode)&&E.detach()}}),w.filter(function(b){return b.parentNode==S.domNode}).sort(function(b,E){return b===E?0:b.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var E=null;b.nextSibling!=null&&(E=v.find(b.nextSibling));var x=m(b);(x.next!=E||x.next==null)&&(x.parent!=null&&x.parent.removeChild(S),S.insertBefore(x,E||void 0))})},d}(g.default);function m(f){var d=v.find(f);if(d==null)try{d=v.create(f)}catch{d=v.create(v.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(_){d.domNode.appendChild(_)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}i.default=y},function(n,i,l){var u=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var _ in p)p.hasOwnProperty(_)&&(d[_]=p[_])};return function(d,p){f(d,p);function _(){this.constructor=d}d.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(12),g=l(31),v=l(17),y=l(1),m=function(f){u(d,f);function d(p){var _=f.call(this,p)||this;return _.attributes=new g.default(_.domNode),_}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,_){var S=y.query(p);S instanceof c.default?this.attributes.attribute(S,_):_&&S!=null&&(p!==this.statics.blotName||this.formats()[p]!==_)&&this.replaceWith(p,_)},d.prototype.formats=function(){var p=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(p[this.statics.blotName]=_),p},d.prototype.replaceWith=function(p,_){var S=f.prototype.replaceWith.call(this,p,_);return this.attributes.copy(S),S},d.prototype.update=function(p,_){var S=this;f.prototype.update.call(this,p,_),p.some(function(w){return w.target===S.domNode&&w.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,_){var S=f.prototype.wrap.call(this,p,_);return S instanceof d&&S.statics.scope===this.statics.scope&&this.attributes.move(S),S},d}(v.default);i.default=m},function(n,i,l){var u=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var d in f)f.hasOwnProperty(d)&&(m[d]=f[d])};return function(m,f){y(m,f);function d(){this.constructor=m}m.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(30),g=l(1),v=function(y){u(m,y);function m(){return y!==null&&y.apply(this,arguments)||this}return m.value=function(f){return!0},m.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},m.prototype.position=function(f,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},m.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},m.scope=g.Scope.INLINE_BLOT,m}(c.default);i.default=v},function(n,i,l){var u=l(11),c=l(3),g={attributes:{compose:function(y,m,f){typeof y!="object"&&(y={}),typeof m!="object"&&(m={});var d=c(!0,{},m);f||(d=Object.keys(d).reduce(function(_,S){return d[S]!=null&&(_[S]=d[S]),_},{}));for(var p in y)y[p]!==void 0&&m[p]===void 0&&(d[p]=y[p]);return Object.keys(d).length>0?d:void 0},diff:function(y,m){typeof y!="object"&&(y={}),typeof m!="object"&&(m={});var f=Object.keys(y).concat(Object.keys(m)).reduce(function(d,p){return u(y[p],m[p])||(d[p]=m[p]===void 0?null:m[p]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(y,m,f){if(typeof y!="object")return m;if(typeof m=="object"){if(!f)return m;var d=Object.keys(m).reduce(function(p,_){return y[_]===void 0&&(p[_]=m[_]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(y){return new v(y)},length:function(y){return typeof y.delete=="number"?y.delete:typeof y.retain=="number"?y.retain:typeof y.insert=="string"?y.insert.length:1}};function v(y){this.ops=y,this.index=0,this.offset=0}v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(y){y||(y=1/0);var m=this.ops[this.index];if(m){var f=this.offset,d=g.length(m);if(y>=d-f?(y=d-f,this.index+=1,this.offset=0):this.offset+=y,typeof m.delete=="number")return{delete:y};var p={};return m.attributes&&(p.attributes=m.attributes),typeof m.retain=="number"?p.retain=y:typeof m.insert=="string"?p.insert=m.insert.substr(f,y):p.insert=m.insert,p}else return{retain:1/0}},v.prototype.peek=function(){return this.ops[this.index]},v.prototype.peekLength=function(){return this.ops[this.index]?g.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},v.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var y=this.offset,m=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=y,this.index=m,[f].concat(d)}else return[]},n.exports=g},function(n,i){var l=function(){function u(S,w){return w!=null&&S instanceof w}var c;try{c=Map}catch{c=function(){}}var g;try{g=Set}catch{g=function(){}}var v;try{v=Promise}catch{v=function(){}}function y(S,w,T,b,E){typeof w=="object"&&(T=w.depth,b=w.prototype,E=w.includeNonEnumerable,w=w.circular);var x=[],N=[],R=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof T>"u"&&(T=1/0);function P(O,U){if(O===null)return null;if(U===0)return O;var D,M;if(typeof O!="object")return O;if(u(O,c))D=new c;else if(u(O,g))D=new g;else if(u(O,v))D=new v(function(A,k){O.then(function(q){A(P(q,U-1))},function(q){k(P(q,U-1))})});else if(y.__isArray(O))D=[];else if(y.__isRegExp(O))D=new RegExp(O.source,_(O)),O.lastIndex&&(D.lastIndex=O.lastIndex);else if(y.__isDate(O))D=new Date(O.getTime());else{if(R&&Buffer.isBuffer(O))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(O.length):D=new Buffer(O.length),O.copy(D),D;u(O,Error)?D=Object.create(O):typeof b>"u"?(M=Object.getPrototypeOf(O),D=Object.create(M)):(D=Object.create(b),M=b)}if(w){var L=x.indexOf(O);if(L!=-1)return N[L];x.push(O),N.push(D)}u(O,c)&&O.forEach(function(A,k){var q=P(k,U-1),V=P(A,U-1);D.set(q,V)}),u(O,g)&&O.forEach(function(A){var k=P(A,U-1);D.add(k)});for(var j in O){var $;M&&($=Object.getOwnPropertyDescriptor(M,j)),!($&&$.set==null)&&(D[j]=P(O[j],U-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(O),j=0;j<H.length;j++){var ee=H[j],ne=Object.getOwnPropertyDescriptor(O,ee);ne&&!ne.enumerable&&!E||(D[ee]=P(O[ee],U-1),ne.enumerable||Object.defineProperty(D,ee,{enumerable:!1}))}if(E)for(var re=Object.getOwnPropertyNames(O),j=0;j<re.length;j++){var W=re[j],ne=Object.getOwnPropertyDescriptor(O,W);ne&&ne.enumerable||(D[W]=P(O[W],U-1),Object.defineProperty(D,W,{enumerable:!1}))}return D}return P(S,T)}y.clonePrototype=function(w){if(w===null)return null;var T=function(){};return T.prototype=w,new T};function m(S){return Object.prototype.toString.call(S)}y.__objToStr=m;function f(S){return typeof S=="object"&&m(S)==="[object Date]"}y.__isDate=f;function d(S){return typeof S=="object"&&m(S)==="[object Array]"}y.__isArray=d;function p(S){return typeof S=="object"&&m(S)==="[object RegExp]"}y.__isRegExp=p;function _(S){var w="";return S.global&&(w+="g"),S.ignoreCase&&(w+="i"),S.multiline&&(w+="m"),w}return y.__getRegExpFlags=_,y}();typeof n=="object"&&n.exports&&(n.exports=l)},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function D(M,L){var j=[],$=!0,H=!1,ee=void 0;try{for(var ne=M[Symbol.iterator](),re;!($=(re=ne.next()).done)&&(j.push(re.value),!(L&&j.length===L));$=!0);}catch(W){H=!0,ee=W}finally{try{!$&&ne.return&&ne.return()}finally{if(H)throw ee}}return j}return function(M,L){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function D(M,L){for(var j=0;j<L.length;j++){var $=L[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(M,$.key,$)}}return function(M,L,j){return L&&D(M.prototype,L),j&&D(M,j),M}}(),g=function D(M,L,j){M===null&&(M=Function.prototype);var $=Object.getOwnPropertyDescriptor(M,L);if($===void 0){var H=Object.getPrototypeOf(M);return H===null?void 0:D(H,L,j)}else{if("value"in $)return $.value;var ee=$.get;return ee===void 0?void 0:ee.call(j)}},v=l(0),y=x(v),m=l(8),f=x(m),d=l(4),p=x(d),_=l(16),S=x(_),w=l(13),T=x(w),b=l(25),E=x(b);function x(D){return D&&D.__esModule?D:{default:D}}function N(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function R(D,M){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:D}function P(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(D,M):D.__proto__=M)}function O(D){return D instanceof p.default||D instanceof d.BlockEmbed}var U=function(D){P(M,D);function M(L,j){N(this,M);var $=R(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L));return $.emitter=j.emitter,Array.isArray(j.whitelist)&&($.whitelist=j.whitelist.reduce(function(H,ee){return H[ee]=!0,H},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return c(M,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(j,$){var H=this.line(j),ee=u(H,2),ne=ee[0],re=ee[1],W=this.line(j+$),A=u(W,1),k=A[0];if(g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,j,$),k!=null&&ne!==k&&re>0){if(ne instanceof d.BlockEmbed||k instanceof d.BlockEmbed){this.optimize();return}if(ne instanceof T.default){var q=ne.newlineIndex(ne.length(),!0);if(q>-1&&(ne=ne.split(q+1),ne===k)){this.optimize();return}}else if(k instanceof T.default){var V=k.newlineIndex(0);V>-1&&k.split(V+1)}var K=k.children.head instanceof S.default?null:k.children.head;ne.moveChildren(k,K),ne.remove()}this.optimize()}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",j)}},{key:"formatAt",value:function(j,$,H,ee){this.whitelist!=null&&!this.whitelist[H]||(g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,j,$,H,ee),this.optimize())}},{key:"insertAt",value:function(j,$,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[$])){if(j>=this.length())if(H==null||y.default.query($,y.default.Scope.BLOCK)==null){var ee=y.default.create(this.statics.defaultChild);this.appendChild(ee),H==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),ee.insertAt(0,$,H)}else{var ne=y.default.create($,H);this.appendChild(ne)}else g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,j,$,H);this.optimize()}}},{key:"insertBefore",value:function(j,$){if(j.statics.scope===y.default.Scope.INLINE_BLOT){var H=y.default.create(this.statics.defaultChild);H.appendChild(j),j=H}g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,j,$)}},{key:"leaf",value:function(j){return this.path(j).pop()||[null,-1]}},{key:"line",value:function(j){return j===this.length()?this.line(j-1):this.descendant(O,j)}},{key:"lines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function ee(ne,re,W){var A=[],k=W;return ne.children.forEachAt(re,W,function(q,V,K){O(q)?A.push(q):q instanceof y.default.Container&&(A=A.concat(ee(q,V,k))),k-=K}),A};return H(this,j,$)}},{key:"optimize",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,j,$),j.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,j,$))}},{key:"path",value:function(j){return g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,j).slice(1)}},{key:"update",value:function(j){if(this.batch!==!0){var $=f.default.sources.USER;typeof j=="string"&&($=j),Array.isArray(j)||(j=this.observer.takeRecords()),j.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,$,j),g(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"update",this).call(this,j.concat([])),j.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,$,j)}}}]),M}(y.default.Scroll);U.blotName="scroll",U.className="ql-editor",U.tagName="DIV",U.defaultChild="block",U.allowedChildren=[p.default,d.BlockEmbed,E.default],i.default=U},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c=function(){function B(G,Y){var X=[],ue=!0,he=!1,Te=void 0;try{for(var Ce=G[Symbol.iterator](),ge;!(ue=(ge=Ce.next()).done)&&(X.push(ge.value),!(Y&&X.length===Y));ue=!0);}catch(De){he=!0,Te=De}finally{try{!ue&&Ce.return&&Ce.return()}finally{if(he)throw Te}}return X}return function(G,Y){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return B(G,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function B(G,Y){for(var X=0;X<Y.length;X++){var ue=Y[X];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(G,ue.key,ue)}}return function(G,Y,X){return Y&&B(G.prototype,Y),X&&B(G,X),G}}(),v=l(21),y=D(v),m=l(11),f=D(m),d=l(3),p=D(d),_=l(2),S=D(_),w=l(20),T=D(w),b=l(0),E=D(b),x=l(5),N=D(x),R=l(10),P=D(R),O=l(9),U=D(O);function D(B){return B&&B.__esModule?B:{default:B}}function M(B,G,Y){return G in B?Object.defineProperty(B,G,{value:Y,enumerable:!0,configurable:!0,writable:!0}):B[G]=Y,B}function L(B,G){if(!(B instanceof G))throw new TypeError("Cannot call a class as a function")}function j(B,G){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:B}function $(B,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);B.prototype=Object.create(G&&G.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(B,G):B.__proto__=G)}var H=(0,P.default)("quill:keyboard"),ee=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ne=function(B){$(G,B),g(G,null,[{key:"match",value:function(X,ue){return ue=J(ue),["altKey","ctrlKey","metaKey","shiftKey"].some(function(he){return!!ue[he]!==X[he]&&ue[he]!==null})?!1:ue.key===(X.which||X.keyCode)}}]);function G(Y,X){L(this,G);var ue=j(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,Y,X));return ue.bindings={},Object.keys(ue.options.bindings).forEach(function(he){he==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||ue.options.bindings[he]&&ue.addBinding(ue.options.bindings[he])}),ue.addBinding({key:G.keys.ENTER,shiftKey:null},q),ue.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ue.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},W),ue.addBinding({key:G.keys.DELETE},{collapsed:!0},A)):(ue.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),ue.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},A)),ue.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},k),ue.addBinding({key:G.keys.DELETE},{collapsed:!1},k),ue.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),ue.listen(),ue}return g(G,[{key:"addBinding",value:function(X){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Te=J(X);if(Te==null||Te.key==null)return H.warn("Attempted to add invalid keyboard binding",Te);typeof ue=="function"&&(ue={handler:ue}),typeof he=="function"&&(he={handler:he}),Te=(0,p.default)(Te,ue,he),this.bindings[Te.key]=this.bindings[Te.key]||[],this.bindings[Te.key].push(Te)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(ue){if(!ue.defaultPrevented){var he=ue.which||ue.keyCode,Te=(X.bindings[he]||[]).filter(function(We){return G.match(ue,We)});if(Te.length!==0){var Ce=X.quill.getSelection();if(!(Ce==null||!X.quill.hasFocus())){var ge=X.quill.getLine(Ce.index),De=c(ge,2),He=De[0],Fe=De[1],ae=X.quill.getLeaf(Ce.index),de=c(ae,2),fe=de[0],ve=de[1],pe=Ce.length===0?[fe,ve]:X.quill.getLeaf(Ce.index+Ce.length),Me=c(pe,2),Ae=Me[0],Ue=Me[1],st=fe instanceof E.default.Text?fe.value().slice(0,ve):"",rt=Ae instanceof E.default.Text?Ae.value().slice(Ue):"",Ge={collapsed:Ce.length===0,empty:Ce.length===0&&He.length()<=1,format:X.quill.getFormat(Ce),offset:Fe,prefix:st,suffix:rt},ct=Te.some(function(We){if(We.collapsed!=null&&We.collapsed!==Ge.collapsed||We.empty!=null&&We.empty!==Ge.empty||We.offset!=null&&We.offset!==Ge.offset)return!1;if(Array.isArray(We.format)){if(We.format.every(function(dt){return Ge.format[dt]==null}))return!1}else if(u(We.format)==="object"&&!Object.keys(We.format).every(function(dt){return We.format[dt]===!0?Ge.format[dt]!=null:We.format[dt]===!1?Ge.format[dt]==null:(0,f.default)(We.format[dt],Ge.format[dt])}))return!1;return We.prefix!=null&&!We.prefix.test(Ge.prefix)||We.suffix!=null&&!We.suffix.test(Ge.suffix)?!1:We.handler.call(X,Ce,Ge)!==!0});ct&&ue.preventDefault()}}}})}}]),G}(U.default);ne.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ne.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:ne.keys.TAB,format:["blockquote","indent","list"],handler:function(G,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:ne.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:ne.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,Y){Y.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:ne.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,N.default.sources.USER)}},tab:{key:ne.keys.TAB,handler:function(G){this.quill.history.cutoff();var Y=new S.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(Y,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,N.default.sources.SILENT)}},"list empty enter":{key:ne.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,Y){this.quill.format("list",!1,N.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:ne.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var Y=this.quill.getLine(G.index),X=c(Y,2),ue=X[0],he=X[1],Te=(0,p.default)({},ue.formats(),{list:"checked"}),Ce=new S.default().retain(G.index).insert(`
`,Te).retain(ue.length()-he-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,N.default.sources.USER),this.quill.setSelection(G.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ne.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,Y){var X=this.quill.getLine(G.index),ue=c(X,2),he=ue[0],Te=ue[1],Ce=new S.default().retain(G.index).insert(`
`,Y.format).retain(he.length()-Te-1).retain(1,{header:null});this.quill.updateContents(Ce,N.default.sources.USER),this.quill.setSelection(G.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,Y){var X=Y.prefix.length,ue=this.quill.getLine(G.index),he=c(ue,2),Te=he[0],Ce=he[1];if(Ce>X)return!0;var ge=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(G.index," ",N.default.sources.USER),this.quill.history.cutoff();var De=new S.default().retain(G.index-Ce).delete(X+1).retain(Te.length()-2-Ce).retain(1,{list:ge});this.quill.updateContents(De,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-X,N.default.sources.SILENT)}},"code exit":{key:ne.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var Y=this.quill.getLine(G.index),X=c(Y,2),ue=X[0],he=X[1],Te=new S.default().retain(G.index+ue.length()-he-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Te,N.default.sources.USER)}},"embed left":re(ne.keys.LEFT,!1),"embed left shift":re(ne.keys.LEFT,!0),"embed right":re(ne.keys.RIGHT,!1),"embed right shift":re(ne.keys.RIGHT,!0)}};function re(B,G){var Y,X=B===ne.keys.LEFT?"prefix":"suffix";return Y={key:B,shiftKey:G,altKey:null},M(Y,X,/^$/),M(Y,"handler",function(he){var Te=he.index;B===ne.keys.RIGHT&&(Te+=he.length+1);var Ce=this.quill.getLeaf(Te),ge=c(Ce,1),De=ge[0];return De instanceof E.default.Embed?(B===ne.keys.LEFT?G?this.quill.setSelection(he.index-1,he.length+1,N.default.sources.USER):this.quill.setSelection(he.index-1,N.default.sources.USER):G?this.quill.setSelection(he.index,he.length+1,N.default.sources.USER):this.quill.setSelection(he.index+he.length+1,N.default.sources.USER),!1):!0}),Y}function W(B,G){if(!(B.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(B.index),X=c(Y,1),ue=X[0],he={};if(G.offset===0){var Te=this.quill.getLine(B.index-1),Ce=c(Te,1),ge=Ce[0];if(ge!=null&&ge.length()>1){var De=ue.formats(),He=this.quill.getFormat(B.index-1,1);he=T.default.attributes.diff(De,He)||{}}}var Fe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(B.index-Fe,Fe,N.default.sources.USER),Object.keys(he).length>0&&this.quill.formatLine(B.index-Fe,Fe,he,N.default.sources.USER),this.quill.focus()}}function A(B,G){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(B.index>=this.quill.getLength()-Y)){var X={},ue=0,he=this.quill.getLine(B.index),Te=c(he,1),Ce=Te[0];if(G.offset>=Ce.length()-1){var ge=this.quill.getLine(B.index+1),De=c(ge,1),He=De[0];if(He){var Fe=Ce.formats(),ae=this.quill.getFormat(B.index,1);X=T.default.attributes.diff(Fe,ae)||{},ue=He.length()}}this.quill.deleteText(B.index,Y,N.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(B.index+ue-1,Y,X,N.default.sources.USER)}}function k(B){var G=this.quill.getLines(B),Y={};if(G.length>1){var X=G[0].formats(),ue=G[G.length-1].formats();Y=T.default.attributes.diff(ue,X)||{}}this.quill.deleteText(B,N.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(B.index,1,Y,N.default.sources.USER),this.quill.setSelection(B.index,N.default.sources.SILENT),this.quill.focus()}function q(B,G){var Y=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var X=Object.keys(G.format).reduce(function(ue,he){return E.default.query(he,E.default.Scope.BLOCK)&&!Array.isArray(G.format[he])&&(ue[he]=G.format[he]),ue},{});this.quill.insertText(B.index,`
`,X,N.default.sources.USER),this.quill.setSelection(B.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(ue){X[ue]==null&&(Array.isArray(G.format[ue])||ue!=="link"&&Y.quill.format(ue,G.format[ue],N.default.sources.USER))})}function V(B){return{key:ne.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(Y){var X=E.default.query("code-block"),ue=Y.index,he=Y.length,Te=this.quill.scroll.descendant(X,ue),Ce=c(Te,2),ge=Ce[0],De=Ce[1];if(ge!=null){var He=this.quill.getIndex(ge),Fe=ge.newlineIndex(De,!0)+1,ae=ge.newlineIndex(He+De+he),de=ge.domNode.textContent.slice(Fe,ae).split(`
`);De=0,de.forEach(function(fe,ve){B?(ge.insertAt(Fe+De,X.TAB),De+=X.TAB.length,ve===0?ue+=X.TAB.length:he+=X.TAB.length):fe.startsWith(X.TAB)&&(ge.deleteAt(Fe+De,X.TAB.length),De-=X.TAB.length,ve===0?ue-=X.TAB.length:he-=X.TAB.length),De+=fe.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(ue,he,N.default.sources.SILENT)}}}}function K(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(Y,X){this.quill.format(B,!X.format[B],N.default.sources.USER)}}}function J(B){if(typeof B=="string"||typeof B=="number")return J({key:B});if((typeof B>"u"?"undefined":u(B))==="object"&&(B=(0,y.default)(B,!1)),typeof B.key=="string")if(ne.keys[B.key.toUpperCase()]!=null)B.key=ne.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[ee]=B.shortKey,delete B.shortKey),B}i.default=ne,i.SHORTKEY=ee},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function T(b,E){var x=[],N=!0,R=!1,P=void 0;try{for(var O=b[Symbol.iterator](),U;!(N=(U=O.next()).done)&&(x.push(U.value),!(E&&x.length===E));N=!0);}catch(D){R=!0,P=D}finally{try{!N&&O.return&&O.return()}finally{if(R)throw P}}return x}return function(b,E){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return T(b,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function T(b,E,x){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,E);if(N===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,E,x)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(x)}},g=function(){function T(b,E){for(var x=0;x<E.length;x++){var N=E[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,E,x){return E&&T(b.prototype,E),x&&T(b,x),b}}(),v=l(0),y=d(v),m=l(7),f=d(m);function d(T){return T&&T.__esModule?T:{default:T}}function p(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function _(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function S(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var w=function(T){S(b,T),g(b,null,[{key:"value",value:function(){}}]);function b(E,x){p(this,b);var N=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return N.selection=x,N.textNode=document.createTextNode(b.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return g(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,N){if(this._length!==0)return c(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,N);for(var R=this,P=0;R!=null&&R.statics.scope!==y.default.Scope.BLOCK_BLOT;)P+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=b.CONTENTS.length,R.optimize(),R.formatAt(P,b.CONTENTS.length,x,N),this._length=0)}},{key:"index",value:function(x,N){return x===this.textNode?0:c(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){c(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,N=this.selection.getNativeRange(),R=void 0,P=void 0,O=void 0;if(N!=null&&N.start.node===x&&N.end.node===x){var U=[x,N.start.offset,N.end.offset];R=U[0],P=U[1],O=U[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var D=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof f.default?(R=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=b.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(y.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var M=[P,O].map(function(j){return Math.max(0,Math.min(R.data.length,j-1))}),L=u(M,2);return P=L[0],O=L[1],{startNode:R,startOffset:P,endNode:R,endOffset:O}}}}},{key:"update",value:function(x,N){var R=this;if(x.some(function(O){return O.type==="characterData"&&O.target===R.textNode})){var P=this.restore();P&&(N.range=P)}}},{key:"value",value:function(){return""}}]),b}(y.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",i.default=w},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(0),c=y(u),g=l(4),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function d(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){d(S,_);function S(){return m(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S}(c.default.Container);p.allowedChildren=[v.default,g.BlockEmbed,p],i.default=p},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var u=function(){function w(T,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,x.key,x)}}return function(T,b,E){return b&&w(T.prototype,b),E&&w(T,E),T}}(),c=function w(T,b,E){T===null&&(T=Function.prototype);var x=Object.getOwnPropertyDescriptor(T,b);if(x===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:w(N,b,E)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(E)}},g=l(0),v=y(g);function y(w){return w&&w.__esModule?w:{default:w}}function m(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function f(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var p=function(w){d(T,w);function T(){return m(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return u(T,[{key:"value",value:function(E){var x=c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,E);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):x}}]),T}(v.default.Attributor.Style),_=new v.default.Attributor.Class("color","ql-color",{scope:v.default.Scope.INLINE}),S=new p("color","color",{scope:v.default.Scope.INLINE});i.ColorAttributor=p,i.ColorClass=_,i.ColorStyle=S},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var u=function(){function S(w,T){for(var b=0;b<T.length;b++){var E=T[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,T,b){return T&&S(w.prototype,T),b&&S(w,b),w}}(),c=function S(w,T,b){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,T);if(E===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:S(x,T,b)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(b)}},g=l(6),v=y(g);function y(S){return S&&S.__esModule?S:{default:S}}function m(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function f(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function d(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var p=function(S){d(w,S);function w(){return m(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return u(w,[{key:"format",value:function(b,E){if(b!==this.statics.blotName||!E)return c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,b,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(b){var E=c(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,b);return b=this.sanitize(b),E.setAttribute("href",b),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return _(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),w}(v.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(S,w){var T=document.createElement("a");T.href=S;var b=T.href.slice(0,T.href.indexOf(":"));return w.indexOf(b)>-1}i.default=p,i.sanitize=_},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c=function(){function w(T,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,x.key,x)}}return function(T,b,E){return b&&w(T.prototype,b),E&&w(T,E),T}}(),g=l(23),v=f(g),y=l(107),m=f(y);function f(w){return w&&w.__esModule?w:{default:w}}function d(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}var p=0;function _(w,T){w.setAttribute(T,w.getAttribute(T)!=="true")}var S=function(){function w(T){var b=this;d(this,w),this.select=T,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case v.default.keys.ENTER:b.togglePicker();break;case v.default.keys.ESCAPE:b.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return c(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var E=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),b.hasAttribute("value")&&x.setAttribute("data-value",b.getAttribute("value")),b.textContent&&x.setAttribute("data-label",b.textContent),x.addEventListener("click",function(){E.selectItem(x,!0)}),x.addEventListener("keydown",function(N){switch(N.keyCode){case v.default.keys.ENTER:E.selectItem(x,!0),N.preventDefault();break;case v.default.keys.ESCAPE:E.escape(),N.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=m.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(x){var N=b.buildItem(x);E.appendChild(N),x.selected===!0&&b.selectItem(N)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(E){b.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(b!==x&&(x!=null&&x.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":u(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var x=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),w}();i.default=S},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(0),c=H(u),g=l(5),v=H(g),y=l(4),m=H(y),f=l(16),d=H(f),p=l(25),_=H(p),S=l(24),w=H(S),T=l(35),b=H(T),E=l(6),x=H(E),N=l(22),R=H(N),P=l(7),O=H(P),U=l(55),D=H(U),M=l(42),L=H(M),j=l(23),$=H(j);function H(ee){return ee&&ee.__esModule?ee:{default:ee}}v.default.register({"blots/block":m.default,"blots/block/embed":y.BlockEmbed,"blots/break":d.default,"blots/container":_.default,"blots/cursor":w.default,"blots/embed":b.default,"blots/inline":x.default,"blots/scroll":R.default,"blots/text":O.default,"modules/clipboard":D.default,"modules/history":L.default,"modules/keyboard":$.default}),c.default.register(m.default,d.default,w.default,x.default,R.default,O.default),i.default=v.default},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(1),c=function(){function g(v){this.domNode=v,this.domNode[u.DATA_KEY]={blot:this}}return Object.defineProperty(g.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),g.create=function(v){if(this.tagName==null)throw new u.ParchmentError("Blot definition missing tagName");var y;return Array.isArray(this.tagName)?(typeof v=="string"&&(v=v.toUpperCase(),parseInt(v).toString()===v&&(v=parseInt(v))),typeof v=="number"?y=document.createElement(this.tagName[v-1]):this.tagName.indexOf(v)>-1?y=document.createElement(v):y=document.createElement(this.tagName[0])):y=document.createElement(this.tagName),this.className&&y.classList.add(this.className),y},g.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},g.prototype.clone=function(){var v=this.domNode.cloneNode(!1);return u.create(v)},g.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[u.DATA_KEY]},g.prototype.deleteAt=function(v,y){var m=this.isolate(v,y);m.remove()},g.prototype.formatAt=function(v,y,m,f){var d=this.isolate(v,y);if(u.query(m,u.Scope.BLOT)!=null&&f)d.wrap(m,f);else if(u.query(m,u.Scope.ATTRIBUTE)!=null){var p=u.create(this.statics.scope);d.wrap(p),p.format(m,f)}},g.prototype.insertAt=function(v,y,m){var f=m==null?u.create("text",y):u.create(y,m),d=this.split(v);this.parent.insertBefore(f,d)},g.prototype.insertInto=function(v,y){y===void 0&&(y=null),this.parent!=null&&this.parent.children.remove(this);var m=null;v.children.insertBefore(this,y),y!=null&&(m=y.domNode),(this.domNode.parentNode!=v.domNode||this.domNode.nextSibling!=m)&&v.domNode.insertBefore(this.domNode,m),this.parent=v,this.attach()},g.prototype.isolate=function(v,y){var m=this.split(v);return m.split(y),m},g.prototype.length=function(){return 1},g.prototype.offset=function(v){return v===void 0&&(v=this.parent),this.parent==null||this==v?0:this.parent.children.offset(this)+this.parent.offset(v)},g.prototype.optimize=function(v){this.domNode[u.DATA_KEY]!=null&&delete this.domNode[u.DATA_KEY].mutations},g.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},g.prototype.replace=function(v){v.parent!=null&&(v.parent.insertBefore(this,v.next),v.remove())},g.prototype.replaceWith=function(v,y){var m=typeof v=="string"?u.create(v,y):v;return m.replace(this),m},g.prototype.split=function(v,y){return v===0?this:this.next},g.prototype.update=function(v,y){},g.prototype.wrap=function(v,y){var m=typeof v=="string"?u.create(v,y):v;return this.parent!=null&&this.parent.insertBefore(m,this.next),m.appendChild(this),m},g.blotName="abstract",g}();i.default=c},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(12),c=l(32),g=l(33),v=l(1),y=function(){function m(f){this.attributes={},this.domNode=f,this.build()}return m.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},m.prototype.build=function(){var f=this;this.attributes={};var d=u.default.keys(this.domNode),p=c.default.keys(this.domNode),_=g.default.keys(this.domNode);d.concat(p).concat(_).forEach(function(S){var w=v.query(S,v.Scope.ATTRIBUTE);w instanceof u.default&&(f.attributes[w.attrName]=w)})},m.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(p){var _=d.attributes[p].value(d.domNode);f.format(p,_)})},m.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},m.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=f.attributes[p].value(f.domNode),d},{})},m}();i.default=y},function(n,i,l){var u=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var d in f)f.hasOwnProperty(d)&&(m[d]=f[d])};return function(m,f){y(m,f);function d(){this.constructor=m}m.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(12);function g(y,m){var f=y.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(m+"-")===0})}var v=function(y){u(m,y);function m(){return y!==null&&y.apply(this,arguments)||this}return m.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},m.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},m.prototype.remove=function(f){var d=g(f,this.keyName);d.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},m.prototype.value=function(f){var d=g(f,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},m}(c.default);i.default=v},function(n,i,l){var u=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var d in f)f.hasOwnProperty(d)&&(m[d]=f[d])};return function(m,f){y(m,f);function d(){this.constructor=m}m.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(12);function g(y){var m=y.split("-"),f=m.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return m[0]+f}var v=function(y){u(m,y);function m(){return y!==null&&y.apply(this,arguments)||this}return m.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},m.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[g(this.keyName)]=d,!0):!1},m.prototype.remove=function(f){f.style[g(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},m.prototype.value=function(f){var d=f.style[g(this.keyName)];return this.canAdd(f,d)?d:""},m}(c.default);i.default=v},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function v(y,m){for(var f=0;f<m.length;f++){var d=m[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(y,d.key,d)}}return function(y,m,f){return m&&v(y.prototype,m),f&&v(y,f),y}}();function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var g=function(){function v(y,m){c(this,v),this.quill=y,this.options=m,this.modules={}}return u(v,[{key:"init",value:function(){var m=this;Object.keys(this.options.modules).forEach(function(f){m.modules[f]==null&&m.addModule(f)})}},{key:"addModule",value:function(m){var f=this.quill.constructor.import("modules/"+m);return this.modules[m]=new f(this.quill,this.options.modules[m]||{}),this.modules[m]}}]),v}();g.DEFAULTS={modules:{}},g.themes={default:g},i.default=g},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function T(b,E){for(var x=0;x<E.length;x++){var N=E[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,E,x){return E&&T(b.prototype,E),x&&T(b,x),b}}(),c=function T(b,E,x){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,E);if(N===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,E,x)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(x)}},g=l(0),v=f(g),y=l(7),m=f(y);function f(T){return T&&T.__esModule?T:{default:T}}function d(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function p(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function _(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var S="\uFEFF",w=function(T){_(b,T);function b(E){d(this,b);var x=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(N){x.contentNode.appendChild(N)}),x.leftGuard=document.createTextNode(S),x.rightGuard=document.createTextNode(S),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return u(b,[{key:"index",value:function(x,N){return x===this.leftGuard?0:x===this.rightGuard?1:c(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,x,N)}},{key:"restore",value:function(x){var N=void 0,R=void 0,P=x.data.split(S).join("");if(x===this.leftGuard)if(this.prev instanceof m.default){var O=this.prev.length();this.prev.insertAt(O,P),N={startNode:this.prev.domNode,startOffset:O+P.length}}else R=document.createTextNode(P),this.parent.insertBefore(v.default.create(R),this),N={startNode:R,startOffset:P.length};else x===this.rightGuard&&(this.next instanceof m.default?(this.next.insertAt(0,P),N={startNode:this.next.domNode,startOffset:P.length}):(R=document.createTextNode(P),this.parent.insertBefore(v.default.create(R),this.next),N={startNode:R,startOffset:P.length}));return x.data=S,N}},{key:"update",value:function(x,N){var R=this;x.forEach(function(P){if(P.type==="characterData"&&(P.target===R.leftGuard||P.target===R.rightGuard)){var O=R.restore(P.target);O&&(N.range=O)}})}}]),b}(v.default.Embed);i.default=w},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var u=l(0),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}var v={scope:c.default.Scope.BLOCK,whitelist:["right","center","justify"]},y=new c.default.Attributor.Attribute("align","align",v),m=new c.default.Attributor.Class("align","ql-align",v),f=new c.default.Attributor.Style("align","text-align",v);i.AlignAttribute=y,i.AlignClass=m,i.AlignStyle=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var u=l(0),c=v(u),g=l(26);function v(f){return f&&f.__esModule?f:{default:f}}var y=new c.default.Attributor.Class("background","ql-bg",{scope:c.default.Scope.INLINE}),m=new g.ColorAttributor("background","background-color",{scope:c.default.Scope.INLINE});i.BackgroundClass=y,i.BackgroundStyle=m},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var u=l(0),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}var v={scope:c.default.Scope.BLOCK,whitelist:["rtl"]},y=new c.default.Attributor.Attribute("direction","dir",v),m=new c.default.Attributor.Class("direction","ql-direction",v),f=new c.default.Attributor.Style("direction","direction",v);i.DirectionAttribute=y,i.DirectionClass=m,i.DirectionStyle=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var u=function(){function T(b,E){for(var x=0;x<E.length;x++){var N=E[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,E,x){return E&&T(b.prototype,E),x&&T(b,x),b}}(),c=function T(b,E,x){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,E);if(N===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,E,x)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(x)}},g=l(0),v=y(g);function y(T){return T&&T.__esModule?T:{default:T}}function m(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function f(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var p={scope:v.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new v.default.Attributor.Class("font","ql-font",p),S=function(T){d(b,T);function b(){return m(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return u(b,[{key:"value",value:function(x){return c(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),b}(v.default.Attributor.Style),w=new S("font","font-family",p);i.FontStyle=w,i.FontClass=_},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var u=l(0),c=g(u);function g(m){return m&&m.__esModule?m:{default:m}}var v=new c.default.Attributor.Class("size","ql-size",{scope:c.default.Scope.INLINE,whitelist:["small","large","huge"]}),y=new c.default.Attributor.Style("size","font-size",{scope:c.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=v,i.SizeStyle=y},function(n,i,l){n.exports={align:{"":l(76),center:l(77),right:l(78),justify:l(79)},background:l(80),blockquote:l(81),bold:l(82),clean:l(83),code:l(58),"code-block":l(58),color:l(84),direction:{"":l(85),rtl:l(86)},float:{center:l(87),full:l(88),left:l(89),right:l(90)},formula:l(91),header:{1:l(92),2:l(93)},italic:l(94),image:l(95),indent:{"+1":l(96),"-1":l(97)},link:l(98),list:{ordered:l(99),bullet:l(100),check:l(101)},script:{sub:l(102),super:l(103)},strike:l(104),underline:l(105),video:l(106)}},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var u=function(){function E(x,N){for(var R=0;R<N.length;R++){var P=N[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,N,R){return N&&E(x.prototype,N),R&&E(x,R),x}}(),c=l(0),g=d(c),v=l(5),y=d(v),m=l(9),f=d(m);function d(E){return E&&E.__esModule?E:{default:E}}function p(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function _(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function S(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var w=function(E){S(x,E);function x(N,R){p(this,x);var P=_(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N,R));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(y.default.events.EDITOR_CHANGE,function(O,U,D,M){O!==y.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||M===y.default.sources.USER?P.record(U,D):P.transform(U))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return u(x,[{key:"change",value:function(R,P){if(this.stack[R].length!==0){var O=this.stack[R].pop();this.stack[P].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[R],y.default.sources.USER),this.ignoreChange=!1;var U=b(O[R]);this.quill.setSelection(U)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,P){if(R.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(P),U=Date.now();if(this.lastRecorded+this.options.delay>U&&this.stack.undo.length>0){var D=this.stack.undo.pop();O=O.compose(D.undo),R=D.redo.compose(R)}else this.lastRecorded=U;this.stack.undo.push({redo:R,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(P){P.undo=R.transform(P.undo,!0),P.redo=R.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=R.transform(P.undo,!0),P.redo=R.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function T(E){var x=E.ops[E.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(N){return g.default.query(N,g.default.Scope.BLOCK)!=null}):!1}function b(E){var x=E.reduce(function(R,P){return R+=P.delete||0,R},0),N=E.length()-x;return T(E)&&(N-=1),N}i.default=w,i.getLastChangeIndex=b},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var u=function(){function q(V,K){for(var J=0;J<K.length;J++){var B=K[J];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(V,B.key,B)}}return function(V,K,J){return K&&q(V.prototype,K),J&&q(V,J),V}}(),c=function q(V,K,J){V===null&&(V=Function.prototype);var B=Object.getOwnPropertyDescriptor(V,K);if(B===void 0){var G=Object.getPrototypeOf(V);return G===null?void 0:q(G,K,J)}else{if("value"in B)return B.value;var Y=B.get;return Y===void 0?void 0:Y.call(J)}},g=l(3),v=U(g),y=l(2),m=U(y),f=l(8),d=U(f),p=l(23),_=U(p),S=l(34),w=U(S),T=l(59),b=U(T),E=l(60),x=U(E),N=l(28),R=U(N),P=l(61),O=U(P);function U(q){return q&&q.__esModule?q:{default:q}}function D(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function M(q,V){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:q}function L(q,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);q.prototype=Object.create(V&&V.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(q,V):q.__proto__=V)}var j=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],ee=["1","2","3",!1],ne=["small",!1,"large","huge"],re=function(q){L(V,q);function V(K,J){D(this,V);var B=M(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,J)),G=function Y(X){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Y);B.tooltip!=null&&!B.tooltip.root.contains(X.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(ue){ue.container.contains(X.target)||ue.close()})};return K.emitter.listenDOM("click",document.body,G),B}return u(V,[{key:"addModule",value:function(J){var B=c(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(J,B){J.forEach(function(G){var Y=G.getAttribute("class")||"";Y.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),B[X]!=null))if(X==="direction")G.innerHTML=B[X][""]+B[X].rtl;else if(typeof B[X]=="string")G.innerHTML=B[X];else{var ue=G.value||"";ue!=null&&B[X][ue]&&(G.innerHTML=B[X][ue])}})})}},{key:"buildPickers",value:function(J,B){var G=this;this.pickers=J.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&k(X,j),new x.default(X,B.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var ue=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&k(X,$,ue==="background"?"#ffffff":"#000000"),new b.default(X,B[ue])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?k(X,H):X.classList.contains("ql-header")?k(X,ee):X.classList.contains("ql-size")&&k(X,ne)),new R.default(X)});var Y=function(){G.pickers.forEach(function(ue){ue.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,Y)}}]),V}(w.default);re.DEFAULTS=(0,v.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var J=new FileReader;J.onload=function(B){var G=V.quill.getSelection(!0);V.quill.updateContents(new m.default().retain(G.index).delete(G.length).insert({image:B.target.result}),d.default.sources.USER),V.quill.setSelection(G.index+1,d.default.sources.SILENT),K.value=""},J.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(q){L(V,q);function V(K,J){D(this,V);var B=M(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,J));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return u(V,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(B){_.default.match(B,"enter")?(J.save(),B.preventDefault()):_.default.match(B,"escape")&&(J.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,d.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":J=A(J);case"formula":{if(!J)break;var G=this.quill.getSelection(!0);if(G!=null){var Y=G.index+G.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),J,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",d.default.sources.USER),this.quill.setSelection(Y+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(O.default);function A(q){var V=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":q}function k(q,V){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(J){var B=document.createElement("option");J===K?B.setAttribute("selected","selected"):B.setAttribute("value",J),q.appendChild(B)})}i.BaseTooltip=W,i.default=re},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function c(){this.head=this.tail=null,this.length=0}return c.prototype.append=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];this.insertBefore(g[0],null),g.length>1&&this.append.apply(this,g.slice(1))},c.prototype.contains=function(g){for(var v,y=this.iterator();v=y();)if(v===g)return!0;return!1},c.prototype.insertBefore=function(g,v){g&&(g.next=v,v!=null?(g.prev=v.prev,v.prev!=null&&(v.prev.next=g),v.prev=g,v===this.head&&(this.head=g)):this.tail!=null?(this.tail.next=g,g.prev=this.tail,this.tail=g):(g.prev=null,this.head=this.tail=g),this.length+=1)},c.prototype.offset=function(g){for(var v=0,y=this.head;y!=null;){if(y===g)return v;v+=y.length(),y=y.next}return-1},c.prototype.remove=function(g){this.contains(g)&&(g.prev!=null&&(g.prev.next=g.next),g.next!=null&&(g.next.prev=g.prev),g===this.head&&(this.head=g.next),g===this.tail&&(this.tail=g.prev),this.length-=1)},c.prototype.iterator=function(g){return g===void 0&&(g=this.head),function(){var v=g;return g!=null&&(g=g.next),v}},c.prototype.find=function(g,v){v===void 0&&(v=!1);for(var y,m=this.iterator();y=m();){var f=y.length();if(g<f||v&&g===f&&(y.next==null||y.next.length()!==0))return[y,g];g-=f}return[null,0]},c.prototype.forEach=function(g){for(var v,y=this.iterator();v=y();)g(v)},c.prototype.forEachAt=function(g,v,y){if(!(v<=0))for(var m=this.find(g),f=m[0],d=m[1],p,_=g-d,S=this.iterator(f);(p=S())&&_<g+v;){var w=p.length();g>_?y(p,g-_,Math.min(v,_+w-g)):y(p,0,Math.min(w,g+v-_)),_+=w}},c.prototype.map=function(g){return this.reduce(function(v,y){return v.push(g(y)),v},[])},c.prototype.reduce=function(g,v){for(var y,m=this.iterator();y=m();)v=g(v,y);return v},c}();i.default=u},function(n,i,l){var u=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var _ in p)p.hasOwnProperty(_)&&(d[_]=p[_])};return function(d,p){f(d,p);function _(){this.constructor=d}d.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(17),g=l(1),v={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},y=100,m=function(f){u(d,f);function d(p){var _=f.call(this,p)||this;return _.scroll=_,_.observer=new MutationObserver(function(S){_.update(S)}),_.observer.observe(_.domNode,v),_.attach(),_}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,_){this.update(),p===0&&_===this.length()?this.children.forEach(function(S){S.remove()}):f.prototype.deleteAt.call(this,p,_)},d.prototype.formatAt=function(p,_,S,w){this.update(),f.prototype.formatAt.call(this,p,_,S,w)},d.prototype.insertAt=function(p,_,S){this.update(),f.prototype.insertAt.call(this,p,_,S)},d.prototype.optimize=function(p,_){var S=this;p===void 0&&(p=[]),_===void 0&&(_={}),f.prototype.optimize.call(this,_);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var T=function(N,R){R===void 0&&(R=!0),!(N==null||N===S)&&N.domNode.parentNode!=null&&(N.domNode[g.DATA_KEY].mutations==null&&(N.domNode[g.DATA_KEY].mutations=[]),R&&T(N.parent))},b=function(N){N.domNode[g.DATA_KEY]==null||N.domNode[g.DATA_KEY].mutations==null||(N instanceof c.default&&N.children.forEach(b),N.optimize(_))},E=p,x=0;E.length>0;x+=1){if(x>=y)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(N){var R=g.find(N.target,!0);R!=null&&(R.domNode===N.target&&(N.type==="childList"?(T(g.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(P){var O=g.find(P,!1);T(O,!1),O instanceof c.default&&O.children.forEach(function(U){T(U,!1)})})):N.type==="attributes"&&T(R.prev)),T(R))}),this.children.forEach(b),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)p.push(w.pop())}},d.prototype.update=function(p,_){var S=this;_===void 0&&(_={}),p=p||this.observer.takeRecords(),p.map(function(w){var T=g.find(w.target,!0);return T==null?null:T.domNode[g.DATA_KEY].mutations==null?(T.domNode[g.DATA_KEY].mutations=[w],T):(T.domNode[g.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===S||w.domNode[g.DATA_KEY]==null||w.update(w.domNode[g.DATA_KEY].mutations||[],_)}),this.domNode[g.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[g.DATA_KEY].mutations,_),this.optimize(p,_)},d.blotName="scroll",d.defaultChild="block",d.scope=g.Scope.BLOCK_BLOT,d.tagName="DIV",d}(c.default);i.default=m},function(n,i,l){var u=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){m(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(18),g=l(1);function v(m,f){if(Object.keys(m).length!==Object.keys(f).length)return!1;for(var d in m)if(m[d]!==f[d])return!1;return!0}var y=function(m){u(f,m);function f(){return m!==null&&m.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return m.formats.call(this,d)},f.prototype.format=function(d,p){var _=this;d===this.statics.blotName&&!p?(this.children.forEach(function(S){S instanceof c.default||(S=S.wrap(f.blotName,!0)),_.attributes.copy(S)}),this.unwrap()):m.prototype.format.call(this,d,p)},f.prototype.formatAt=function(d,p,_,S){if(this.formats()[_]!=null||g.query(_,g.Scope.ATTRIBUTE)){var w=this.isolate(d,p);w.format(_,S)}else m.prototype.formatAt.call(this,d,p,_,S)},f.prototype.optimize=function(d){m.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var _=this.next;_ instanceof f&&_.prev===this&&v(p,_.formats())&&(_.moveChildren(this),_.remove())},f.blotName="inline",f.scope=g.Scope.INLINE_BLOT,f.tagName="SPAN",f}(c.default);i.default=y},function(n,i,l){var u=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var d in f)f.hasOwnProperty(d)&&(m[d]=f[d])};return function(m,f){y(m,f);function d(){this.constructor=m}m.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(18),g=l(1),v=function(y){u(m,y);function m(){return y!==null&&y.apply(this,arguments)||this}return m.formats=function(f){var d=g.query(m.blotName).tagName;if(f.tagName!==d)return y.formats.call(this,f)},m.prototype.format=function(f,d){g.query(f,g.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(m.blotName):y.prototype.format.call(this,f,d))},m.prototype.formatAt=function(f,d,p,_){g.query(p,g.Scope.BLOCK)!=null?this.format(p,_):y.prototype.formatAt.call(this,f,d,p,_)},m.prototype.insertAt=function(f,d,p){if(p==null||g.query(d,g.Scope.INLINE)!=null)y.prototype.insertAt.call(this,f,d,p);else{var _=this.split(f),S=g.create(d,p);_.parent.insertBefore(S,_)}},m.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():y.prototype.update.call(this,f,d)},m.blotName="block",m.scope=g.Scope.BLOCK_BLOT,m.tagName="P",m}(c.default);i.default=v},function(n,i,l){var u=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var f in m)m.hasOwnProperty(f)&&(y[f]=m[f])};return function(y,m){v(y,m);function f(){this.constructor=y}y.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(19),g=function(v){u(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.formats=function(m){},y.prototype.format=function(m,f){v.prototype.formatAt.call(this,0,this.length(),m,f)},y.prototype.formatAt=function(m,f,d,p){m===0&&f===this.length()?this.format(d,p):v.prototype.formatAt.call(this,m,f,d,p)},y.prototype.formats=function(){return this.statics.formats(this.domNode)},y}(c.default);i.default=g},function(n,i,l){var u=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var d in f)f.hasOwnProperty(d)&&(m[d]=f[d])};return function(m,f){y(m,f);function d(){this.constructor=m}m.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var c=l(19),g=l(1),v=function(y){u(m,y);function m(f){var d=y.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return m.create=function(f){return document.createTextNode(f)},m.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},m.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},m.prototype.index=function(f,d){return this.domNode===f?d:-1},m.prototype.insertAt=function(f,d,p){p==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):y.prototype.insertAt.call(this,f,d,p)},m.prototype.length=function(){return this.text.length},m.prototype.optimize=function(f){y.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof m&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},m.prototype.position=function(f,d){return[this.domNode,f]},m.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var p=g.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},m.prototype.update=function(f,d){var p=this;f.some(function(_){return _.type==="characterData"&&_.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},m.prototype.value=function(){return this.text},m.blotName="text",m.scope=g.Scope.INLINE_BLOT,m}(c.default);i.default=v},function(n,i,l){var u=document.createElement("div");if(u.classList.toggle("test-class",!1),u.classList.contains("test-class")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g,v){return arguments.length>1&&!this.contains(g)==!v?v:c.call(this,g)}}String.prototype.startsWith||(String.prototype.startsWith=function(g,v){return v=v||0,this.substr(v,g.length)===g}),String.prototype.endsWith||(String.prototype.endsWith=function(g,v){var y=this.toString();(typeof v!="number"||!isFinite(v)||Math.floor(v)!==v||v>y.length)&&(v=y.length),v-=g.length;var m=y.indexOf(g,v);return m!==-1&&m===v}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(v){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof v!="function")throw new TypeError("predicate must be a function");for(var y=Object(this),m=y.length>>>0,f=arguments[1],d,p=0;p<m;p++)if(d=y[p],v.call(f,d,p,y))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,i){var l=-1,u=1,c=0;function g(x,N,R){if(x==N)return x?[[c,x]]:[];(R<0||x.length<R)&&(R=null);var P=f(x,N),O=x.substring(0,P);x=x.substring(P),N=N.substring(P),P=d(x,N);var U=x.substring(x.length-P);x=x.substring(0,x.length-P),N=N.substring(0,N.length-P);var D=v(x,N);return O&&D.unshift([c,O]),U&&D.push([c,U]),_(D),R!=null&&(D=T(D,R)),D=b(D),D}function v(x,N){var R;if(!x)return[[u,N]];if(!N)return[[l,x]];var P=x.length>N.length?x:N,O=x.length>N.length?N:x,U=P.indexOf(O);if(U!=-1)return R=[[u,P.substring(0,U)],[c,O],[u,P.substring(U+O.length)]],x.length>N.length&&(R[0][0]=R[2][0]=l),R;if(O.length==1)return[[l,x],[u,N]];var D=p(x,N);if(D){var M=D[0],L=D[1],j=D[2],$=D[3],H=D[4],ee=g(M,j),ne=g(L,$);return ee.concat([[c,H]],ne)}return y(x,N)}function y(x,N){for(var R=x.length,P=N.length,O=Math.ceil((R+P)/2),U=O,D=2*O,M=new Array(D),L=new Array(D),j=0;j<D;j++)M[j]=-1,L[j]=-1;M[U+1]=0,L[U+1]=0;for(var $=R-P,H=$%2!=0,ee=0,ne=0,re=0,W=0,A=0;A<O;A++){for(var k=-A+ee;k<=A-ne;k+=2){var q=U+k,V;k==-A||k!=A&&M[q-1]<M[q+1]?V=M[q+1]:V=M[q-1]+1;for(var K=V-k;V<R&&K<P&&x.charAt(V)==N.charAt(K);)V++,K++;if(M[q]=V,V>R)ne+=2;else if(K>P)ee+=2;else if(H){var J=U+$-k;if(J>=0&&J<D&&L[J]!=-1){var B=R-L[J];if(V>=B)return m(x,N,V,K)}}}for(var G=-A+re;G<=A-W;G+=2){var J=U+G,B;G==-A||G!=A&&L[J-1]<L[J+1]?B=L[J+1]:B=L[J-1]+1;for(var Y=B-G;B<R&&Y<P&&x.charAt(R-B-1)==N.charAt(P-Y-1);)B++,Y++;if(L[J]=B,B>R)W+=2;else if(Y>P)re+=2;else if(!H){var q=U+$-G;if(q>=0&&q<D&&M[q]!=-1){var V=M[q],K=U+V-q;if(B=R-B,V>=B)return m(x,N,V,K)}}}}return[[l,x],[u,N]]}function m(x,N,R,P){var O=x.substring(0,R),U=N.substring(0,P),D=x.substring(R),M=N.substring(P),L=g(O,U),j=g(D,M);return L.concat(j)}function f(x,N){if(!x||!N||x.charAt(0)!=N.charAt(0))return 0;for(var R=0,P=Math.min(x.length,N.length),O=P,U=0;R<O;)x.substring(U,O)==N.substring(U,O)?(R=O,U=R):P=O,O=Math.floor((P-R)/2+R);return O}function d(x,N){if(!x||!N||x.charAt(x.length-1)!=N.charAt(N.length-1))return 0;for(var R=0,P=Math.min(x.length,N.length),O=P,U=0;R<O;)x.substring(x.length-O,x.length-U)==N.substring(N.length-O,N.length-U)?(R=O,U=R):P=O,O=Math.floor((P-R)/2+R);return O}function p(x,N){var R=x.length>N.length?x:N,P=x.length>N.length?N:x;if(R.length<4||P.length*2<R.length)return null;function O(ne,re,W){for(var A=ne.substring(W,W+Math.floor(ne.length/4)),k=-1,q="",V,K,J,B;(k=re.indexOf(A,k+1))!=-1;){var G=f(ne.substring(W),re.substring(k)),Y=d(ne.substring(0,W),re.substring(0,k));q.length<Y+G&&(q=re.substring(k-Y,k)+re.substring(k,k+G),V=ne.substring(0,W-Y),K=ne.substring(W+G),J=re.substring(0,k-Y),B=re.substring(k+G))}return q.length*2>=ne.length?[V,K,J,B,q]:null}var U=O(R,P,Math.ceil(R.length/4)),D=O(R,P,Math.ceil(R.length/2)),M;if(!U&&!D)return null;D?U?M=U[4].length>D[4].length?U:D:M=D:M=U;var L,j,$,H;x.length>N.length?(L=M[0],j=M[1],$=M[2],H=M[3]):($=M[0],H=M[1],L=M[2],j=M[3]);var ee=M[4];return[L,j,$,H,ee]}function _(x){x.push([c,""]);for(var N=0,R=0,P=0,O="",U="",D;N<x.length;)switch(x[N][0]){case u:P++,U+=x[N][1],N++;break;case l:R++,O+=x[N][1],N++;break;case c:R+P>1?(R!==0&&P!==0&&(D=f(U,O),D!==0&&(N-R-P>0&&x[N-R-P-1][0]==c?x[N-R-P-1][1]+=U.substring(0,D):(x.splice(0,0,[c,U.substring(0,D)]),N++),U=U.substring(D),O=O.substring(D)),D=d(U,O),D!==0&&(x[N][1]=U.substring(U.length-D)+x[N][1],U=U.substring(0,U.length-D),O=O.substring(0,O.length-D))),R===0?x.splice(N-P,R+P,[u,U]):P===0?x.splice(N-R,R+P,[l,O]):x.splice(N-R-P,R+P,[l,O],[u,U]),N=N-R-P+(R?1:0)+(P?1:0)+1):N!==0&&x[N-1][0]==c?(x[N-1][1]+=x[N][1],x.splice(N,1)):N++,P=0,R=0,O="",U="";break}x[x.length-1][1]===""&&x.pop();var M=!1;for(N=1;N<x.length-1;)x[N-1][0]==c&&x[N+1][0]==c&&(x[N][1].substring(x[N][1].length-x[N-1][1].length)==x[N-1][1]?(x[N][1]=x[N-1][1]+x[N][1].substring(0,x[N][1].length-x[N-1][1].length),x[N+1][1]=x[N-1][1]+x[N+1][1],x.splice(N-1,1),M=!0):x[N][1].substring(0,x[N+1][1].length)==x[N+1][1]&&(x[N-1][1]+=x[N+1][1],x[N][1]=x[N][1].substring(x[N+1][1].length)+x[N+1][1],x.splice(N+1,1),M=!0)),N++;M&&_(x)}var S=g;S.INSERT=u,S.DELETE=l,S.EQUAL=c,n.exports=S;function w(x,N){if(N===0)return[c,x];for(var R=0,P=0;P<x.length;P++){var O=x[P];if(O[0]===l||O[0]===c){var U=R+O[1].length;if(N===U)return[P+1,x];if(N<U){x=x.slice();var D=N-R,M=[O[0],O[1].slice(0,D)],L=[O[0],O[1].slice(D)];return x.splice(P,1,M,L),[P+1,x]}else R=U}}throw new Error("cursor_pos is out of bounds!")}function T(x,N){var R=w(x,N),P=R[1],O=R[0],U=P[O],D=P[O+1];if(U==null)return x;if(U[0]!==c)return x;if(D!=null&&U[1]+D[1]===D[1]+U[1])return P.splice(O,2,D,U),E(P,O,2);if(D!=null&&D[1].indexOf(U[1])===0){P.splice(O,2,[D[0],U[1]],[0,U[1]]);var M=D[1].slice(U[1].length);return M.length>0&&P.splice(O+2,0,[D[0],M]),E(P,O,3)}else return x}function b(x){for(var N=!1,R=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},P=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},O=2;O<x.length;O+=1)x[O-2][0]===c&&P(x[O-2][1])&&x[O-1][0]===l&&R(x[O-1][1])&&x[O][0]===u&&R(x[O][1])&&(N=!0,x[O-1][1]=x[O-2][1].slice(-1)+x[O-1][1],x[O][1]=x[O-2][1].slice(-1)+x[O][1],x[O-2][1]=x[O-2][1].slice(0,-1));if(!N)return x;for(var U=[],O=0;O<x.length;O+=1)x[O][1].length>0&&U.push(x[O]);return U}function E(x,N,R){for(var P=N+R-1;P>=0&&P>=N-1;P--)if(P+1<x.length){var O=x[P],U=x[P+1];O[0]===U[1]&&x.splice(P,2,[O[0],O[1]+U[1]])}return x}},function(n,i){i=n.exports=typeof Object.keys=="function"?Object.keys:l,i.shim=l;function l(u){var c=[];for(var g in u)c.push(g);return c}},function(n,i){var l=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=n.exports=l?u:c,i.supported=u;function u(g){return Object.prototype.toString.call(g)=="[object Arguments]"}i.unsupported=c;function c(g){return g&&typeof g=="object"&&typeof g.length=="number"&&Object.prototype.hasOwnProperty.call(g,"callee")&&!Object.prototype.propertyIsEnumerable.call(g,"callee")||!1}},function(n,i){var l=Object.prototype.hasOwnProperty,u="~";function c(){}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(u=!1));function g(y,m,f){this.fn=y,this.context=m,this.once=f||!1}function v(){this._events=new c,this._eventsCount=0}v.prototype.eventNames=function(){var m=[],f,d;if(this._eventsCount===0)return m;for(d in f=this._events)l.call(f,d)&&m.push(u?d.slice(1):d);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},v.prototype.listeners=function(m,f){var d=u?u+m:m,p=this._events[d];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var _=0,S=p.length,w=new Array(S);_<S;_++)w[_]=p[_].fn;return w},v.prototype.emit=function(m,f,d,p,_,S){var w=u?u+m:m;if(!this._events[w])return!1;var T=this._events[w],b=arguments.length,E,x;if(T.fn){switch(T.once&&this.removeListener(m,T.fn,void 0,!0),b){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,d),!0;case 4:return T.fn.call(T.context,f,d,p),!0;case 5:return T.fn.call(T.context,f,d,p,_),!0;case 6:return T.fn.call(T.context,f,d,p,_,S),!0}for(x=1,E=new Array(b-1);x<b;x++)E[x-1]=arguments[x];T.fn.apply(T.context,E)}else{var N=T.length,R;for(x=0;x<N;x++)switch(T[x].once&&this.removeListener(m,T[x].fn,void 0,!0),b){case 1:T[x].fn.call(T[x].context);break;case 2:T[x].fn.call(T[x].context,f);break;case 3:T[x].fn.call(T[x].context,f,d);break;case 4:T[x].fn.call(T[x].context,f,d,p);break;default:if(!E)for(R=1,E=new Array(b-1);R<b;R++)E[R-1]=arguments[R];T[x].fn.apply(T[x].context,E)}}return!0},v.prototype.on=function(m,f,d){var p=new g(f,d||this),_=u?u+m:m;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},v.prototype.once=function(m,f,d){var p=new g(f,d||this,!0),_=u?u+m:m;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},v.prototype.removeListener=function(m,f,d,p){var _=u?u+m:m;if(!this._events[_])return this;if(!f)return--this._eventsCount===0?this._events=new c:delete this._events[_],this;var S=this._events[_];if(S.fn)S.fn===f&&(!p||S.once)&&(!d||S.context===d)&&(--this._eventsCount===0?this._events=new c:delete this._events[_]);else{for(var w=0,T=[],b=S.length;w<b;w++)(S[w].fn!==f||p&&!S[w].once||d&&S[w].context!==d)&&T.push(S[w]);T.length?this._events[_]=T.length===1?T[0]:T:--this._eventsCount===0?this._events=new c:delete this._events[_]}return this},v.prototype.removeAllListeners=function(m){var f;return m?(f=u?u+m:m,this._events[f]&&(--this._eventsCount===0?this._events=new c:delete this._events[f])):(this._events=new c,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prototype.setMaxListeners=function(){return this},v.prefixed=u,v.EventEmitter=v,typeof n<"u"&&(n.exports=v)},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},c=function(){function ae(de,fe){var ve=[],pe=!0,Me=!1,Ae=void 0;try{for(var Ue=de[Symbol.iterator](),st;!(pe=(st=Ue.next()).done)&&(ve.push(st.value),!(fe&&ve.length===fe));pe=!0);}catch(rt){Me=!0,Ae=rt}finally{try{!pe&&Ue.return&&Ue.return()}finally{if(Me)throw Ae}}return ve}return function(de,fe){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return ae(de,fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function ae(de,fe){for(var ve=0;ve<fe.length;ve++){var pe=fe[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(de,pe.key,pe)}}return function(de,fe,ve){return fe&&ae(de.prototype,fe),ve&&ae(de,ve),de}}(),v=l(3),y=L(v),m=l(2),f=L(m),d=l(0),p=L(d),_=l(5),S=L(_),w=l(10),T=L(w),b=l(9),E=L(b),x=l(36),N=l(37),R=l(13),P=L(R),O=l(26),U=l(38),D=l(39),M=l(40);function L(ae){return ae&&ae.__esModule?ae:{default:ae}}function j(ae,de,fe){return de in ae?Object.defineProperty(ae,de,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ae[de]=fe,ae}function $(ae,de){if(!(ae instanceof de))throw new TypeError("Cannot call a class as a function")}function H(ae,de){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:ae}function ee(ae,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);ae.prototype=Object.create(de&&de.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,de):ae.__proto__=de)}var ne=(0,T.default)("quill:clipboard"),re="__ql-matcher",W=[[Node.TEXT_NODE,Fe],[Node.TEXT_NODE,ge],["br",he],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,He],["li",Ce],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",Te]],A=[x.AlignAttribute,U.DirectionAttribute].reduce(function(ae,de){return ae[de.keyName]=de,ae},{}),k=[x.AlignStyle,N.BackgroundStyle,O.ColorStyle,U.DirectionStyle,D.FontStyle,M.SizeStyle].reduce(function(ae,de){return ae[de.keyName]=de,ae},{}),q=function(ae){ee(de,ae);function de(fe,ve){$(this,de);var pe=H(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,fe,ve));return pe.quill.root.addEventListener("paste",pe.onPaste.bind(pe)),pe.container=pe.quill.addContainer("ql-clipboard"),pe.container.setAttribute("contenteditable",!0),pe.container.setAttribute("tabindex",-1),pe.matchers=[],W.concat(pe.options.matchers).forEach(function(Me){var Ae=c(Me,2),Ue=Ae[0],st=Ae[1];!ve.matchVisual&&st===De||pe.addMatcher(Ue,st)}),pe}return g(de,[{key:"addMatcher",value:function(ve,pe){this.matchers.push([ve,pe])}},{key:"convert",value:function(ve){if(typeof ve=="string")return this.container.innerHTML=ve.replace(/\>\r?\n +\</g,"><"),this.convert();var pe=this.quill.getFormat(this.quill.selection.savedRange.index);if(pe[P.default.blotName]){var Me=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Me,j({},P.default.blotName,pe[P.default.blotName]))}var Ae=this.prepareMatching(),Ue=c(Ae,2),st=Ue[0],rt=Ue[1],Ge=G(this.container,st,rt);return J(Ge,`
`)&&Ge.ops[Ge.ops.length-1].attributes==null&&(Ge=Ge.compose(new f.default().retain(Ge.length()-1).delete(1))),ne.log("convert",this.container.innerHTML,Ge),this.container.innerHTML="",Ge}},{key:"dangerouslyPasteHTML",value:function(ve,pe){var Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof ve=="string")this.quill.setContents(this.convert(ve),pe),this.quill.setSelection(0,S.default.sources.SILENT);else{var Ae=this.convert(pe);this.quill.updateContents(new f.default().retain(ve).concat(Ae),Me),this.quill.setSelection(ve+Ae.length(),S.default.sources.SILENT)}}},{key:"onPaste",value:function(ve){var pe=this;if(!(ve.defaultPrevented||!this.quill.isEnabled())){var Me=this.quill.getSelection(),Ae=new f.default().retain(Me.index),Ue=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(S.default.sources.SILENT),setTimeout(function(){Ae=Ae.concat(pe.convert()).delete(Me.length),pe.quill.updateContents(Ae,S.default.sources.USER),pe.quill.setSelection(Ae.length()-Me.length,S.default.sources.SILENT),pe.quill.scrollingContainer.scrollTop=Ue,pe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ve=this,pe=[],Me=[];return this.matchers.forEach(function(Ae){var Ue=c(Ae,2),st=Ue[0],rt=Ue[1];switch(st){case Node.TEXT_NODE:Me.push(rt);break;case Node.ELEMENT_NODE:pe.push(rt);break;default:[].forEach.call(ve.container.querySelectorAll(st),function(Ge){Ge[re]=Ge[re]||[],Ge[re].push(rt)});break}}),[pe,Me]}}]),de}(E.default);q.DEFAULTS={matchers:[],matchVisual:!0};function V(ae,de,fe){return(typeof de>"u"?"undefined":u(de))==="object"?Object.keys(de).reduce(function(ve,pe){return V(ve,pe,de[pe])},ae):ae.reduce(function(ve,pe){return pe.attributes&&pe.attributes[de]?ve.push(pe):ve.insert(pe.insert,(0,y.default)({},j({},de,fe),pe.attributes))},new f.default)}function K(ae){if(ae.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return ae[de]||(ae[de]=window.getComputedStyle(ae))}function J(ae,de){for(var fe="",ve=ae.ops.length-1;ve>=0&&fe.length<de.length;--ve){var pe=ae.ops[ve];if(typeof pe.insert!="string")break;fe=pe.insert+fe}return fe.slice(-1*de.length)===de}function B(ae){if(ae.childNodes.length===0)return!1;var de=K(ae);return["block","list-item"].indexOf(de.display)>-1}function G(ae,de,fe){return ae.nodeType===ae.TEXT_NODE?fe.reduce(function(ve,pe){return pe(ae,ve)},new f.default):ae.nodeType===ae.ELEMENT_NODE?[].reduce.call(ae.childNodes||[],function(ve,pe){var Me=G(pe,de,fe);return pe.nodeType===ae.ELEMENT_NODE&&(Me=de.reduce(function(Ae,Ue){return Ue(pe,Ae)},Me),Me=(pe[re]||[]).reduce(function(Ae,Ue){return Ue(pe,Ae)},Me)),ve.concat(Me)},new f.default):new f.default}function Y(ae,de,fe){return V(fe,ae,!0)}function X(ae,de){var fe=p.default.Attributor.Attribute.keys(ae),ve=p.default.Attributor.Class.keys(ae),pe=p.default.Attributor.Style.keys(ae),Me={};return fe.concat(ve).concat(pe).forEach(function(Ae){var Ue=p.default.query(Ae,p.default.Scope.ATTRIBUTE);Ue!=null&&(Me[Ue.attrName]=Ue.value(ae),Me[Ue.attrName])||(Ue=A[Ae],Ue!=null&&(Ue.attrName===Ae||Ue.keyName===Ae)&&(Me[Ue.attrName]=Ue.value(ae)||void 0),Ue=k[Ae],Ue!=null&&(Ue.attrName===Ae||Ue.keyName===Ae)&&(Ue=k[Ae],Me[Ue.attrName]=Ue.value(ae)||void 0))}),Object.keys(Me).length>0&&(de=V(de,Me)),de}function ue(ae,de){var fe=p.default.query(ae);if(fe==null)return de;if(fe.prototype instanceof p.default.Embed){var ve={},pe=fe.value(ae);pe!=null&&(ve[fe.blotName]=pe,de=new f.default().insert(ve,fe.formats(ae)))}else typeof fe.formats=="function"&&(de=V(de,fe.blotName,fe.formats(ae)));return de}function he(ae,de){return J(de,`
`)||de.insert(`
`),de}function Te(){return new f.default}function Ce(ae,de){var fe=p.default.query(ae);if(fe==null||fe.blotName!=="list-item"||!J(de,`
`))return de;for(var ve=-1,pe=ae.parentNode;!pe.classList.contains("ql-clipboard");)(p.default.query(pe)||{}).blotName==="list"&&(ve+=1),pe=pe.parentNode;return ve<=0?de:de.compose(new f.default().retain(de.length()-1).retain(1,{indent:ve}))}function ge(ae,de){return J(de,`
`)||(B(ae)||de.length()>0&&ae.nextSibling&&B(ae.nextSibling))&&de.insert(`
`),de}function De(ae,de){if(B(ae)&&ae.nextElementSibling!=null&&!J(de,`

`)){var fe=ae.offsetHeight+parseFloat(K(ae).marginTop)+parseFloat(K(ae).marginBottom);ae.nextElementSibling.offsetTop>ae.offsetTop+fe*1.5&&de.insert(`
`)}return de}function He(ae,de){var fe={},ve=ae.style||{};return ve.fontStyle&&K(ae).fontStyle==="italic"&&(fe.italic=!0),ve.fontWeight&&(K(ae).fontWeight.startsWith("bold")||parseInt(K(ae).fontWeight)>=700)&&(fe.bold=!0),Object.keys(fe).length>0&&(de=V(de,fe)),parseFloat(ve.textIndent||0)>0&&(de=new f.default().insert("	").concat(de)),de}function Fe(ae,de){var fe=ae.data;if(ae.parentNode.tagName==="O:P")return de.insert(fe.trim());if(fe.trim().length===0&&ae.parentNode.classList.contains("ql-clipboard"))return de;if(!K(ae.parentNode).whiteSpace.startsWith("pre")){var ve=function(Me,Ae){return Ae=Ae.replace(/[^\u00a0]/g,""),Ae.length<1&&Me?" ":Ae};fe=fe.replace(/\r\n/g," ").replace(/\n/g," "),fe=fe.replace(/\s\s+/g,ve.bind(ve,!0)),(ae.previousSibling==null&&B(ae.parentNode)||ae.previousSibling!=null&&B(ae.previousSibling))&&(fe=fe.replace(/^\s+/,ve.bind(ve,!1))),(ae.nextSibling==null&&B(ae.parentNode)||ae.nextSibling!=null&&B(ae.nextSibling))&&(fe=fe.replace(/\s+$/,ve.bind(ve,!1)))}return de.insert(fe)}i.default=q,i.matchAttributor=X,i.matchBlot=ue,i.matchNewline=ge,i.matchSpacing=De,i.matchText=Fe},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function _(S,w){for(var T=0;T<w.length;T++){var b=w[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,T){return w&&_(S.prototype,w),T&&_(S,T),S}}(),c=function _(S,w,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:_(E,w,T)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(T)}},g=l(6),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function d(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){d(S,_);function S(){return m(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return u(S,[{key:"optimize",value:function(T){c(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,T),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return c(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),S}(v.default);p.blotName="bold",p.tagName=["STRONG","B"],i.default=p},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var u=function(){function M(L,j){var $=[],H=!0,ee=!1,ne=void 0;try{for(var re=L[Symbol.iterator](),W;!(H=(W=re.next()).done)&&($.push(W.value),!(j&&$.length===j));H=!0);}catch(A){ee=!0,ne=A}finally{try{!H&&re.return&&re.return()}finally{if(ee)throw ne}}return $}return function(L,j){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return M(L,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function M(L,j){for(var $=0;$<j.length;$++){var H=j[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(L,H.key,H)}}return function(L,j,$){return j&&M(L.prototype,j),$&&M(L,$),L}}(),g=l(2),v=T(g),y=l(0),m=T(y),f=l(5),d=T(f),p=l(10),_=T(p),S=l(9),w=T(S);function T(M){return M&&M.__esModule?M:{default:M}}function b(M,L,j){return L in M?Object.defineProperty(M,L,{value:j,enumerable:!0,configurable:!0,writable:!0}):M[L]=j,M}function E(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function x(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:M}function N(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}var R=(0,_.default)("quill:toolbar"),P=function(M){N(L,M);function L(j,$){E(this,L);var H=x(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,j,$));if(Array.isArray(H.options.container)){var ee=document.createElement("div");U(ee,H.options.container),j.container.parentNode.insertBefore(ee,j.container),H.container=ee}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var ne;return ne=R.error("Container required for toolbar",H.options),x(H,ne)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(re){H.addHandler(re,H.options.handlers[re])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(re){H.attach(re)}),H.quill.on(d.default.events.EDITOR_CHANGE,function(re,W){re===d.default.events.SELECTION_CHANGE&&H.update(W)}),H.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var re=H.quill.selection.getRange(),W=u(re,1),A=W[0];H.update(A)}),H}return c(L,[{key:"addHandler",value:function($,H){this.handlers[$]=H}},{key:"attach",value:function($){var H=this,ee=[].find.call($.classList,function(re){return re.indexOf("ql-")===0});if(ee){if(ee=ee.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[ee]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ee]==null){R.warn("ignoring attaching to disabled format",ee,$);return}if(m.default.query(ee)==null){R.warn("ignoring attaching to nonexistent format",ee,$);return}}var ne=$.tagName==="SELECT"?"change":"click";$.addEventListener(ne,function(re){var W=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var A=$.options[$.selectedIndex];A.hasAttribute("selected")?W=!1:W=A.value||!1}else $.classList.contains("ql-active")?W=!1:W=$.value||!$.hasAttribute("value"),re.preventDefault();H.quill.focus();var k=H.quill.selection.getRange(),q=u(k,1),V=q[0];if(H.handlers[ee]!=null)H.handlers[ee].call(H,W);else if(m.default.query(ee).prototype instanceof m.default.Embed){if(W=prompt("Enter "+ee),!W)return;H.quill.updateContents(new v.default().retain(V.index).delete(V.length).insert(b({},ee,W)),d.default.sources.USER)}else H.quill.format(ee,W,d.default.sources.USER);H.update(V)}),this.controls.push([ee,$])}}},{key:"update",value:function($){var H=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(ee){var ne=u(ee,2),re=ne[0],W=ne[1];if(W.tagName==="SELECT"){var A=void 0;if($==null)A=null;else if(H[re]==null)A=W.querySelector("option[selected]");else if(!Array.isArray(H[re])){var k=H[re];typeof k=="string"&&(k=k.replace(/\"/g,'\\"')),A=W.querySelector('option[value="'+k+'"]')}A==null?(W.value="",W.selectedIndex=-1):A.selected=!0}else if($==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var q=H[re]===W.getAttribute("value")||H[re]!=null&&H[re].toString()===W.getAttribute("value")||H[re]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",q)}else W.classList.toggle("ql-active",H[re]!=null)})}}]),L}(w.default);P.DEFAULTS={};function O(M,L,j){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+L),j!=null&&($.value=j),M.appendChild($)}function U(M,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(j){var $=document.createElement("span");$.classList.add("ql-formats"),j.forEach(function(H){if(typeof H=="string")O($,H);else{var ee=Object.keys(H)[0],ne=H[ee];Array.isArray(ne)?D($,ee,ne):O($,ee,ne)}}),M.appendChild($)})}function D(M,L,j){var $=document.createElement("select");$.classList.add("ql-"+L),j.forEach(function(H){var ee=document.createElement("option");H!==!1?ee.setAttribute("value",H):ee.setAttribute("selected","selected"),$.appendChild(ee)}),M.appendChild($)}P.DEFAULTS={container:null,handlers:{clean:function(){var L=this,j=this.quill.getSelection();if(j!=null)if(j.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(H){m.default.query(H,m.default.Scope.INLINE)!=null&&L.quill.format(H,!1)})}else this.quill.removeFormat(j,d.default.sources.USER)},direction:function(L){var j=this.quill.getFormat().align;L==="rtl"&&j==null?this.quill.format("align","right",d.default.sources.USER):!L&&j==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var j=this.quill.getSelection(),$=this.quill.getFormat(j),H=parseInt($.indent||0);if(L==="+1"||L==="-1"){var ee=L==="+1"?1:-1;$.direction==="rtl"&&(ee*=-1),this.quill.format("indent",H+ee,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var j=this.quill.getSelection(),$=this.quill.getFormat(j);L==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},i.default=P,i.addControls=U},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function _(S,w){for(var T=0;T<w.length;T++){var b=w[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,T){return w&&_(S.prototype,w),T&&_(S,T),S}}(),c=function _(S,w,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:_(E,w,T)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(T)}},g=l(28),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function d(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){d(S,_);function S(w,T){m(this,S);var b=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,w));return b.label.innerHTML=T,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),b}return u(S,[{key:"buildItem",value:function(T){var b=c(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"buildItem",this).call(this,T);return b.style.backgroundColor=T.getAttribute("value")||"",b}},{key:"selectItem",value:function(T,b){c(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"selectItem",this).call(this,T,b);var E=this.label.querySelector(".ql-color-label"),x=T&&T.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=x:E.style.fill=x)}}]),S}(v.default);i.default=p},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function _(S,w){for(var T=0;T<w.length;T++){var b=w[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,T){return w&&_(S.prototype,w),T&&_(S,T),S}}(),c=function _(S,w,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:_(E,w,T)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(T)}},g=l(28),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function d(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){d(S,_);function S(w,T){m(this,S);var b=f(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,w));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=T[E.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return u(S,[{key:"selectItem",value:function(T,b){c(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"selectItem",this).call(this,T,b),T=T||this.defaultItem,this.label.innerHTML=T.innerHTML}}]),S}(v.default);i.default=p},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function v(y,m){for(var f=0;f<m.length;f++){var d=m[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(y,d.key,d)}}return function(y,m,f){return m&&v(y.prototype,m),f&&v(y,f),y}}();function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var g=function(){function v(y,m){var f=this;c(this,v),this.quill=y,this.boundsContainer=m||document.body,this.root=y.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return u(v,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(m){var f=m.left+m.width/2-this.root.offsetWidth/2,d=m.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),S=0;if(_.right>p.right&&(S=p.right-_.right,this.root.style.left=f+S+"px"),_.left<p.left&&(S=p.left-_.left,this.root.style.left=f+S+"px"),_.bottom>p.bottom){var w=_.bottom-_.top,T=m.bottom-m.top+w;this.root.style.top=d-T+"px",this.root.classList.add("ql-flip")}return S}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),v}();i.default=g},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function D(M,L){var j=[],$=!0,H=!1,ee=void 0;try{for(var ne=M[Symbol.iterator](),re;!($=(re=ne.next()).done)&&(j.push(re.value),!(L&&j.length===L));$=!0);}catch(W){H=!0,ee=W}finally{try{!$&&ne.return&&ne.return()}finally{if(H)throw ee}}return j}return function(M,L){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return D(M,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function D(M,L,j){M===null&&(M=Function.prototype);var $=Object.getOwnPropertyDescriptor(M,L);if($===void 0){var H=Object.getPrototypeOf(M);return H===null?void 0:D(H,L,j)}else{if("value"in $)return $.value;var ee=$.get;return ee===void 0?void 0:ee.call(j)}},g=function(){function D(M,L){for(var j=0;j<L.length;j++){var $=L[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(M,$.key,$)}}return function(M,L,j){return L&&D(M.prototype,L),j&&D(M,j),M}}(),v=l(3),y=E(v),m=l(8),f=E(m),d=l(43),p=E(d),_=l(27),S=E(_),w=l(15),T=l(41),b=E(T);function E(D){return D&&D.__esModule?D:{default:D}}function x(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}function N(D,M){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:D}function R(D,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);D.prototype=Object.create(M&&M.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(D,M):D.__proto__=M)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(D){R(M,D);function M(L,j){x(this,M),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=P);var $=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L,j));return $.quill.container.classList.add("ql-snow"),$}return g(M,[{key:"extendToolbar",value:function(j){j.container.classList.add("ql-snow"),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),b.default),this.tooltip=new U(this.quill,this.options.bounds),j.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,H){j.handlers.link.call(j,!H.format.link)})}}]),M}(p.default);O.DEFAULTS=(0,y.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(M){if(M){var L=this.quill.getSelection();if(L==null||L.length==0)return;var j=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(j)&&j.indexOf("mailto:")!==0&&(j="mailto:"+j);var $=this.quill.theme.tooltip;$.edit("link",j)}else this.quill.format("link",!1)}}}}});var U=function(D){R(M,D);function M(L,j){x(this,M);var $=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L,j));return $.preview=$.root.querySelector("a.ql-preview"),$}return g(M,[{key:"listen",value:function(){var j=this;c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){j.root.classList.contains("ql-editing")?j.save():j.edit("link",j.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(j.linkRange!=null){var H=j.linkRange;j.restoreFocus(),j.quill.formatText(H,"link",!1,f.default.sources.USER),delete j.linkRange}$.preventDefault(),j.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function($,H,ee){if($!=null){if($.length===0&&ee===f.default.sources.USER){var ne=j.quill.scroll.descendant(S.default,$.index),re=u(ne,2),W=re[0],A=re[1];if(W!=null){j.linkRange=new w.Range($.index-A,W.length());var k=S.default.formats(W.domNode);j.preview.textContent=k,j.preview.setAttribute("href",k),j.show(),j.position(j.quill.getBounds(j.linkRange));return}}else delete j.linkRange;j.hide()}})}},{key:"show",value:function(){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),M}(d.BaseTooltip);U.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=O},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(29),c=pe(u),g=l(36),v=l(38),y=l(64),m=l(65),f=pe(m),d=l(66),p=pe(d),_=l(67),S=pe(_),w=l(37),T=l(26),b=l(39),E=l(40),x=l(56),N=pe(x),R=l(68),P=pe(R),O=l(27),U=pe(O),D=l(69),M=pe(D),L=l(70),j=pe(L),$=l(71),H=pe($),ee=l(72),ne=pe(ee),re=l(73),W=pe(re),A=l(13),k=pe(A),q=l(74),V=pe(q),K=l(75),J=pe(K),B=l(57),G=pe(B),Y=l(41),X=pe(Y),ue=l(28),he=pe(ue),Te=l(59),Ce=pe(Te),ge=l(60),De=pe(ge),He=l(61),Fe=pe(He),ae=l(108),de=pe(ae),fe=l(62),ve=pe(fe);function pe(Me){return Me&&Me.__esModule?Me:{default:Me}}c.default.register({"attributors/attribute/direction":v.DirectionAttribute,"attributors/class/align":g.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":T.ColorClass,"attributors/class/direction":v.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":g.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":T.ColorStyle,"attributors/style/direction":v.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":E.SizeStyle},!0),c.default.register({"formats/align":g.AlignClass,"formats/direction":v.DirectionClass,"formats/indent":y.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":T.ColorStyle,"formats/font":b.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":k.default,"formats/header":p.default,"formats/list":S.default,"formats/bold":N.default,"formats/code":A.Code,"formats/italic":P.default,"formats/link":U.default,"formats/script":M.default,"formats/strike":j.default,"formats/underline":H.default,"formats/image":ne.default,"formats/video":W.default,"formats/list/item":_.ListItem,"modules/formula":V.default,"modules/syntax":J.default,"modules/toolbar":G.default,"themes/bubble":de.default,"themes/snow":ve.default,"ui/icons":X.default,"ui/picker":he.default,"ui/icon-picker":De.default,"ui/color-picker":Ce.default,"ui/tooltip":Fe.default},!0),i.default=c.default},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var u=function(){function S(w,T){for(var b=0;b<T.length;b++){var E=T[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,T,b){return T&&S(w.prototype,T),b&&S(w,b),w}}(),c=function S(w,T,b){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,T);if(E===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:S(x,T,b)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(b)}},g=l(0),v=y(g);function y(S){return S&&S.__esModule?S:{default:S}}function m(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function f(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function d(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var p=function(S){d(w,S);function w(){return m(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return u(w,[{key:"add",value:function(b,E){if(E==="+1"||E==="-1"){var x=this.value(b)||0;E=E==="+1"?x+1:x-1}return E===0?(this.remove(b),!0):c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,b,E)}},{key:"canAdd",value:function(b,E){return c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,b,E)||c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,b,parseInt(E))}},{key:"value",value:function(b){return parseInt(c(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,b))||void 0}}]),w}(v.default.Attributor.Class),_=new p("indent","ql-indent",{scope:v.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=_},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(4),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}function v(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function y(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function m(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){m(p,d);function p(){return v(this,p),y(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(c.default);f.blotName="blockquote",f.tagName="blockquote",i.default=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function p(_,S){for(var w=0;w<S.length;w++){var T=S[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,S,w){return S&&p(_.prototype,S),w&&p(_,w),_}}(),c=l(4),g=v(c);function v(p){return p&&p.__esModule?p:{default:p}}function y(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function m(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function f(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var d=function(p){f(_,p);function _(){return y(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return u(_,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),_}(g.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],i.default=d},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var u=function(){function x(N,R){for(var P=0;P<R.length;P++){var O=R[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,R,P){return R&&x(N.prototype,R),P&&x(N,P),N}}(),c=function x(N,R,P){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,R);if(O===void 0){var U=Object.getPrototypeOf(N);return U===null?void 0:x(U,R,P)}else{if("value"in O)return O.value;var D=O.get;return D===void 0?void 0:D.call(P)}},g=l(0),v=p(g),y=l(4),m=p(y),f=l(25),d=p(f);function p(x){return x&&x.__esModule?x:{default:x}}function _(x,N,R){return N in x?Object.defineProperty(x,N,{value:R,enumerable:!0,configurable:!0,writable:!0}):x[N]=R,x}function S(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}function w(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:x}function T(x,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);x.prototype=Object.create(N&&N.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(x,N):x.__proto__=N)}var b=function(x){T(N,x);function N(){return S(this,N),w(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return u(N,[{key:"format",value:function(P,O){P===E.blotName&&!O?this.replaceWith(v.default.create(this.statics.scope)):c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,P,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,O){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,O),this):(this.parent.unwrap(),c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,P,O))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:c(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,P)}}]),N}(m.default);b.blotName="list-item",b.tagName="LI";var E=function(x){T(N,x),u(N,null,[{key:"create",value:function(P){var O=P==="ordered"?"OL":"UL",U=c(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,O);return(P==="checked"||P==="unchecked")&&U.setAttribute("data-checked",P==="checked"),U}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(R){S(this,N);var P=w(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,R)),O=function(D){if(D.target.parentNode===R){var M=P.statics.formats(R),L=v.default.find(D.target);M==="checked"?L.format("list","unchecked"):M==="unchecked"&&L.format("list","checked")}};return R.addEventListener("touchstart",O),R.addEventListener("mousedown",O),P}return u(N,[{key:"format",value:function(P,O){this.children.length>0&&this.children.tail.format(P,O)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,O){if(P instanceof b)c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,P,O);else{var U=O==null?this.length():O.offset(this),D=this.split(U);D.parent.insertBefore(P,D)}}},{key:"optimize",value:function(P){c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,P);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var O=v.default.create(this.statics.defaultChild);P.moveChildren(O),this.appendChild(O)}c(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,P)}}]),N}(d.default);E.blotName="list",E.scope=v.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[b],i.ListItem=b,i.default=E},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(56),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}function v(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function y(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function m(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){m(p,d);function p(){return v(this,p),y(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(c.default);f.blotName="italic",f.tagName=["EM","I"],i.default=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function _(S,w){for(var T=0;T<w.length;T++){var b=w[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,T){return w&&_(S.prototype,w),T&&_(S,T),S}}(),c=function _(S,w,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:_(E,w,T)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(T)}},g=l(6),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function d(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){d(S,_);function S(){return m(this,S),f(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return u(S,null,[{key:"create",value:function(T){return T==="super"?document.createElement("sup"):T==="sub"?document.createElement("sub"):c(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,T)}},{key:"formats",value:function(T){if(T.tagName==="SUB")return"sub";if(T.tagName==="SUP")return"super"}}]),S}(v.default);p.blotName="script",p.tagName=["SUB","SUP"],i.default=p},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(6),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}function v(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function y(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function m(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){m(p,d);function p(){return v(this,p),y(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(c.default);f.blotName="strike",f.tagName="S",i.default=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=l(6),c=g(u);function g(d){return d&&d.__esModule?d:{default:d}}function v(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function y(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function m(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){m(p,d);function p(){return v(this,p),y(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(c.default);f.blotName="underline",f.tagName="U",i.default=f},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function w(T,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,x.key,x)}}return function(T,b,E){return b&&w(T.prototype,b),E&&w(T,E),T}}(),c=function w(T,b,E){T===null&&(T=Function.prototype);var x=Object.getOwnPropertyDescriptor(T,b);if(x===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:w(N,b,E)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(E)}},g=l(0),v=m(g),y=l(27);function m(w){return w&&w.__esModule?w:{default:w}}function f(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function d(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function p(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var _=["alt","height","width"],S=function(w){p(T,w);function T(){return f(this,T),d(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return u(T,[{key:"format",value:function(E,x){_.indexOf(E)>-1?x?this.domNode.setAttribute(E,x):this.domNode.removeAttribute(E):c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,E,x)}}],[{key:"create",value:function(E){var x=c(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,E);return typeof E=="string"&&x.setAttribute("src",this.sanitize(E)),x}},{key:"formats",value:function(E){return _.reduce(function(x,N){return E.hasAttribute(N)&&(x[N]=E.getAttribute(N)),x},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,y.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),T}(v.default.Embed);S.blotName="image",S.tagName="IMG",i.default=S},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function w(T,b){for(var E=0;E<b.length;E++){var x=b[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,x.key,x)}}return function(T,b,E){return b&&w(T.prototype,b),E&&w(T,E),T}}(),c=function w(T,b,E){T===null&&(T=Function.prototype);var x=Object.getOwnPropertyDescriptor(T,b);if(x===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:w(N,b,E)}else{if("value"in x)return x.value;var R=x.get;return R===void 0?void 0:R.call(E)}},g=l(4),v=l(27),y=m(v);function m(w){return w&&w.__esModule?w:{default:w}}function f(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function d(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function p(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var _=["height","width"],S=function(w){p(T,w);function T(){return f(this,T),d(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return u(T,[{key:"format",value:function(E,x){_.indexOf(E)>-1?x?this.domNode.setAttribute(E,x):this.domNode.removeAttribute(E):c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,E,x)}}],[{key:"create",value:function(E){var x=c(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,E);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(E)),x}},{key:"formats",value:function(E){return _.reduce(function(x,N){return E.hasAttribute(N)&&(x[N]=E.getAttribute(N)),x},{})}},{key:"sanitize",value:function(E){return y.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),T}(g.BlockEmbed);S.blotName="video",S.className="ql-video",S.tagName="IFRAME",i.default=S},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var u=function(){function E(x,N){for(var R=0;R<N.length;R++){var P=N[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,N,R){return N&&E(x.prototype,N),R&&E(x,R),x}}(),c=function E(x,N,R){x===null&&(x=Function.prototype);var P=Object.getOwnPropertyDescriptor(x,N);if(P===void 0){var O=Object.getPrototypeOf(x);return O===null?void 0:E(O,N,R)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(R)}},g=l(35),v=p(g),y=l(5),m=p(y),f=l(9),d=p(f);function p(E){return E&&E.__esModule?E:{default:E}}function _(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function S(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function w(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var T=function(E){w(x,E);function x(){return _(this,x),S(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return u(x,null,[{key:"create",value:function(R){var P=c(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",R)),P}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),x}(v.default);T.blotName="formula",T.className="ql-formula",T.tagName="SPAN";var b=function(E){w(x,E),u(x,null,[{key:"register",value:function(){m.default.register(T,!0)}}]);function x(){_(this,x);var N=S(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return x}(d.default);i.FormulaBlot=T,i.default=b},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var u=function(){function R(P,O){for(var U=0;U<O.length;U++){var D=O[U];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,O,U){return O&&R(P.prototype,O),U&&R(P,U),P}}(),c=function R(P,O,U){P===null&&(P=Function.prototype);var D=Object.getOwnPropertyDescriptor(P,O);if(D===void 0){var M=Object.getPrototypeOf(P);return M===null?void 0:R(M,O,U)}else{if("value"in D)return D.value;var L=D.get;return L===void 0?void 0:L.call(U)}},g=l(0),v=S(g),y=l(5),m=S(y),f=l(9),d=S(f),p=l(13),_=S(p);function S(R){return R&&R.__esModule?R:{default:R}}function w(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function T(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:R}function b(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(R,P):R.__proto__=P)}var E=function(R){b(P,R);function P(){return w(this,P),T(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return u(P,[{key:"replaceWith",value:function(U){this.domNode.textContent=this.domNode.textContent,this.attach(),c(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,U)}},{key:"highlight",value:function(U){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=U(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),P}(_.default);E.className="ql-syntax";var x=new v.default.Attributor.Class("token","hljs",{scope:v.default.Scope.INLINE}),N=function(R){b(P,R),u(P,null,[{key:"register",value:function(){m.default.register(x,!0),m.default.register(E,!0)}}]);function P(O,U){w(this,P);var D=T(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,O,U));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var M=null;return D.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(M),M=setTimeout(function(){D.highlight(),M=null},D.options.interval)}),D.highlight(),D}return u(P,[{key:"highlight",value:function(){var U=this;if(!this.quill.selection.composing){this.quill.update(m.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(M){M.highlight(U.options.highlight)}),this.quill.update(m.default.sources.SILENT),D!=null&&this.quill.setSelection(D,m.default.sources.SILENT)}}}]),P}(d.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(R){var P=window.hljs.highlightAuto(R);return P.value}}(),interval:1e3},i.CodeBlock=E,i.CodeToken=x,i.default=N},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,i,l){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var u=function P(O,U,D){O===null&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,U);if(M===void 0){var L=Object.getPrototypeOf(O);return L===null?void 0:P(L,U,D)}else{if("value"in M)return M.value;var j=M.get;return j===void 0?void 0:j.call(D)}},c=function(){function P(O,U){for(var D=0;D<U.length;D++){var M=U[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,U,D){return U&&P(O.prototype,U),D&&P(O,D),O}}(),g=l(3),v=w(g),y=l(8),m=w(y),f=l(43),d=w(f),p=l(15),_=l(41),S=w(_);function w(P){return P&&P.__esModule?P:{default:P}}function T(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function b(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:P}function E(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(P){E(O,P);function O(U,D){T(this,O),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=x);var M=b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,U,D));return M.quill.container.classList.add("ql-bubble"),M}return c(O,[{key:"extendToolbar",value:function(D){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),S.default)}}]),O}(d.default);N.DEFAULTS=(0,v.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=function(P){E(O,P);function O(U,D){T(this,O);var M=b(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,U,D));return M.quill.on(m.default.events.EDITOR_CHANGE,function(L,j,$,H){if(L===m.default.events.SELECTION_CHANGE)if(j!=null&&j.length>0&&H===m.default.sources.USER){M.show(),M.root.style.left="0px",M.root.style.width="",M.root.style.width=M.root.offsetWidth+"px";var ee=M.quill.getLines(j.index,j.length);if(ee.length===1)M.position(M.quill.getBounds(j));else{var ne=ee[ee.length-1],re=M.quill.getIndex(ne),W=Math.min(ne.length()-1,j.index+j.length-re),A=M.quill.getBounds(new p.Range(re,W));M.position(A)}}else document.activeElement!==M.textbox&&M.quill.hasFocus()&&M.hide()}),M}return c(O,[{key:"listen",value:function(){var D=this;u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var M=D.quill.getSelection();M!=null&&D.position(D.quill.getBounds(M))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var M=u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,D),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",M===0)return M;L.style.marginLeft=-1*M-L.offsetWidth/2+"px"}}]),O}(f.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=R,i.default=N},function(n,i,l){n.exports=l(63)}]).default})}(ra)),ra.exports}var pn,$g;function i_(){if($g)return pn;$g=1;var o=pn&&pn.__extends||function(){var m=function(f,d){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,_){p.__proto__=_}||function(p,_){for(var S in _)_.hasOwnProperty(S)&&(p[S]=_[S])},m(f,d)};return function(f,d){m(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),r=pn&&pn.__assign||function(){return r=Object.assign||function(m){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(m[_]=f[_])}return m},r.apply(this,arguments)},n=pn&&pn.__spreadArrays||function(){for(var m=0,f=0,d=arguments.length;f<d;f++)m+=arguments[f].length;for(var p=Array(m),_=0,f=0;f<d;f++)for(var S=arguments[f],w=0,T=S.length;w<T;w++,_++)p[_]=S[w];return p},i=pn&&pn.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},l=i(la()),u=i(av()),c=i(n_()),g=i(o_()),v=function(m){o(f,m);function f(d){var p=m.call(this,d)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(S,w,T,b){var E,x,N,R;S==="text-change"?(x=(E=p).onEditorChangeText)===null||x===void 0||x.call(E,p.editor.root.innerHTML,w,b,p.unprivilegedEditor):S==="selection-change"&&((R=(N=p).onEditorChangeSelection)===null||R===void 0||R.call(N,w,b,p.unprivilegedEditor))};var _=p.isControlled()?d.value:d.defaultValue;return p.value=_??"",p}return f.prototype.validateProps=function(d){var p;if(l.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(l.default.Children.count(d.children)){var _=l.default.Children.only(d.children);if(((p=_)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(d,p){var _=this,S;if(this.validateProps(d),!this.editor||this.state.generation!==p.generation)return!0;if("value"in d){var w=this.getEditorContents(),T=(S=d.value,S??"");this.isEqualValue(T,w)||this.setEditorContents(this.editor,T)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),n(this.cleanProps,this.dirtyProps).some(function(b){return!c.default(d[b],_.props[b])})},f.prototype.shouldComponentRegenerate=function(d){var p=this;return this.dirtyProps.some(function(_){return!c.default(d[_],p.props[_])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(d,p){var _=this;if(this.editor&&this.shouldComponentRegenerate(d)){var S=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:S,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var T=this.regenerationSnapshot,S=T.delta,b=T.selection;delete this.regenerationSnapshot,this.instantiateEditor();var E=this.editor;E.setContents(S),y(function(){return _.setEditorSelection(E,b)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(d,p){var _=new g.default(d,p);return p.tabIndex!=null&&this.setEditorTabIndex(_,p.tabIndex),this.hookEditor(_),_},f.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(d){return d&&d.ops},f.prototype.isEqualValue=function(d,p){return this.isDelta(d)&&this.isDelta(p)?c.default(d.ops,p.ops):c.default(d,p)},f.prototype.setEditorContents=function(d,p){var _=this;this.value=p;var S=this.getEditorSelection();typeof p=="string"?d.setContents(d.clipboard.convert(p)):d.setContents(p),y(function(){return _.setEditorSelection(d,S)})},f.prototype.setEditorSelection=function(d,p){if(this.selection=p,p){var _=d.getLength();p.index=Math.max(0,Math.min(p.index,_-1)),p.length=Math.max(0,Math.min(p.length,_-1-p.index)),d.setSelection(p)}},f.prototype.setEditorTabIndex=function(d,p){var _,S;!((S=(_=d)===null||_===void 0?void 0:_.scroll)===null||S===void 0)&&S.domNode&&(d.scroll.domNode.tabIndex=p)},f.prototype.setEditorReadOnly=function(d,p){p?d.disable():d.enable()},f.prototype.makeUnprivilegedEditor=function(d){var p=d;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=u.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},f.prototype.renderEditingArea=function(){var d=this,p=this.props,_=p.children,S=p.preserveWhitespace,w=this.state.generation,T={key:w,ref:function(b){d.editingArea=b}};return l.default.Children.count(_)?l.default.cloneElement(l.default.Children.only(_),T):S?l.default.createElement("pre",r({},T)):l.default.createElement("div",r({},T))},f.prototype.render=function(){var d;return l.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(d,p,_,S){var w,T;if(this.editor){var b=this.isDelta(this.value)?S.getContents():S.getHTML();b!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=b,(T=(w=this.props).onChange)===null||T===void 0||T.call(w,d,p,_,S))}},f.prototype.onEditorChangeSelection=function(d,p,_){var S,w,T,b,E,x;if(this.editor){var N=this.getEditorSelection(),R=!N&&d,P=N&&!d;c.default(d,N)||(this.selection=d,(w=(S=this.props).onChangeSelection)===null||w===void 0||w.call(S,d,p,_),R?(b=(T=this.props).onFocus)===null||b===void 0||b.call(T,d,p,_):P&&((x=(E=this.props).onBlur)===null||x===void 0||x.call(E,N,p,_)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=g.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(l.default.Component);function y(m){Promise.resolve().then(m)}return pn=v,pn}var s_=i_();const a_=aa(s_),l_=[{name:"Paper",value:"/assets/images/preset_paper.jpg"},{name:"Wood",value:"/assets/images/preset_wood.png"}],u_=[{name:"Paper",value:"/assets/images/preset_paper.jpg"},{name:"Wood",value:"/assets/images/preset_wood.png"}],Bv=(o,r,n,i)=>new Promise((l,u)=>{const c=new FileReader;c.readAsDataURL(o),c.onload=g=>{var y;const v=new Image;v.src=(y=g.target)==null?void 0:y.result,v.onload=()=>{const m=document.createElement("canvas");let f=v.width,d=v.height;f>d?f>r&&(d*=r/f,f=r):d>n&&(f*=n/d,d=n),m.width=f,m.height=d;const p=m.getContext("2d");if(!p)return u(new Error("Could not get canvas context"));p.drawImage(v,0,0,f,d),l(m.toDataURL("image/jpeg",i))},v.onerror=m=>u(m)},c.onerror=g=>u(g)}),c_=({currentBackground:o,onUpdate:r,onClose:n,settings:i,setSettings:l})=>{const u=Q.useRef(null),c=async v=>{if(v.target.files&&v.target.files[0])try{const y=v.target.files[0],f={type:"custom",value:await Bv(y,800,800,.7),dim:o.dim};l(d=>d.customBackgrounds.some(_=>_.value===f.value)?d:{...d,customBackgrounds:[...d.customBackgrounds,f]}),r(f)}catch(y){console.error("Error resizing image:",y)}},g=v=>{r({...v,dim:o.dim})};return a.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-20 bg-secondary/80 backdrop-blur-lg border-t border-border-color/50 shadow-2xl animate-fade-in-up",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-text-secondary block mb-2",children:z("dashboard.note.background")}),a.jsxs("div",{className:"flex items-center space-x-3 overflow-x-auto scrollbar-hide pb-2",children:[a.jsx(Zs,{selected:o.type==="none",onClick:()=>g({type:"none",value:"",dim:50}),children:a.jsx(me,{name:"close",className:"h-6 w-6"})}),u_.map(v=>a.jsx(Zs,{selected:o.value===v.value,onClick:()=>g({type:"preset",value:v.value,dim:50}),children:a.jsx("img",{src:v.value,className:"w-full h-full object-cover",alt:v.name})},v.name)),i.customBackgrounds.map((v,y)=>a.jsx(Zs,{selected:o.value===v.value,onClick:()=>g(v),children:a.jsx("img",{src:v.value,className:"w-full h-full object-cover",alt:`custom ${y+1}`})},y)),a.jsxs(Zs,{onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},children:[a.jsx(me,{name:"image",className:"h-6 w-6"}),a.jsx("input",{type:"file",ref:u,onChange:c,accept:"image/*",className:"hidden"})]})]})]}),o.type!=="none"&&a.jsxs("div",{className:"pt-3 border-t border-border-color/50",children:[a.jsx("label",{htmlFor:"dim-slider",className:"text-sm font-medium text-text-secondary block mb-1",children:z("dashboard.note.dim")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{id:"dim-slider",type:"range",min:"0",max:"95",value:o.dim,onChange:v=>r({...o,dim:parseInt(v.target.value,10)}),className:"w-full h-2 bg-border-color rounded-lg appearance-none cursor-pointer accent-accent"}),a.jsxs("span",{className:"text-sm font-mono w-10 text-right",children:[o.dim,"%"]})]})]})]})})},Zs=({selected:o=!1,onClick:r,children:n})=>a.jsx("button",{onClick:r,className:`w-16 h-12 flex-shrink-0 rounded-lg border-2 overflow-hidden
                    flex items-center justify-center transition-all
                    ${o?"border-accent":"border-border-color hover:border-accent"}`,children:n}),d_=({note:o,onBack:r,startInEditMode:n,onCreate:i,onUpdate:l,onDelete:u,allFolders:c,settings:g,setSettings:v})=>{const[y,m]=Q.useState(n||!(o!=null&&o.id)||o.id==="new"),[f,d]=Q.useState(!1),[p,_]=Q.useState((o==null?void 0:o.title)||""),[S,w]=Q.useState((o==null?void 0:o.folder)||"Uncategorized"),[T,b]=Q.useState((o==null?void 0:o.content)||""),[E,x]=Q.useState((o==null?void 0:o.background)||{type:"none",value:"",dim:50}),N=Q.useRef(null);Q.useEffect(()=>{o&&(x(o.background||{type:"none",value:"",dim:50}),y||(_(o.title),w(o.folder),b(o.content)))},[y,o]);const R=Q.useCallback(()=>{const $=document.createElement("input");$.setAttribute("type","file"),$.setAttribute("accept","image/*"),$.click(),$.onchange=async()=>{if(!$.files||!N.current)return;const H=$.files[0],ee=new FileReader;ee.onload=ne=>{var W;const re=(W=ne.target)==null?void 0:W.result;if(re){const A=N.current.getEditor(),k=A.getSelection(!0);A.insertEmbed(k.index,"image",re,"user"),A.setSelection(k.index+1,0)}},ee.readAsDataURL(H)}},[]),P=Q.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image"],["clean"]],handlers:{image:R}},clipboard:{matchVisual:!1}}),[R]),O=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","color","background","link","image"],U=()=>{if(!p.trim()||!o)return;const $=T;o.id==="new"?i({title:p,content:$,folder:S,background:E}):l({...o,title:p,content:$,folder:S,background:E}),m(!1)},D=()=>{o&&o.id!=="new"&&(u(o.id),r())},M=()=>{(o==null?void 0:o.id)==="new"?r():(m(!1),x((o==null?void 0:o.background)||{type:"none",value:"",dim:50}))},L=$=>{x($),o&&o.id!=="new"&&l({...o,background:$})};return a.jsxs("div",{className:"flex flex-col h-full bg-secondary relative",children:[E.type!=="none"&&a.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:{backgroundImage:`url(${E.value})`}}),a.jsx("div",{className:"absolute inset-0 bg-primary transition-opacity duration-300",style:{opacity:E.dim/100}})]}),a.jsxs("div",{className:"relative z-10 flex flex-col h-full bg-transparent",children:[a.jsx("style",{children:`
        .note-editor-container .ql-toolbar { 
            position: sticky; top: -1px; z-index: 10;
            background-color: var(--ql-toolbar-bg, #2a2a2a) !important; 
            border-top: 1px solid var(--ql-border-color, #3a3a3a) !important; 
            border-bottom: 1px solid var(--ql-border-color, #3a3a3a) !important; 
            border-left: none !important;
            border-right: none !important;
        }
        [data-theme='light'] .note-editor-container .ql-toolbar {
             --ql-toolbar-bg: #e5e7eb;
             --ql-border-color: #d1d5db;
        }
        [data-theme='dark'] .note-editor-container .ql-toolbar {
             --ql-toolbar-bg: #1f2937;
             --ql-border-color: #374151;
        }
        .note-editor-container .ql-container { 
            background: transparent !important; 
            border: none !important; 
            font-size: 1rem;
        }
        .note-editor-container .ql-editor { 
            color: hsl(var(--text-primary-hsl)); 
            min-height: 50vh;
            height: auto !important;
            padding-bottom: 30vh !important;
            width: 100%;
        }
        .note-editor-container .ql-editor.ql-blank::before { 
            color: hsl(var(--text-secondary-hsl)) !important; 
            font-style: normal !important;
        }
        .ql-snow .ql-stroke { stroke: hsl(var(--text-secondary-hsl)); }
        .ql-snow .ql-fill { fill: hsl(var(--text-secondary-hsl)); }
        .ql-snow .ql-picker { color: hsl(var(--text-secondary-hsl)); }
        .ql-snow .ql-picker-options { background-color: hsl(var(--secondary-hsl)); border-color: hsl(var(--border-hsl)) !important; color: hsl(var(--text-primary-hsl)); }

        .note-content-display.ql-editor { 
            min-height: 0; 
            border: none !important; 
            padding: 0;
            height: fit-content;
        }
        .note-content-display.ql-editor img { max-width: 100%; height: auto; border-radius: 8px; }
    `}),a.jsxs("div",{className:"flex items-center p-4 border-b border-border-color/50 flex-shrink-0 bg-secondary/50 backdrop-blur-sm",children:[a.jsx("div",{className:"flex-none",children:a.jsx("button",{onClick:y?M:r,className:"flex items-center gap-2 p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"back",className:"h-6 w-6"})})}),a.jsx("h2",{className:"flex-1 text-center text-lg md:text-xl font-bold truncate px-2",children:y?(o==null?void 0:o.id)==="new"?z("dashboard.newNote"):z("dashboard.editNote"):""}),a.jsx("div",{className:"flex-none flex items-center space-x-2",children:y?a.jsx("button",{onClick:U,className:"px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover",children:z("common.save")}):a.jsxs(a.Fragment,{children:[(o==null?void 0:o.id)!=="new"&&a.jsx("button",{onClick:()=>d($=>!$),className:`p-2 rounded-full hover:bg-border-color text-text-secondary ${f?"bg-accent text-white":"hover:text-accent"}`,title:z("dashboard.note.style"),children:a.jsx(me,{name:"shirt",className:"h-5 w-5"})}),(o==null?void 0:o.id)!=="new"&&a.jsx("button",{onClick:()=>m(!0),className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-accent",title:z("common.edit"),children:a.jsx(me,{name:"edit",className:"h-5 w-5"})}),(o==null?void 0:o.id)!=="new"&&a.jsx("button",{onClick:D,className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-red-500",title:z("common.delete"),children:a.jsx(me,{name:"delete",className:"h-5 w-5"})})]})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:y?a.jsxs("div",{className:"note-editor-container bg-primary/80",children:[a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("input",{placeholder:z("dashboard.note.title.placeholder"),id:"note-title",type:"text",value:p,onChange:$=>_($.target.value),className:"w-full bg-transparent text-3xl font-bold border-none focus:outline-none placeholder-text-secondary"}),a.jsx("input",{placeholder:z("dashboard.note.folder.placeholder"),id:"note-folder",type:"text",value:S,onChange:$=>w($.target.value),list:"folder-suggestions",className:"w-full border-0 border-b-2 border-border-color bg-transparent py-2 px-3 text-text-primary focus:outline-none focus:ring-0 focus:border-accent"}),a.jsx("datalist",{id:"folder-suggestions",children:c.map($=>a.jsx("option",{value:$},$))})]}),a.jsx(a_,{ref:N,theme:"snow",value:T,onChange:b,modules:P,formats:O,placeholder:z("dashboard.note.content.placeholder")})]}):a.jsxs("div",{className:"p-4 cursor-text",onClick:()=>(o==null?void 0:o.id)!=="new"?m(!0):void 0,children:[a.jsxs("div",{className:"pb-3 mb-3 border-b border-border-color/50",children:[a.jsx("h2",{className:"text-3xl font-bold",children:(o==null?void 0:o.title)||z("common.untitled")}),a.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:[z("dashboard.note.folder_prefix"),": ",o==null?void 0:o.folder]})]}),a.jsx("div",{className:"ql-snow",children:a.jsx("div",{className:"note-content-display ql-editor",dangerouslySetInnerHTML:{__html:(o==null?void 0:o.content)||`<p class="text-text-secondary"><em>${z("dashboard.note.empty")}</em></p>`}})})]})})]}),f&&a.jsx(c_,{currentBackground:E,onUpdate:L,onClose:()=>d(!1),settings:g,setSettings:v})]})},$v=({selectedColor:o,onSelectColor:r})=>{const n=["#4f46e5","#10b981","#f59e0b","#ef4444","#8b5cf6","#3b82f6"],i=Q.useRef(null);return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm text-text-secondary",children:[z("dashboard.itemEditor.color"),":"]}),n.map(l=>a.jsx("button",{type:"button",onClick:()=>r(l),className:`w-6 h-6 rounded-full transition-transform transform hover:scale-110 ${o===l?"ring-2 ring-offset-2 ring-offset-primary ring-white":""}`,style:{backgroundColor:l},"aria-label":`Select color ${l}`},l)),a.jsxs("div",{className:"relative w-6 h-6",children:[a.jsx("button",{type:"button",onClick:()=>{var l;return(l=i.current)==null?void 0:l.click()},className:"w-6 h-6 rounded-full bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 flex items-center justify-center","aria-label":"Choose custom color",children:a.jsx(me,{name:"palette",className:"h-4 w-4 text-white"})}),a.jsx("input",{ref:i,type:"color",onChange:l=>r(l.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]})},cd=({note:o,onOpenNote:r})=>{const n=Q.useMemo(()=>{var l;const i=document.createElement("div");return i.innerHTML=o.content||"",((l=i.textContent)==null?void 0:l.substring(0,100))+"..."||""},[o.content]);return a.jsxs("div",{onClick:()=>r(o.id),className:"bg-primary p-3 rounded-lg border border-border-color cursor-pointer hover:border-accent transition-colors",children:[a.jsx("p",{className:"text-sm text-text-secondary mb-2",children:z("dashboard.note.attached")}),a.jsx("h4",{className:"font-semibold text-accent mb-1 break-words",children:o.title}),a.jsx("p",{className:"text-sm text-text-secondary break-words",children:n})]})},Bc=({name:o,icon:r,isActive:n,onClick:i})=>a.jsxs("button",{onClick:i,className:`flex-1 sm:flex-none flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-md text-sm font-semibold transition-colors ${n?"bg-accent text-white":"text-text-secondary hover:bg-border-color"}`,children:[a.jsx(me,{name:r,className:"h-4 w-4"}),a.jsx("span",{className:"truncate",children:o})]}),$c=({title:o,reminders:r,children:n,titleColor:i="text-accent"})=>r.length===0?null:a.jsxs("div",{children:[a.jsx("h3",{className:`font-bold text-lg mb-2 ${i}`,children:o}),n]}),ed=({items:o,renderItem:r,itemType:n,locale:i})=>{const l=Q.useMemo(()=>o.reduce((c,g)=>{const v=new Date(n==="reminder"?g.datetime:g.start).toDateString();return c[v]||(c[v]=[]),c[v].push(g),c},{}),[o,n]),u=Object.keys(l).sort((c,g)=>new Date(c).getTime()-new Date(g).getTime());return a.jsx("div",{className:"space-y-4",children:u.map(c=>a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-text-secondary mb-2",children:new Date(c).toLocaleDateString(i,{weekday:"long",month:"long",day:"numeric"})}),a.jsx("div",{className:"space-y-2",children:l[c].map(g=>r(g))})]},c))})},f_=({events:o,setEvents:r,allNotes:n,onItemClick:i,onNewItemRequest:l,language:u})=>{const c=On(u),g=v=>a.jsx("div",{className:"bg-primary p-3 rounded-lg border-l-4 flex flex-col gap-1 cursor-pointer hover:bg-border-color/50",style:{borderLeftColor:v.color},onClick:()=>i(v),children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold text-text-primary truncate",children:v.title}),a.jsxs("p",{className:"text-sm text-accent truncate",children:[new Date(v.start).toLocaleTimeString(c,{hour:"2-digit",minute:"2-digit"})," - ",new Date(v.end).toLocaleTimeString(c,{hour:"2-digit",minute:"2-digit"})]}),v.description&&a.jsx("p",{className:"text-sm text-text-secondary truncate mt-1",children:v.description})]})},v.id);return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>l("event",new Date),className:"flex items-center px-4 py-2 text-sm rounded-md bg-accent text-white hover:bg-accent-hover",children:[a.jsx(me,{name:"calendar",className:"h-4 w-4 mr-2"})," ",z("dashboard.newEvent")]})}),o.length>0?a.jsx(ed,{items:o,renderItem:g,itemType:"event",locale:c}):a.jsx("p",{className:"text-center text-text-secondary py-8",children:z("dashboard.events.empty")})]})},h_=({event:o,onBack:r,onDelete:n,allNotes:i,onOpenNote:l,onEdit:u,setHighlightedRange:c,language:g})=>{const v=On(g),y=()=>{n("event",o.id,o.title),r()},m=Q.useMemo(()=>o.noteId?i.find(f=>f.id===o.noteId):null,[o.noteId,i]);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 p-2 rounded-full hover:bg-border-color",children:[a.jsx(me,{name:"back",className:"h-6 w-6 text-text-secondary"}),a.jsx("span",{className:"font-bold desktop-only",children:z("dashboard.events")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>u(o),className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-accent",title:z("common.edit"),children:a.jsx(me,{name:"edit",className:"h-5 w-5"})}),a.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-red-500",title:z("common.delete"),children:a.jsx(me,{name:"delete",className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-6 h-6 mt-1 rounded-md flex-shrink-0",style:{backgroundColor:o.color}}),a.jsx("h2",{className:"text-2xl font-bold flex-1",children:o.title})]}),a.jsxs("div",{className:"pl-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center text-text-secondary",children:[a.jsx(me,{name:"calendar",className:"h-5 w-5 mr-3 text-accent"}),a.jsxs("span",{children:[new Date(o.start).toLocaleString(v,{dateStyle:"medium",timeStyle:"short"})," to ",new Date(o.end).toLocaleString(v,{dateStyle:"medium",timeStyle:"short"})]})]}),o.description&&a.jsx("p",{className:"text-text-primary whitespace-pre-wrap",children:o.description}),m&&a.jsx(cd,{note:m,onOpenNote:l})]})]})]})};var ji={};(function o(r,n,i,l){var u=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",g=function(){if(!r.OffscreenCanvas)return!1;var A=new OffscreenCanvas(1,1),k=A.getContext("2d");k.fillRect(0,0,1,1);var q=A.transferToImageBitmap();try{k.createPattern(q,"no-repeat")}catch{return!1}return!0}();function v(){}function y(A){var k=n.exports.Promise,q=k!==void 0?k:r.Promise;return typeof q=="function"?new q(A):(A(v,v),null)}var m=function(A,k){return{transform:function(q){if(A)return q;if(k.has(q))return k.get(q);var V=new OffscreenCanvas(q.width,q.height),K=V.getContext("2d");return K.drawImage(q,0,0),k.set(q,V),V},clear:function(){k.clear()}}}(g,new Map),f=function(){var A=Math.floor(16.666666666666668),k,q,V={},K=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(k=function(J){var B=Math.random();return V[B]=requestAnimationFrame(function G(Y){K===Y||K+A-1<Y?(K=Y,delete V[B],J()):V[B]=requestAnimationFrame(G)}),B},q=function(J){V[J]&&cancelAnimationFrame(V[J])}):(k=function(J){return setTimeout(J,A)},q=function(J){return clearTimeout(J)}),{frame:k,cancel:q}}(),d=function(){var A,k,q={};function V(K){function J(B,G){K.postMessage({options:B||{},callback:G})}K.init=function(G){var Y=G.transferControlToOffscreen();K.postMessage({canvas:Y},[Y])},K.fire=function(G,Y,X){if(k)return J(G,null),k;var ue=Math.random().toString(36).slice(2);return k=y(function(he){function Te(Ce){Ce.data.callback===ue&&(delete q[ue],K.removeEventListener("message",Te),k=null,m.clear(),X(),he())}K.addEventListener("message",Te),J(G,ue),q[ue]=Te.bind(null,{data:{callback:ue}})}),k},K.reset=function(){K.postMessage({reset:!0});for(var G in q)q[G](),delete q[G]}}return function(){if(A)return A;if(!i&&u){var K=["var CONFETTI, SIZE = {}, module = {};","("+o.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([K])))}catch(J){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",J),null}V(A)}return A}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(A,k){return k?k(A):A}function S(A){return A!=null}function w(A,k,q){return _(A&&S(A[k])?A[k]:p[k],q)}function T(A){return A<0?0:Math.floor(A)}function b(A,k){return Math.floor(Math.random()*(k-A))+A}function E(A){return parseInt(A,16)}function x(A){return A.map(N)}function N(A){var k=String(A).replace(/[^0-9a-f]/gi,"");return k.length<6&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]),{r:E(k.substring(0,2)),g:E(k.substring(2,4)),b:E(k.substring(4,6))}}function R(A){var k=w(A,"origin",Object);return k.x=w(k,"x",Number),k.y=w(k,"y",Number),k}function P(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function O(A){var k=A.getBoundingClientRect();A.width=k.width,A.height=k.height}function U(A){var k=document.createElement("canvas");return k.style.position="fixed",k.style.top="0px",k.style.left="0px",k.style.pointerEvents="none",k.style.zIndex=A,k}function D(A,k,q,V,K,J,B,G,Y){A.save(),A.translate(k,q),A.rotate(J),A.scale(V,K),A.arc(0,0,1,B,G,Y),A.restore()}function M(A){var k=A.angle*(Math.PI/180),q=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-k+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function L(A,k){k.x+=Math.cos(k.angle2D)*k.velocity+k.drift,k.y+=Math.sin(k.angle2D)*k.velocity+k.gravity,k.velocity*=k.decay,k.flat?(k.wobble=0,k.wobbleX=k.x+10*k.scalar,k.wobbleY=k.y+10*k.scalar,k.tiltSin=0,k.tiltCos=0,k.random=1):(k.wobble+=k.wobbleSpeed,k.wobbleX=k.x+10*k.scalar*Math.cos(k.wobble),k.wobbleY=k.y+10*k.scalar*Math.sin(k.wobble),k.tiltAngle+=.1,k.tiltSin=Math.sin(k.tiltAngle),k.tiltCos=Math.cos(k.tiltAngle),k.random=Math.random()+2);var q=k.tick++/k.totalTicks,V=k.x+k.random*k.tiltCos,K=k.y+k.random*k.tiltSin,J=k.wobbleX+k.random*k.tiltCos,B=k.wobbleY+k.random*k.tiltSin;if(A.fillStyle="rgba("+k.color.r+", "+k.color.g+", "+k.color.b+", "+(1-q)+")",A.beginPath(),c&&k.shape.type==="path"&&typeof k.shape.path=="string"&&Array.isArray(k.shape.matrix))A.fill(ne(k.shape.path,k.shape.matrix,k.x,k.y,Math.abs(J-V)*.1,Math.abs(B-K)*.1,Math.PI/10*k.wobble));else if(k.shape.type==="bitmap"){var G=Math.PI/10*k.wobble,Y=Math.abs(J-V)*.1,X=Math.abs(B-K)*.1,ue=k.shape.bitmap.width*k.scalar,he=k.shape.bitmap.height*k.scalar,Te=new DOMMatrix([Math.cos(G)*Y,Math.sin(G)*Y,-Math.sin(G)*X,Math.cos(G)*X,k.x,k.y]);Te.multiplySelf(new DOMMatrix(k.shape.matrix));var Ce=A.createPattern(m.transform(k.shape.bitmap),"no-repeat");Ce.setTransform(Te),A.globalAlpha=1-q,A.fillStyle=Ce,A.fillRect(k.x-ue/2,k.y-he/2,ue,he),A.globalAlpha=1}else if(k.shape==="circle")A.ellipse?A.ellipse(k.x,k.y,Math.abs(J-V)*k.ovalScalar,Math.abs(B-K)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI):D(A,k.x,k.y,Math.abs(J-V)*k.ovalScalar,Math.abs(B-K)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI);else if(k.shape==="star")for(var ge=Math.PI/2*3,De=4*k.scalar,He=8*k.scalar,Fe=k.x,ae=k.y,de=5,fe=Math.PI/de;de--;)Fe=k.x+Math.cos(ge)*He,ae=k.y+Math.sin(ge)*He,A.lineTo(Fe,ae),ge+=fe,Fe=k.x+Math.cos(ge)*De,ae=k.y+Math.sin(ge)*De,A.lineTo(Fe,ae),ge+=fe;else A.moveTo(Math.floor(k.x),Math.floor(k.y)),A.lineTo(Math.floor(k.wobbleX),Math.floor(K)),A.lineTo(Math.floor(J),Math.floor(B)),A.lineTo(Math.floor(V),Math.floor(k.wobbleY));return A.closePath(),A.fill(),k.tick<k.totalTicks}function j(A,k,q,V,K){var J=k.slice(),B=A.getContext("2d"),G,Y,X=y(function(ue){function he(){G=Y=null,B.clearRect(0,0,V.width,V.height),m.clear(),K(),ue()}function Te(){i&&!(V.width===l.width&&V.height===l.height)&&(V.width=A.width=l.width,V.height=A.height=l.height),!V.width&&!V.height&&(q(A),V.width=A.width,V.height=A.height),B.clearRect(0,0,V.width,V.height),J=J.filter(function(Ce){return L(B,Ce)}),J.length?G=f.frame(Te):he()}G=f.frame(Te),Y=he});return{addFettis:function(ue){return J=J.concat(ue),X},canvas:A,promise:X,reset:function(){G&&f.cancel(G),Y&&Y()}}}function $(A,k){var q=!A,V=!!w(k||{},"resize"),K=!1,J=w(k,"disableForReducedMotion",Boolean),B=u&&!!w(k||{},"useWorker"),G=B?d():null,Y=q?P:O,X=A&&G?!!A.__confetti_initialized:!1,ue=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,he;function Te(ge,De,He){for(var Fe=w(ge,"particleCount",T),ae=w(ge,"angle",Number),de=w(ge,"spread",Number),fe=w(ge,"startVelocity",Number),ve=w(ge,"decay",Number),pe=w(ge,"gravity",Number),Me=w(ge,"drift",Number),Ae=w(ge,"colors",x),Ue=w(ge,"ticks",Number),st=w(ge,"shapes"),rt=w(ge,"scalar"),Ge=!!w(ge,"flat"),ct=R(ge),We=Fe,dt=[],Kt=A.width*ct.x,Yt=A.height*ct.y;We--;)dt.push(M({x:Kt,y:Yt,angle:ae,spread:de,startVelocity:fe,color:Ae[We%Ae.length],shape:st[b(0,st.length)],ticks:Ue,decay:ve,gravity:pe,drift:Me,scalar:rt,flat:Ge}));return he?he.addFettis(dt):(he=j(A,dt,Y,De,He),he.promise)}function Ce(ge){var De=J||w(ge,"disableForReducedMotion",Boolean),He=w(ge,"zIndex",Number);if(De&&ue)return y(function(fe){fe()});q&&he?A=he.canvas:q&&!A&&(A=U(He),document.body.appendChild(A)),V&&!X&&Y(A);var Fe={width:A.width,height:A.height};G&&!X&&G.init(A),X=!0,G&&(A.__confetti_initialized=!0);function ae(){if(G){var fe={getBoundingClientRect:function(){if(!q)return A.getBoundingClientRect()}};Y(fe),G.postMessage({resize:{width:fe.width,height:fe.height}});return}Fe.width=Fe.height=null}function de(){he=null,V&&(K=!1,r.removeEventListener("resize",ae)),q&&A&&(document.body.removeChild(A),A=null,X=!1)}return V&&!K&&(K=!0,r.addEventListener("resize",ae,!1)),G?G.fire(ge,Fe,de):Te(ge,Fe,de)}return Ce.reset=function(){G&&G.reset(),he&&he.reset()},Ce}var H;function ee(){return H||(H=$(null,{useWorker:!0,resize:!0})),H}function ne(A,k,q,V,K,J,B){var G=new Path2D(A),Y=new Path2D;Y.addPath(G,new DOMMatrix(k));var X=new Path2D;return X.addPath(Y,new DOMMatrix([Math.cos(B)*K,Math.sin(B)*K,-Math.sin(B)*J,Math.cos(B)*J,q,V])),X}function re(A){if(!c)throw new Error("path confetti are not supported in this browser");var k,q;typeof A=="string"?k=A:(k=A.path,q=A.matrix);var V=new Path2D(k),K=document.createElement("canvas"),J=K.getContext("2d");if(!q){for(var B=1e3,G=B,Y=B,X=0,ue=0,he,Te,Ce=0;Ce<B;Ce+=2)for(var ge=0;ge<B;ge+=2)J.isPointInPath(V,Ce,ge,"nonzero")&&(G=Math.min(G,Ce),Y=Math.min(Y,ge),X=Math.max(X,Ce),ue=Math.max(ue,ge));he=X-G,Te=ue-Y;var De=10,He=Math.min(De/he,De/Te);q=[He,0,0,He,-Math.round(he/2+G)*He,-Math.round(Te/2+Y)*He]}return{type:"path",path:k,matrix:q}}function W(A){var k,q=1,V="#000000",K='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?k=A:(k=A.text,q="scalar"in A?A.scalar:q,K="fontFamily"in A?A.fontFamily:K,V="color"in A?A.color:V);var J=10*q,B=""+J+"px "+K,G=new OffscreenCanvas(J,J),Y=G.getContext("2d");Y.font=B;var X=Y.measureText(k),ue=Math.ceil(X.actualBoundingBoxRight+X.actualBoundingBoxLeft),he=Math.ceil(X.actualBoundingBoxAscent+X.actualBoundingBoxDescent),Te=2,Ce=X.actualBoundingBoxLeft+Te,ge=X.actualBoundingBoxAscent+Te;ue+=Te+Te,he+=Te+Te,G=new OffscreenCanvas(ue,he),Y=G.getContext("2d"),Y.font=B,Y.fillStyle=V,Y.fillText(k,Ce,ge);var De=1/q;return{type:"bitmap",bitmap:G.transferToImageBitmap(),matrix:[De,0,0,De,-ue*De/2,-he*De/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=$,n.exports.shapeFromPath=re,n.exports.shapeFromText=W})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ji,!1);const dd=ji.exports;ji.exports.create;const p_=({reminders:o,setReminders:r,onItemClick:n,onNewItemRequest:i,language:l})=>{const[u,c]=Vt("nexus-show-completed",!0),g=On(l),[v,y]=Q.useState(new Set),[m,f]=Q.useState({}),d=(b,E)=>{if(b.stopPropagation(),v.has(E.id)){clearTimeout(m[E.id]),y(x=>{const N=new Set(x);return N.delete(E.id),N}),f(x=>{const N={...x};return delete N[E.id],N});return}if(E.isCompleted){r(x=>x.map(N=>N.id===E.id?{...N,isCompleted:!1}:N));return}if(!E.isCompleted&&!v.has(E.id)){y(P=>new Set(P).add(E.id));const x=b.currentTarget.getBoundingClientRect(),N={x:(x.left+x.width/2)/window.innerWidth,y:(x.top+x.height/2)/window.innerHeight};dd({particleCount:50,spread:60,origin:N,colors:[E.color,"#ffffff","#a0a0a0"]});const R=setTimeout(()=>{r(P=>P.map(O=>O.id===E.id?{...O,isCompleted:!0}:O)),y(P=>{const O=new Set(P);return O.delete(E.id),O}),f(P=>{const O={...P};return delete O[E.id],O})},3e3);f(P=>({...P,[E.id]:R}))}},p=b=>{const E=v.has(b.id),x=b.isCompleted;return a.jsx("div",{className:"bg-primary p-3 rounded-lg border-l-4 flex justify-between items-center cursor-pointer hover:bg-border-color/50 transition-all duration-200",style:{borderLeftColor:b.color},onClick:()=>n(b),children:a.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.jsx("button",{onClick:N=>d(N,b),className:"p-0 border-0 bg-transparent flex-shrink-0 group/checkbox",children:a.jsx("div",{className:`w-5 h-5 rounded border-2 ${x||E?"bg-accent border-accent":"border-border-color group-hover/checkbox:border-accent"} flex items-center justify-center transition-all duration-200`,children:(x||E)&&a.jsx(me,{name:"check",className:"w-3 h-3 text-white"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-semibold text-text-primary truncate transition-colors duration-300 ${x||E?"line-through text-text-secondary":""}`,children:b.title}),a.jsx("p",{className:"text-sm text-accent",children:new Date(b.datetime).toLocaleTimeString(g,{hour:"2-digit",minute:"2-digit"})}),b.description&&a.jsx("p",{className:"text-sm text-text-secondary truncate mt-1",children:b.description})]})]})},b.id)},{overdue:_,today:S,upcoming:w,completed:T}=Q.useMemo(()=>{const b=new Date;b.setHours(0,0,0,0);const E=new Date(b);E.setDate(b.getDate()+1);const x=o.filter(U=>!U.isCompleted),N=x.filter(U=>new Date(U.datetime)<b).sort((U,D)=>new Date(U.datetime).getTime()-new Date(D.datetime).getTime()),R=x.filter(U=>{const D=new Date(U.datetime);return D>=b&&D<E}).sort((U,D)=>new Date(U.datetime).getTime()-new Date(D.datetime).getTime()),P=x.filter(U=>new Date(U.datetime)>=E).sort((U,D)=>new Date(U.datetime).getTime()-new Date(D.datetime).getTime()),O=o.filter(U=>U.isCompleted).sort((U,D)=>new Date(D.datetime).getTime()-new Date(U.datetime).getTime());return{overdue:N,today:R,upcoming:P,completed:O}},[o]);return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>i("reminder",new Date),className:"flex items-center px-4 py-2 text-sm rounded-md bg-accent text-white hover:bg-accent-hover",children:[a.jsx(me,{name:"bell",className:"h-4 w-4 mr-2"})," ",z("dashboard.newReminder")]})}),o.length===0&&a.jsx("p",{className:"text-center text-text-secondary py-8",children:z("dashboard.reminders.empty")}),a.jsx($c,{title:z("dashboard.overdue"),reminders:_,titleColor:"text-red-500",children:a.jsx("div",{className:"space-y-2",children:_.map(p)})}),a.jsx($c,{title:z("dashboard.today"),reminders:S,children:a.jsx("div",{className:"space-y-2",children:S.map(p)})}),a.jsx($c,{title:z("dashboard.upcoming"),reminders:w,children:a.jsx(ed,{items:w,renderItem:p,itemType:"reminder",locale:g})}),T.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"font-bold text-lg text-text-secondary",children:z("dashboard.completed")}),a.jsx("button",{onClick:()=>c(b=>!b),className:"p-2 rounded-full text-text-secondary hover:bg-border-color",children:a.jsx(me,{name:"chevron",className:`w-5 h-5 transition-transform ${u?"rotate-180":""}`})})]}),u&&a.jsx(ed,{items:T,renderItem:p,itemType:"reminder",locale:g})]})]})},m_=({reminder:o,onBack:r,onDelete:n,allNotes:i,onOpenNote:l,onEdit:u,setReminders:c,language:g})=>{const v=On(g),y=()=>{n("reminder",o.id,o.title),r()},m=d=>{d.stopPropagation(),c(p=>p.map(_=>_.id===o.id?{..._,isCompleted:!o.isCompleted}:_))},f=Q.useMemo(()=>o.noteId?i.find(d=>d.id===o.noteId):null,[o.noteId,i]);return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 p-2 rounded-full hover:bg-border-color",children:[a.jsx(me,{name:"back",className:"h-6 w-6 text-text-secondary"}),a.jsx("span",{className:"font-bold desktop-only",children:z("dashboard.reminders")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>u(o),className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-accent",title:z("common.edit"),children:a.jsx(me,{name:"edit",className:"h-5 w-5"})}),a.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-red-500",title:z("common.delete"),children:a.jsx(me,{name:"delete",className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("button",{onClick:m,className:"p-0 border-0 bg-transparent flex-shrink-0 mt-1",children:a.jsx("div",{className:`w-6 h-6 rounded-md border-2 ${o.isCompleted?"bg-accent border-accent":"border-border-color"} flex items-center justify-center`,children:o.isCompleted&&a.jsx(me,{name:"check",className:"w-4 h-4 text-white"})})}),a.jsx("h2",{className:`text-2xl font-bold flex-1 ${o.isCompleted?"line-through text-text-secondary":""}`,children:o.title})]}),a.jsxs("div",{className:"pl-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center text-text-secondary",children:[a.jsx(me,{name:"bell",className:"h-5 w-5 mr-3 text-accent"}),a.jsx("span",{children:new Date(o.datetime).toLocaleString(v)})]}),o.description&&a.jsx("p",{className:"text-text-primary whitespace-pre-wrap",children:o.description}),f&&a.jsx(cd,{note:f,onOpenNote:l})]})]})]})},g_=({date:o,dailyEvents:r,dailyReminders:n,onClearFilter:i,onItemClick:l,setReminders:u,onNewItemRequest:c,language:g,onBack:v})=>{const y=On(g),m=(f,d)=>{f.stopPropagation(),u(p=>p.map(_=>_.id===d?{..._,isCompleted:!_.isCompleted}:_))};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-1 md:p-2 border-b border-border-color/50",children:[a.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-border-color",title:z("common.back"),children:a.jsx(me,{name:"back",className:"h-6 w-6 text-text-secondary"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-text-primary",children:o.toLocaleDateString(y,{weekday:"long"})}),a.jsx("p",{className:"text-sm text-text-secondary",children:o.toLocaleDateString(y,{month:"long",day:"numeric",year:"numeric"})})]}),a.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-border-color",title:z("common.close"),children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})})]}),a.jsxs("div",{className:"flex justify-end gap-2 px-1 md:px-0",children:[a.jsxs("button",{onClick:()=>c("reminder",o),className:"flex items-center px-3 py-1 text-sm rounded-md bg-secondary text-text-primary hover:bg-border-color",children:[a.jsx(me,{name:"bell",className:"h-4 w-4 mr-2"})," ",z("dashboard.newReminder")]}),a.jsxs("button",{onClick:()=>c("event",o),className:"flex items-center px-3 py-1 text-sm rounded-md bg-secondary text-text-primary hover:bg-border-color",children:[a.jsx(me,{name:"calendar",className:"h-4 w-4 mr-2"})," ",z("dashboard.newEvent")]})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-lg text-text-primary mt-4",children:z("dashboard.events")}),r.sort((f,d)=>new Date(f.start).getTime()-new Date(d.start).getTime()).map(f=>a.jsxs("div",{className:"bg-primary p-3 rounded-lg border-l-4 flex items-start gap-4 cursor-pointer hover:bg-border-color/50",style:{borderLeftColor:f.color},onClick:()=>l(f),children:[a.jsxs("div",{className:"text-right text-sm flex-shrink-0 w-16",children:[a.jsx("p",{className:"font-semibold text-text-primary",children:new Date(f.start).toLocaleTimeString(y,{hour:"2-digit",minute:"2-digit"})}),a.jsxs("p",{className:"text-text-secondary text-xs",children:["to ",new Date(f.end).toLocaleTimeString(y,{hour:"2-digit",minute:"2-digit"})]})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-text-primary break-words",children:f.title}),f.description&&a.jsx("p",{className:"text-sm text-text-secondary truncate",children:f.description})]}),a.jsx(me,{name:"calendar",className:"h-5 w-5 text-text-secondary flex-shrink-0 mt-1"})]},f.id))]}),n.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-lg text-text-primary mt-4",children:z("dashboard.reminders")}),n.sort((f,d)=>new Date(f.datetime).getTime()-new Date(d.datetime).getTime()).map(f=>a.jsxs("div",{className:"bg-primary p-3 rounded-lg border-l-4 flex items-start gap-4 cursor-pointer hover:bg-border-color/50",style:{borderLeftColor:f.color},onClick:()=>l(f),children:[a.jsx("div",{className:"flex-shrink-0 pt-1",children:a.jsx("button",{onClick:d=>m(d,f.id),className:"p-0 border-0 bg-transparent flex-shrink-0",children:a.jsx("div",{className:`w-5 h-5 rounded border-2 ${f.isCompleted?"bg-accent border-accent":"border-border-color"} flex items-center justify-center`,children:f.isCompleted&&a.jsx(me,{name:"check",className:"w-3 h-3 text-white"})})})}),a.jsx("div",{className:"text-right text-sm flex-shrink-0 w-16",children:a.jsx("p",{className:"font-semibold text-text-primary",children:new Date(f.datetime).toLocaleTimeString(y,{hour:"2-digit",minute:"2-digit"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-semibold text-text-primary break-words ${f.isCompleted?"line-through text-text-secondary":""}`,children:f.title}),f.description&&a.jsx("p",{className:"text-sm text-text-secondary truncate",children:f.description})]}),a.jsx(me,{name:"bell",className:"h-5 w-5 text-text-secondary flex-shrink-0 mt-1"})]},f.id))]}),r.length===0&&n.length===0&&a.jsx("p",{className:"text-center text-text-secondary py-8",children:z("dashboard.daily.noItems")})]})},v_=["notes","book","briefcase","code","lightbulb","dollar","heart","star","home","cart","chart","cog","gamepad","music","plane","movie","leaf","lock","cloud","image"],td=({customization:o,className:r})=>{const n=(o==null?void 0:o.icon)||"notes",i=(o==null?void 0:o.color)||"#3a3a3a";return n.startsWith("data:image")?a.jsx("img",{src:n,className:`${r} object-cover bg-cover bg-center`,style:{backgroundColor:i}}):a.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{backgroundColor:i},children:a.jsx(me,{name:n,className:"h-5 w-5 text-white"})})},y_=({folderName:o,customization:r,onClose:n,onSave:i})=>{const[l,u]=Q.useState(o),[c,g]=Q.useState((r==null?void 0:r.color)||"#3a3a3a"),[v,y]=Q.useState((r==null?void 0:r.icon)||"notes"),m=Q.useRef(null),f=p=>{if(p.target.files&&p.target.files[0]){const _=p.target.files[0],S=new FileReader;S.onload=w=>{var T;if((T=w.target)!=null&&T.result){const b=new Image;b.src=w.target.result,b.onload=()=>{const E=document.createElement("canvas"),x=128,N=128;let R=b.width,P=b.height;R>P?R>x&&(P*=x/R,R=x):P>N&&(R*=N/P,P=N),E.width=R,E.height=P;const O=E.getContext("2d");O==null||O.drawImage(b,0,0,R,P);const U=E.toDataURL("image/jpeg",.8);y(U)}}},S.readAsDataURL(_)}},d=()=>{i(o,{name:l,color:c,icon:v})};return a.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:n,children:a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color",children:[a.jsx("h2",{className:"text-xl font-bold",children:z("dashboard.editFolder")}),a.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-hide",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:z("dashboard.folderName")}),a.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:z("dashboard.iconColor")}),a.jsx($v,{selectedColor:c,onSelectColor:g})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:z("dashboard.chooseIcon")}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:v_.map(p=>a.jsx("button",{onClick:()=>y(p),className:`rounded-lg p-2 flex items-center justify-center transition-all ${v===p&&!v.startsWith("data:")?"ring-2 ring-accent":"hover:bg-primary"}`,children:a.jsx(td,{customization:{icon:p,color:c}})},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:z("dashboard.uploadIcon")}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{type:"button",onClick:()=>{var p;return(p=m.current)==null?void 0:p.click()},className:"px-4 py-2 text-sm rounded-md border border-border-color text-text-primary hover:bg-border-color",children:z("dashboard.chooseImage")}),a.jsx("input",{type:"file",ref:m,onChange:f,accept:"image/*",className:"hidden"}),v.startsWith("data:image")&&a.jsx(td,{customization:{icon:v,color:c},className:"w-10 h-10 rounded-lg"})]})]})]}),a.jsxs("div",{className:"p-4 border-t border-border-color flex justify-end space-x-2",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 rounded-md border border-border-color text-text-primary hover:bg-border-color",children:z("common.cancel")}),a.jsx("button",{onClick:d,className:"px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover",children:z("dashboard.saveChanges")})]})]})})},x_=({notesByFolder:o,searchTerm:r,folderCustomization:n,setFolderCustomization:i,onRenameFolder:l,setActiveFolder:u,language:c,onOpenNote:g,onDeleteNote:v})=>{const[y,m]=Q.useState(null),f=(p,_)=>{p!==_.name&&l(p,_.name),i(S=>{const w={...S};return p!==_.name&&w[p]&&delete w[p],w[_.name]={color:_.color,icon:_.icon},w}),m(null)},d=Object.entries(o).filter(([p,_])=>!r||p.toLowerCase().includes(r.toLowerCase())?!0:_.some(S=>S.title.toLowerCase().includes(r.toLowerCase())||S.content.toLowerCase().includes(r.toLowerCase())));return d.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:d.map(([p,_])=>a.jsx("div",{children:a.jsx("div",{className:"bg-primary p-3 rounded-lg cursor-pointer transition-all hover:border-accent border border-transparent",onClick:()=>u(p),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-grow min-w-0",children:[a.jsx(td,{customization:n[p],className:"h-9 w-9 rounded-lg flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-bold text-lg truncate",children:p}),a.jsx("p",{className:"text-sm text-text-secondary",children:z(_.length===1?"dashboard.noteCount":"dashboard.noteCount.plural",{count:_.length})})]})]}),a.jsxs("div",{className:"flex items-center flex-shrink-0",children:[a.jsx("button",{onClick:S=>{S.stopPropagation(),m(p)},className:"p-2 rounded-full hover:bg-border-color text-text-secondary hover:text-accent",title:z("dashboard.editFolder"),children:a.jsx(me,{name:"edit",className:"h-4 w-4"})}),a.jsx("div",{className:"p-2 rounded-full text-text-secondary","aria-hidden":"true",children:a.jsx(me,{name:"chevron",className:"h-5 w-5 -rotate-90"})})]})]})})},p))}),y&&a.jsx(y_,{folderName:y,customization:n[y],onClose:()=>m(null),onSave:f})]}):a.jsx("p",{className:"text-center text-text-secondary py-8",children:z("dashboard.empty")})},b_=({folderName:o,notes:r,onBack:n,onOpenNote:i,onDeleteNote:l,onNewNote:u})=>{const[c,g]=Q.useState(""),v=On("en"),y=Q.useMemo(()=>c?r.filter(f=>f.title.toLowerCase().includes(c.toLowerCase())||f.content.toLowerCase().includes(c.toLowerCase())):r,[r,c]),m=f=>{if(!f)return"";const d=document.createElement("div");d.innerHTML=f;const p=(d.textContent||"").replace(/\s+/g," ").trim();return p.length>120?p.substring(0,120)+"...":p};return a.jsxs("div",{className:"flex flex-col h-full animate-slide-in-right",children:[a.jsxs("div",{className:"flex items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-border-color mr-2",children:a.jsx(me,{name:"back",className:"h-6 w-6 text-text-secondary"})}),a.jsx("h2",{className:"text-xl font-bold truncate",children:o})]}),a.jsxs("div",{className:"p-4 border-b border-border-color flex-shrink-0 space-y-4",children:[a.jsx("input",{type:"text",placeholder:z("common.search",{context:z("common.note.plural")}),value:c,onChange:f=>g(f.target.value),className:"w-full bg-primary border border-border-color rounded-md py-2 px-4 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 text-sm rounded-md bg-accent text-white hover:bg-accent-hover",children:[a.jsx(me,{name:"edit",className:"h-4 w-4 mr-2"})," ",z("dashboard.newNote")]})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 scrollbar-hide",children:y.length>0?y.map(f=>a.jsxs("div",{onClick:()=>i(f.id),className:"bg-primary p-3 rounded-lg border border-transparent hover:border-accent cursor-pointer group transition-colors relative",children:[a.jsx("h4",{className:"font-semibold text-text-primary pr-8",children:f.title||z("common.untitled")}),a.jsx("p",{className:"text-sm text-text-secondary mt-1 line-clamp-3",children:m(f.content)}),a.jsx("p",{className:"text-xs text-text-secondary/70 mt-2",children:z("dashboard.updated",{date:new Date(f.updatedAt).toLocaleDateString(v)})}),a.jsx("button",{onClick:d=>{d.stopPropagation(),l(f.id)},className:"absolute top-2 right-2 p-2 text-text-secondary hover:text-red-500 rounded-full hover:bg-border-color opacity-0 group-hover:opacity-100 transition-opacity",title:z("common.delete"),children:a.jsx(me,{name:"delete",className:"h-4 w-4"})})]},f.id)):a.jsx("p",{className:"text-center text-text-secondary py-8",children:z("dashboard.empty")})})]})},w_=o=>{const{onClose:r,onBack:n,notes:i,reminders:l,setReminders:u,events:c,setEvents:g,onNewNote:v,folderCustomization:y,setFolderCustomization:m,setActiveItemId:f,dateFilter:d,setDateFilter:p,onRenameFolder:_,onDeleteNote:S,onOpenNote:w,onNewItemRequest:T,settings:b,activeFolder:E,setActiveFolder:x}=o,[N,R]=Q.useState("notes"),[P,O]=Q.useState("");Q.useEffect(()=>{if(d&&N!=="reminders"&&N!=="events"){const j=l.some($=>new Date($.datetime).toDateString()===d.toDateString());R(j?"reminders":"events")}},[d,N,l,c]);const U=Q.useMemo(()=>i.reduce((j,$)=>{const H=$.folder||"Uncategorized";return j[H]||(j[H]=[]),j[H].push($),j},{}),[i]),D=Q.useMemo(()=>{if(!d)return[];const j=d.toDateString();return l.filter($=>new Date($.datetime).toDateString()===j)},[l,d]),M=Q.useMemo(()=>{if(!d)return c;const j=d.getTime();return c.filter($=>{const H=new Date($.start);H.setHours(0,0,0,0);const ee=new Date($.end);return ee.setHours(23,59,59,999),j>=H.getTime()&&j<=ee.getTime()})},[c,d]);if(E)return a.jsx(b_,{folderName:E,notes:i.filter(j=>j.folder===E),onBack:()=>x(null),onOpenNote:w,onDeleteNote:S,onNewNote:v});const L={notes:z("dashboard.notes"),reminders:z("dashboard.reminders"),events:z("dashboard.events")};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"relative flex justify-center items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsx("button",{onClick:r,className:"absolute left-4 p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})}),a.jsx("h2",{className:"text-xl font-bold",children:z("dashboard.title")})]}),d?a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:a.jsx(g_,{date:d,dailyEvents:M,dailyReminders:D,onClearFilter:()=>p(null),onBack:n,onItemClick:j=>f(j.id),setReminders:u,allNotes:i,onNewItemRequest:T,language:b.language.appLanguage})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b border-border-color flex flex-col gap-4 flex-shrink-0",children:[a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-1 bg-primary p-1 rounded-lg",children:[a.jsx(Bc,{name:L.notes,icon:"notes",isActive:N==="notes",onClick:()=>R("notes")}),a.jsx(Bc,{name:L.reminders,icon:"bell",isActive:N==="reminders",onClick:()=>R("reminders")}),a.jsx(Bc,{name:L.events,icon:"calendar",isActive:N==="events",onClick:()=>R("events")})]}),a.jsx("input",{type:"text",placeholder:z("common.search",{context:L[N]}),value:P,onChange:j=>O(j.target.value),className:"w-full bg-primary border border-border-color rounded-md py-2 px-4 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:N==="notes"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 text-sm rounded-md bg-accent text-white hover:bg-accent-hover",children:[a.jsx(me,{name:"edit",className:"h-4 w-4 mr-2"})," ",z("dashboard.newNote")]})}),a.jsx(x_,{notesByFolder:U,onOpenNote:w,onDeleteNote:S,searchTerm:P,folderCustomization:y,setFolderCustomization:m,onRenameFolder:_,language:b.language.appLanguage,setActiveFolder:x})]}):N==="reminders"?a.jsx(p_,{reminders:l.filter(j=>j.title.toLowerCase().includes(P.toLowerCase())),setReminders:u,allNotes:i,onItemClick:j=>f(j.id),onNewItemRequest:T,language:b.language.appLanguage}):a.jsx(f_,{events:c.filter(j=>j.title.toLowerCase().includes(P.toLowerCase())),setEvents:g,allNotes:i,onItemClick:j=>f(j.id),onNewItemRequest:T,language:b.language.appLanguage})})]})]})},__=({checked:o,onChange:r})=>a.jsx("button",{type:"button",role:"switch","aria-checked":o,onClick:()=>r(!o),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${o?"bg-accent":"bg-primary"}`,children:a.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${o?"translate-x-6":"translate-x-1"}`})}),S_=({isMobile:o,itemToEdit:r,onSave:n,onDelete:i,onClose:l,onBack:u,allNotes:c,setHighlightedRange:g,onDragMove:v,onDragEnd:y,isSheetExpanded:m})=>{const f=typeof r.item=="object"?r.item:{},d=!f.id,[p,_]=Q.useState(f.title||""),[S,w]=Q.useState(f.description||""),[T,b]=Q.useState(f.noteId||""),[E,x]=Q.useState(f.color||(r.type==="event"?"#10b981":"#4f46e5")),[N,R]=Q.useState("start"in f&&f.start?re(new Date(f.start)):re(new Date)),[P,O]=Q.useState("end"in f&&f.end?re(new Date(f.end)):re(new Date(Date.now()+3600*1e3))),[U,D]=Q.useState("isAllDay"in f&&f.isAllDay||!1),[M,L]=Q.useState("datetime"in f&&f.datetime?re(new Date(f.datetime)):re(new Date)),[j,$]=Q.useState({}),H=Q.useRef({startY:0,lastY:0,lastTime:0,velocityY:0,isDragging:!1}),ee=Q.useRef(null),ne=Q.useRef(null);function re(Y){const X=Y.getTimezoneOffset()*6e4;return new Date(Y.getTime()-X).toISOString().slice(0,16)}Q.useEffect(()=>{if(r.type==="event"&&typeof r.item=="object"&&"start"in r.item&&r.item.start){const Y=re(new Date(r.item.start)),X=re(new Date(r.item.end));Y!==N&&R(Y),X!==P&&O(X)}},[r.item]),Q.useEffect(()=>{if(r.type==="event"){const Y=new Date(N),X=new Date(P);!isNaN(Y.getTime())&&!isNaN(X.getTime())?g({start:Y.toISOString(),end:X.toISOString()}):g(null)}return()=>{g(null)}},[N,P,r.type,g]);const W=()=>{const Y={};if(p.trim()||(Y.title=z("dashboard.itemEditor.error.title")),r.type==="event"){const X=new Date(N),ue=new Date(P);isNaN(X.getTime())||isNaN(ue.getTime())?Y.dates=z("dashboard.itemEditor.error.dates.invalid"):X>=ue?Y.dates=z("dashboard.itemEditor.error.dates.order"):!U&&ue.getTime()-X.getTime()<300*1e3&&(Y.dates=z("dashboard.itemEditor.error.dates.duration"))}if(Object.keys(Y).length>0){$(Y);return}if($({}),r.type==="event"){const X={id:"id"in f?f.id:`event_${Date.now()}`,createdAt:"createdAt"in f?f.createdAt:new Date().toISOString(),title:p,description:S,color:E,noteId:T,isAllDay:U,start:new Date(N).toISOString(),end:new Date(P).toISOString()};n(X)}else{const X={id:"id"in f?f.id:`reminder_${Date.now()}`,createdAt:"createdAt"in f?f.createdAt:new Date().toISOString(),isCompleted:"isCompleted"in f?f.isCompleted:!1,title:p,description:S,color:E,noteId:T,datetime:new Date(M).toISOString()};n(X)}},A=()=>{d||i(f)},k=Y=>{const X=ee.current;X&&X.scrollTop===0&&(H.current={startY:Y.touches[0].clientY,lastY:Y.touches[0].clientY,lastTime:Date.now(),velocityY:0,isDragging:!0})},q=Q.useCallback(Y=>{if(!H.current.isDragging)return;Y.preventDefault();const X=Y.touches[0].clientY,ue=X-H.current.lastY,he=Date.now(),Te=he-H.current.lastTime;Te>0&&(H.current.velocityY=ue/Te),H.current.lastY=X,H.current.lastTime=he,v(ue)},[v]),V=Q.useCallback(()=>{H.current.isDragging&&(y(H.current.velocityY),H.current.isDragging=!1)},[y]),K=o&&r.mode==="sheet",J=!K||m;Q.useEffect(()=>{if(K)return window.addEventListener("touchmove",q,{passive:!1}),window.addEventListener("touchend",V),window.addEventListener("touchcancel",V),()=>{window.removeEventListener("touchmove",q),window.removeEventListener("touchend",V),window.removeEventListener("touchcancel",V)}},[K,q,V]);const B=()=>{const Y=z(`common.${r.type}`),X=d?z("common.new_entity",{entity:Y}):z("common.edit_entity",{entity:Y});return a.jsxs("div",{className:"flex items-center p-2 md:p-4 border-b border-border-color",children:[a.jsx("div",{className:"flex-none",children:a.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"back",className:"h-6 w-6 text-text-secondary"})})}),a.jsx("h2",{className:"flex-1 text-center text-lg md:text-xl font-bold truncate px-2",children:X}),a.jsxs("div",{className:"flex-none flex items-center space-x-2",children:[!d&&!o&&a.jsx("button",{onClick:A,className:"px-4 py-2 rounded-md text-sm text-red-500 hover:bg-red-500/10",children:z("common.delete")}),a.jsx("button",{onClick:W,className:"px-4 md:px-5 py-2 text-sm md:text-base rounded-md bg-accent text-white hover:bg-accent-hover font-semibold",children:z("common.save")})]})]})},G=z(`common.${r.type}`);return a.jsxs("div",{className:"flex flex-col h-full bg-secondary",children:[a.jsxs("div",{ref:ne,className:"flex-shrink-0",...K&&{onTouchStart:k},children:[K&&a.jsx("div",{className:"py-2.5 cursor-grab active:cursor-grabbing",children:a.jsx("div",{className:"w-10 h-1.5 bg-border-color rounded-full mx-auto"})}),a.jsx(B,{})]}),a.jsxs("div",{ref:ee,className:"flex-1 overflow-y-auto scrollbar-hide p-4 md:p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("input",{placeholder:z("dashboard.itemEditor.title.placeholder",{type:G}),value:p,onChange:Y=>{_(Y.target.value),j.title&&$(X=>({...X,title:void 0}))},className:`w-full bg-transparent text-3xl font-bold border-none focus:outline-none placeholder-text-secondary ${j.title?"placeholder-red-400":""}`}),j.title&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.title})]}),r.type==="event"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between bg-primary p-3 rounded-lg",children:[a.jsx("span",{className:"text-text-primary font-medium",children:z("dashboard.itemEditor.allDay")}),a.jsx(__,{checked:U,onChange:D})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsxs("div",{className:"flex-1 w-full",children:[a.jsx("label",{className:"text-xs text-text-secondary",children:z("dashboard.itemEditor.start")}),a.jsx("input",{type:U?"date":"datetime-local",value:N.substring(0,U?10:16),onChange:Y=>{R(Y.target.value),j.dates&&$(X=>({...X,dates:void 0}))},className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),a.jsxs("div",{className:"flex-1 w-full",children:[a.jsx("label",{className:"text-xs text-text-secondary",children:z("dashboard.itemEditor.end")}),a.jsx("input",{type:U?"date":"datetime-local",value:P.substring(0,U?10:16),onChange:Y=>{O(Y.target.value),j.dates&&$(X=>({...X,dates:void 0}))},className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]})]}),j.dates&&a.jsx("p",{className:"text-red-500 text-sm",children:j.dates})]})]}),r.type==="reminder"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-text-secondary",children:z("dashboard.itemEditor.datetime")}),a.jsx("input",{type:"datetime-local",value:M,onChange:Y=>L(Y.target.value),className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),J?a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("textarea",{placeholder:z("dashboard.itemEditor.description.placeholder"),value:S,onChange:Y=>w(Y.target.value),rows:4,className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:z("dashboard.itemEditor.color")}),a.jsx($v,{selectedColor:E,onSelectColor:x})]}),a.jsxs("select",{value:T,onChange:Y=>b(Y.target.value),className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",children:[a.jsx("option",{value:"",children:z("dashboard.itemEditor.attachNote")}),c.map(Y=>a.jsx("option",{value:Y.id,children:Y.title},Y.id))]}),T&&c.find(Y=>Y.id===T)&&a.jsx(cd,{note:c.find(Y=>Y.id===T),onOpenNote:()=>{}}),!d&&o&&a.jsx("button",{onClick:A,className:"w-full px-4 py-2 rounded-md text-red-500 border border-red-500/50 hover:bg-red-500/10",children:z("dashboard.itemEditor.delete_entity",{type:G})})]}):a.jsx("div",{className:"text-center text-text-secondary text-sm pt-4",children:z("dashboard.itemEditor.sheet.prompt")})]})]})};function Vg(){const{innerWidth:o,innerHeight:r}=window;return{width:o,height:r}}function fd(){const[o,r]=Q.useState(Vg());return Q.useEffect(()=>{function n(){r(Vg())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),o}const T_=o=>{const{isOpen:r,isMobile:n,activeNoteId:i,activeItemId:l,editingItem:u,setEditingItem:c,notes:g,events:v,reminders:y,setEvents:m,setReminders:f,onClose:d,onCreateNote:p,onUpdateNote:_,onDeleteNote:S,setHighlightedRange:w,setActiveNoteId:T,setActiveItemId:b,dateFilter:E,setDateFilter:x,panelWasOpenBeforeFilter:N,settings:R,setSettings:P,onRequestDeleteItem:O,activeFolder:U,setActiveFolder:D}=o,{height:M}=fd(),L=n&&(u==null?void 0:u.mode)==="sheet",[j,$]=Q.useState(r),[H,ee]=Q.useState(!1);Q.useEffect(()=>{if(r)$(!0),ee(!1);else{const fe=setTimeout(()=>$(!1),300);return()=>clearTimeout(fe)}},[r]);const[ne,re]=Q.useState(M),[W,A]=Q.useState(!1),k=Q.useRef(ne);Q.useEffect(()=>{k.current=ne},[ne]);const q=M*.05,K=M-270,J=M,B=L&&ne<K-20;Q.useEffect(()=>{if(r&&L){re(J);const fe=requestAnimationFrame(()=>{A(!0),re(K)});return()=>cancelAnimationFrame(fe)}else r||(A(!1),re(J))},[r,L,K,J]);const G=Q.useCallback(()=>{ee(!0),re(J);const fe=setTimeout(()=>{d()},300);return()=>clearTimeout(fe)},[J,d]),Y=Q.useCallback(fe=>{A(!1),re(ve=>Math.max(q,ve+fe))},[q]),X=Q.useCallback(fe=>{A(!0);const ve=.5,pe=k.current,Me=Ae=>{re(Ae),Ae>=J&&setTimeout(G,0)};fe<-ve?Me(q):fe>ve?Me(pe<K+K/2?K:J):pe<(q+K)/2?Me(q):pe<(K+J)/2?Me(K):Me(J)},[q,K,J,G]),ue=Q.useMemo(()=>i==="new"||!i?null:g.find(fe=>fe.id===i)||null,[i,g]),he=Q.useMemo(()=>l&&[...v,...y].find(fe=>fe.id===l)||null,[l,v,y]),Te=Q.useMemo(()=>{const fe=new Set(g.map(ve=>ve.folder));return Array.from(fe)},[g]),Ce=fe=>{if("start"in fe?o.events.some(ve=>ve.id===fe.id)?m(ve=>ve.map(pe=>pe.id===fe.id?fe:pe)):m(ve=>[...ve,fe]):o.reminders.some(ve=>ve.id===fe.id)?f(ve=>ve.map(pe=>pe.id===fe.id?fe:pe)):f(ve=>[...ve,fe]),n&&(u==null?void 0:u.mode)==="sheet"){G();return}c(null),w(null),T(null),D(null),b(fe.id)},ge=fe=>{const ve="start"in fe?"event":"reminder";O(ve,fe.id,fe.title)},De=()=>{w(null),c(null),L?G():He()},He=Q.useCallback(()=>{if(u){if(n&&u.mode==="sheet"){G();return}c(null),w(null);return}if(i||l){T(null),b(null);return}if(U){D(null);return}if(E){if(n){d();return}N?x(null):d();return}d()},[u,i,l,E,N,U,D,c,T,b,w,d,x,n,G]),Fe=()=>{if(u)return a.jsx(S_,{isMobile:n,itemToEdit:u,onSave:Ce,onDelete:ge,onClose:De,onBack:He,allNotes:g,setHighlightedRange:w,onDragMove:Y,onDragEnd:X,isSheetExpanded:B},typeof u.item=="object"?u.item.id:"new");if(i){const fe=i==="new"?{id:"new",title:"",content:"",folder:U||"Uncategorized",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:ue;return a.jsx(d_,{note:fe,onBack:He,startInEditMode:o.startEditing,onCreate:p,onUpdate:_,onDelete:S,allFolders:Te,settings:R,setSettings:P},fe==null?void 0:fe.id)}return he?"datetime"in he?a.jsx(m_,{reminder:he,onBack:He,onDelete:O,allNotes:o.notes,onOpenNote:o.onOpenNote,onEdit:o.onEditItem,setReminders:f,language:R.language.appLanguage}):a.jsx(h_,{event:he,onBack:He,onDelete:O,allNotes:o.notes,onOpenNote:o.onOpenNote,onEdit:o.onEditItem,setHighlightedRange:w,language:R.language.appLanguage}):a.jsx(w_,{...o,onBack:He})};if(!j)return null;let ae="bg-secondary/90 backdrop-blur-sm shadow-2xl flex-shrink-0 flex flex-col",de={};return n?L?(ae+=" fixed inset-x-0 top-0 h-full z-[55] rounded-t-2xl overflow-hidden",de={transform:`translateY(${ne}px)`,transition:W?"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)":"none"}):ae+=` fixed inset-0 z-[55] duration-300 ease-in-out ${r?"animate-slide-in-right":H?"":"animate-slide-out-right"}`:ae+=` relative w-[450px] max-w-[450px] border-l border-border-color z-30 duration-300 ease-in-out ${r?"animate-slide-in-right":"animate-slide-out-right"}`,a.jsx("aside",{className:ae,style:de,children:Fe()})},zg=[{code:"RU",name:"Russia",flag:"🇷🇺"},{code:"US",name:"United States",flag:"🇺🇸"},{code:"GB",name:"United Kingdom",flag:"🇬🇧"},{code:"AF",name:"Afghanistan",flag:"🇦🇫"},{code:"AL",name:"Albania",flag:"🇦🇱"},{code:"DZ",name:"Algeria",flag:"🇩🇿"},{code:"AD",name:"Andorra",flag:"🇦🇩"},{code:"AO",name:"Angola",flag:"🇦🇴"},{code:"AG",name:"Antigua and Barbuda",flag:"🇦🇬"},{code:"AR",name:"Argentina",flag:"🇦🇷"},{code:"AM",name:"Armenia",flag:"🇦🇲"},{code:"AU",name:"Australia",flag:"🇦🇺"},{code:"AT",name:"Austria",flag:"🇦🇹"},{code:"AZ",name:"Azerbaijan",flag:"🇦🇿"},{code:"BS",name:"Bahamas",flag:"🇧🇸"},{code:"BH",name:"Bahrain",flag:"🇧🇭"},{code:"BD",name:"Bangladesh",flag:"🇧🇩"},{code:"BB",name:"Barbados",flag:"🇧🇧"},{code:"BY",name:"Belarus",flag:"🇧🇾"},{code:"BE",name:"Belgium",flag:"🇧🇪"},{code:"BZ",name:"Belize",flag:"🇧🇿"},{code:"BJ",name:"Benin",flag:"🇧🇯"},{code:"BT",name:"Bhutan",flag:"🇧🇹"},{code:"BO",name:"Bolivia",flag:"🇧🇴"},{code:"BA",name:"Bosnia and Herzegovina",flag:"🇧🇦"},{code:"BW",name:"Botswana",flag:"🇧🇼"},{code:"BR",name:"Brazil",flag:"🇧🇷"},{code:"BN",name:"Brunei",flag:"🇧🇳"},{code:"BG",name:"Bulgaria",flag:"🇧🇬"},{code:"BF",name:"Burkina Faso",flag:"🇧🇫"},{code:"BI",name:"Burundi",flag:"🇧🇮"},{code:"CV",name:"Cabo Verde",flag:"🇨🇻"},{code:"KH",name:"Cambodia",flag:"🇰🇭"},{code:"CM",name:"Cameroon",flag:"🇨🇲"},{code:"CA",name:"Canada",flag:"🇨🇦"},{code:"CF",name:"Central African Republic",flag:"🇨🇫"},{code:"TD",name:"Chad",flag:"🇹🇩"},{code:"CL",name:"Chile",flag:"🇨🇱"},{code:"CN",name:"China",flag:"🇨🇳"},{code:"CO",name:"Colombia",flag:"🇨🇴"},{code:"KM",name:"Comoros",flag:"🇰🇲"},{code:"CG",name:"Congo, Republic of the",flag:"🇨🇬"},{code:"CD",name:"Congo, Democratic Republic of the",flag:"🇨🇩"},{code:"CR",name:"Costa Rica",flag:"🇨🇷"},{code:"CI",name:"Côte d'Ivoire",flag:"🇨🇮"},{code:"HR",name:"Croatia",flag:"🇭🇷"},{code:"CU",name:"Cuba",flag:"🇨🇺"},{code:"CY",name:"Cyprus",flag:"🇨🇾"},{code:"CZ",name:"Czech Republic",flag:"🇨🇿"},{code:"DK",name:"Denmark",flag:"🇩🇰"},{code:"DJ",name:"Djibouti",flag:"🇩🇯"},{code:"DM",name:"Dominica",flag:"🇩🇲"},{code:"DO",name:"Dominican Republic",flag:"🇩🇴"},{code:"EC",name:"Ecuador",flag:"🇪🇨"},{code:"EG",name:"Egypt",flag:"🇪🇬"},{code:"SV",name:"El Salvador",flag:"🇸🇻"},{code:"GQ",name:"Equatorial Guinea",flag:"🇬🇶"},{code:"ER",name:"Eritrea",flag:"🇪🇷"},{code:"EE",name:"Estonia",flag:"🇪🇪"},{code:"SZ",name:"Eswatini",flag:"🇸🇿"},{code:"ET",name:"Ethiopia",flag:"🇪🇹"},{code:"FJ",name:"Fiji",flag:"🇫🇯"},{code:"FI",name:"Finland",flag:"🇫🇮"},{code:"FR",name:"France",flag:"🇫🇷"},{code:"GA",name:"Gabon",flag:"🇬🇦"},{code:"GM",name:"Gambia",flag:"🇬🇲"},{code:"GE",name:"Georgia",flag:"🇬🇪"},{code:"DE",name:"Germany",flag:"🇩🇪"},{code:"GH",name:"Ghana",flag:"🇬🇭"},{code:"GR",name:"Greece",flag:"🇬🇷"},{code:"GD",name:"Grenada",flag:"🇬🇩"},{code:"GT",name:"Guatemala",flag:"🇬🇹"},{code:"GN",name:"Guinea",flag:"🇬🇳"},{code:"GW",name:"Guinea-Bissau",flag:"🇬🇼"},{code:"GY",name:"Guyana",flag:"🇬🇾"},{code:"HT",name:"Haiti",flag:"🇭🇹"},{code:"HN",name:"Honduras",flag:"🇭🇳"},{code:"HU",name:"Hungary",flag:"🇭🇺"},{code:"IS",name:"Iceland",flag:"🇮🇸"},{code:"IN",name:"India",flag:"🇮🇳"},{code:"ID",name:"Indonesia",flag:"🇮🇩"},{code:"IR",name:"Iran",flag:"🇮🇷"},{code:"IQ",name:"Iraq",flag:"🇮🇶"},{code:"IE",name:"Ireland",flag:"🇮🇪"},{code:"IL",name:"Israel",flag:"🇮🇱"},{code:"IT",name:"Italy",flag:"🇮🇹"},{code:"JM",name:"Jamaica",flag:"🇯🇲"},{code:"JP",name:"Japan",flag:"🇯🇵"},{code:"JO",name:"Jordan",flag:"🇯🇴"},{code:"KZ",name:"Kazakhstan",flag:"🇰🇿"},{code:"KE",name:"Kenya",flag:"🇰🇪"},{code:"KI",name:"Kiribati",flag:"🇰🇮"},{code:"KW",name:"Kuwait",flag:"🇰🇼"},{code:"KG",name:"Kyrgyzstan",flag:"🇰🇬"},{code:"LA",name:"Laos",flag:"🇱🇦"},{code:"LV",name:"Latvia",flag:"🇱🇻"},{code:"LB",name:"Lebanon",flag:"🇱🇧"},{code:"LS",name:"Lesotho",flag:"🇱🇸"},{code:"LR",name:"Liberia",flag:"🇱🇷"},{code:"LY",name:"Libya",flag:"🇱🇾"},{code:"LI",name:"Liechtenstein",flag:"🇱🇮"},{code:"LT",name:"Lithuania",flag:"🇱🇹"},{code:"LU",name:"Luxembourg",flag:"🇱🇺"},{code:"MG",name:"Madagascar",flag:"🇲🇬"},{code:"MW",name:"Malawi",flag:"🇲🇼"},{code:"MY",name:"Malaysia",flag:"🇲🇾"},{code:"MV",name:"Maldives",flag:"🇲🇻"},{code:"ML",name:"Mali",flag:"🇲🇱"},{code:"MT",name:"Malta",flag:"🇲🇹"},{code:"MH",name:"Marshall Islands",flag:"🇲🇭"},{code:"MR",name:"Mauritania",flag:"🇲🇷"},{code:"MU",name:"Mauritius",flag:"🇲🇺"},{code:"MX",name:"Mexico",flag:"🇲🇽"},{code:"FM",name:"Micronesia",flag:"🇫🇲"},{code:"MD",name:"Moldova",flag:"🇲🇩"},{code:"MC",name:"Monaco",flag:"🇲🇨"},{code:"MN",name:"Mongolia",flag:"🇲🇳"},{code:"ME",name:"Montenegro",flag:"🇲🇪"},{code:"MA",name:"Morocco",flag:"🇲🇦"},{code:"MZ",name:"Mozambique",flag:"🇲🇿"},{code:"MM",name:"Myanmar",flag:"🇲🇲"},{code:"NA",name:"Namibia",flag:"🇳🇦"},{code:"NR",name:"Nauru",flag:"🇳🇷"},{code:"NP",name:"Nepal",flag:"🇳🇵"},{code:"NL",name:"Netherlands",flag:"🇳🇱"},{code:"NZ",name:"New Zealand",flag:"🇳🇿"},{code:"NI",name:"Nicaragua",flag:"🇳🇮"},{code:"NE",name:"Niger",flag:"🇳🇪"},{code:"NG",name:"Nigeria",flag:"🇳🇬"},{code:"KP",name:"North Korea",flag:"🇰🇵"},{code:"MK",name:"North Macedonia",flag:"🇲🇰"},{code:"NO",name:"Norway",flag:"🇳🇴"},{code:"OM",name:"Oman",flag:"🇴🇲"},{code:"PK",name:"Pakistan",flag:"🇵🇰"},{code:"PW",name:"Palau",flag:"🇵🇼"},{code:"PS",name:"Palestine",flag:"🇵🇸"},{code:"PA",name:"Panama",flag:"🇵🇦"},{code:"PG",name:"Papua New Guinea",flag:"🇵🇬"},{code:"PY",name:"Paraguay",flag:"🇵🇾"},{code:"PE",name:"Peru",flag:"🇵🇪"},{code:"PH",name:"Philippines",flag:"🇵🇭"},{code:"PL",name:"Poland",flag:"🇵🇱"},{code:"PT",name:"Portugal",flag:"🇵🇹"},{code:"QA",name:"Qatar",flag:"🇶🇦"},{code:"RO",name:"Romania",flag:"🇷🇴"},{code:"RW",name:"Rwanda",flag:"🇷🇼"},{code:"KN",name:"Saint Kitts and Nevis",flag:"🇰🇳"},{code:"LC",name:"Saint Lucia",flag:"🇱🇨"},{code:"VC",name:"Saint Vincent and the Grenadines",flag:"🇻🇨"},{code:"WS",name:"Samoa",flag:"🇼🇸"},{code:"SM",name:"San Marino",flag:"🇸🇲"},{code:"ST",name:"Sao Tome and Principe",flag:"🇸🇹"},{code:"SA",name:"Saudi Arabia",flag:"🇸🇦"},{code:"SN",name:"Senegal",flag:"🇸🇳"},{code:"RS",name:"Serbia",flag:"🇷🇸"},{code:"SC",name:"Seychelles",flag:"🇸🇨"},{code:"SL",name:"Sierra Leone",flag:"🇸🇱"},{code:"SG",name:"Singapore",flag:"🇸🇬"},{code:"SK",name:"Slovakia",flag:"🇸🇰"},{code:"SI",name:"Slovenia",flag:"🇸🇮"},{code:"SB",name:"Solomon Islands",flag:"🇸🇧"},{code:"SO",name:"Somalia",flag:"🇸🇴"},{code:"ZA",name:"South Africa",flag:"🇿🇦"},{code:"KR",name:"South Korea",flag:"🇰🇷"},{code:"SS",name:"South Sudan",flag:"🇸🇸"},{code:"ES",name:"Spain",flag:"🇪🇸"},{code:"LK",name:"Sri Lanka",flag:"🇱🇰"},{code:"SD",name:"Sudan",flag:"🇸🇩"},{code:"SR",name:"Suriname",flag:"🇸🇷"},{code:"SE",name:"Sweden",flag:"🇸🇪"},{code:"CH",name:"Switzerland",flag:"🇨🇭"},{code:"SY",name:"Syria",flag:"🇸🇾"},{code:"TW",name:"Taiwan",flag:"🇹🇼"},{code:"TJ",name:"Tajikistan",flag:"🇹🇯"},{code:"TZ",name:"Tanzania",flag:"🇹🇿"},{code:"TH",name:"Thailand",flag:"🇹🇭"},{code:"TL",name:"Timor-Leste",flag:"🇹🇱"},{code:"TG",name:"Togo",flag:"🇹🇬"},{code:"TO",name:"Tonga",flag:"🇹🇴"},{code:"TT",name:"Trinidad and Tobago",flag:"🇹🇹"},{code:"TN",name:"Tunisia",flag:"🇹🇳"},{code:"TR",name:"Turkey",flag:"🇹🇷"},{code:"TM",name:"Turkmenistan",flag:"🇹🇲"},{code:"TV",name:"Tuvalu",flag:"🇹🇻"},{code:"UG",name:"Uganda",flag:"🇺🇬"},{code:"UA",name:"Ukraine",flag:"🇺🇦"},{code:"AE",name:"United Arab Emirates",flag:"🇦🇪"},{code:"UY",name:"Uruguay",flag:"🇺🇾"},{code:"UZ",name:"Uzbekistan",flag:"🇺🇿"},{code:"VU",name:"Vanuatu",flag:"🇻🇺"},{code:"VE",name:"Venezuela",flag:"🇻🇪"},{code:"VN",name:"Vietnam",flag:"🇻🇳"},{code:"YE",name:"Yemen",flag:"🇾🇪"},{code:"ZM",name:"Zambia",flag:"🇿🇲"},{code:"ZW",name:"Zimbabwe",flag:"🇿🇼"}],Vv=({selectedCountry:o,onSelectCountry:r})=>{const[n,i]=Q.useState(!1),[l,u]=Q.useState(""),c=Q.useRef(null),g=Q.useMemo(()=>zg.find(m=>m.code===o),[o]),v=Q.useMemo(()=>zg.filter(m=>m.name.toLowerCase().includes(l.toLowerCase())),[l]);Q.useEffect(()=>{const m=f=>{c.current&&!c.current.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const y=m=>{r(m),i(!1),u("")};return a.jsxs("div",{className:"relative",ref:c,children:[a.jsxs("button",{type:"button",className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent flex justify-between items-center",onClick:()=>i(!n),children:[a.jsx("span",{className:"flex items-center",children:g?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:g.flag}),a.jsx("span",{children:g.name})]}):a.jsx("span",{children:"Select a country"})}),a.jsx(me,{name:"chevron",className:`h-5 w-5 text-text-secondary transition-transform ${n?"rotate-180":""}`})]}),n&&a.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-secondary shadow-lg rounded-md border border-border-color max-h-80 flex flex-col",children:[a.jsx("div",{className:"p-2 border-b border-border-color",children:a.jsx("input",{type:"text",placeholder:"Search country...",className:"w-full bg-primary border border-border-color rounded-md py-1.5 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",value:l,onChange:m=>u(m.target.value),autoFocus:!0})}),a.jsx("ul",{className:"overflow-y-auto scrollbar-hide flex-1",children:v.map(m=>a.jsx("li",{children:a.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-accent hover:text-white flex items-center",onClick:()=>y(m.code),children:[a.jsx("span",{className:"mr-3",children:m.flag}),a.jsx("span",{children:m.name})]})},m.code))})]})]})},C_=({isOpen:o,onClose:r,profile:n,setProfile:i,memory:l,setMemory:u,isMobile:c})=>{const[g,v]=Q.useState({firstName:"",lastName:"",dob:"",description:"",timezone:"",country:""}),[y,m]=Q.useState(!1),[f,d]=Q.useState(null);if(Q.useEffect(()=>{n&&v(n),d(null),m(!1)},[n,o]),!o)return null;const p=async()=>{m(!0),d(null);const{error:T}=await _n.auth.updateUser({data:{first_name:g.firstName,last_name:g.lastName,dob:g.dob,description:g.description,country:g.country}});m(!1),T?d(T.message):(i(g),r())},_=T=>{u(b=>{const E={...b};return delete E[T],E})},S=()=>{u({})},w=T=>{const{name:b,value:E}=T.target;v(x=>({...x,[b]:E}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 md:p-4 animate-fade-in",onClick:r,children:a.jsxs("div",{className:"bg-secondary shadow-2xl w-full h-full md:rounded-lg md:max-w-2xl md:h-auto md:max-h-[80vh] flex flex-col animate-pop-in",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"relative flex justify-center items-center p-4 border-b border-border-color",children:[a.jsx("button",{onClick:r,className:"absolute left-4 p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})}),a.jsx("h2",{className:"text-xl font-bold",children:z("profile.title")})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xs,{label:z("profile.firstName"),name:"firstName",value:g.firstName,onChange:w}),a.jsx(Xs,{label:z("profile.lastName"),name:"lastName",value:g.lastName,onChange:w})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Xs,{label:z("profile.dob"),name:"dob",type:"date",value:g.dob,onChange:w}),a.jsx(Xs,{label:z("profile.timezone"),name:"timezone",value:g.timezone,onChange:w,disabled:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Country"}),a.jsx(Vv,{selectedCountry:g.country,onSelectCountry:T=>v(b=>({...b,country:T}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:z("profile.about")}),a.jsx("textarea",{name:"description",value:g.description,onChange:w,rows:4,className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold border-t border-border-color pt-4",children:z("profile.memory.title")}),a.jsx("p",{className:"text-sm text-text-secondary mb-3",children:z("profile.memory.description")}),a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 pr-2",children:Object.entries(l).length>0?Object.entries(l).map(([T,b])=>a.jsxs("div",{className:"bg-primary p-3 rounded-lg border border-border-color flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-mono text-sm text-accent",children:T}),a.jsx("p",{className:"text-text-primary mt-1",children:JSON.stringify(b)})]}),a.jsx("button",{onClick:()=>_(T),className:"p-2 rounded-full text-text-secondary hover:text-red-500",children:a.jsx(me,{name:"delete",className:"h-4 w-4"})})]},T)):a.jsx("p",{className:"text-center text-text-secondary py-4",children:z("profile.memory.empty")})}),Object.keys(l).length>0&&a.jsx("button",{onClick:S,className:"text-red-500 hover:text-red-400 text-sm mt-3",children:z("profile.memory.clearAll")})]}),f&&a.jsx("p",{className:"text-red-500 text-sm text-center bg-red-500/10 p-2 rounded-md",children:f})]}),a.jsxs("div",{className:"p-4 border-t border-border-color flex justify-end space-x-2",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 rounded-md border border-border-color text-text-primary hover:bg-border-color",children:z("common.cancel")}),a.jsx("button",{onClick:p,disabled:y,className:"px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover disabled:bg-border-color flex items-center justify-center min-w-[120px]",children:y?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):`${z("common.save")} ${z("nav.profile")}`})]})]})})},Xs=({label:o,...r})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:o}),a.jsx("input",{...r,className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent disabled:opacity-50"})]}),E_=({question:o,actions:r,onClose:n,onConfirm:i})=>{const[l,u]=Q.useState(!1),c=()=>{u(!0),setTimeout(()=>n(),200)},g=v=>{u(!0),setTimeout(()=>i(v),200)};return a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-200 ${l?"opacity-0":"opacity-100"}`,onClick:c,children:a.jsxs("div",{className:`bg-secondary rounded-lg shadow-2xl w-full max-w-md ${l?"animate-pop-out":"animate-pop-in"}`,onClick:v=>v.stopPropagation(),children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-accent",children:a.jsx(me,{name:"question",className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-text-primary",children:"Nexus needs more information"}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-text-secondary",children:o})})]})]})}),a.jsxs("div",{className:"bg-primary px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse space-y-2 sm:space-y-0 sm:space-x-reverse sm:space-x-2",children:[r.map(v=>a.jsx("button",{type:"button",onClick:()=>g(v.value),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-accent text-base font-medium text-white hover:bg-accent-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent sm:w-auto sm:text-sm",children:v.label},v.value)),a.jsx("button",{type:"button",onClick:c,className:"w-full inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-secondary text-base font-medium text-text-primary hover:bg-border-color focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})},k_=({itemType:o,itemName:r,onConfirm:n,onCancel:i,isOpen:l})=>{const u=Q.useRef(null),[c,g]=Q.useState(!1);Q.useEffect(()=>{if(l){g(!1);const m=f=>{f.key==="Escape"&&y()};return document.addEventListener("keydown",m),setTimeout(()=>{var f;return(f=u.current)==null?void 0:f.focus()},100),()=>{document.removeEventListener("keydown",m)}}},[l,i]);const v=()=>{g(!0),setTimeout(()=>n(),200)},y=()=>{g(!0),setTimeout(()=>i(),200)};return!l&&!c?null:a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] p-4 transition-opacity duration-200 ${c?"opacity-0":"opacity-100"}`,onClick:y,children:a.jsxs("div",{className:`bg-secondary rounded-lg shadow-2xl w-full max-w-md ${c?"animate-pop-out":"animate-pop-in"}`,onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-500/20",children:a.jsx(me,{name:"delete",className:"h-6 w-6 text-red-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg leading-6 font-medium text-text-primary capitalize",children:["Delete ",o]}),a.jsx("div",{className:"mt-2",children:a.jsxs("p",{className:"text-sm text-text-secondary",children:['Are you sure you want to delete "',r,'"? This action cannot be undone.']})})]})]})}),a.jsxs("div",{className:"bg-primary px-4 py-3 rounded-b-lg sm:px-6 sm:flex sm:flex-row-reverse space-y-2 sm:space-y-0 sm:space-x-reverse sm:space-x-2",children:[a.jsx("button",{ref:u,type:"button",onClick:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-red-500 sm:w-auto sm:text-sm",children:"Delete"}),a.jsx("button",{type:"button",onClick:y,className:"w-full inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-secondary text-base font-medium text-text-primary hover:bg-border-color focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-accent sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})},Hg="delete my data",N_=({onConfirm:o,onCancel:r,isOpen:n,counts:i})=>{const[l,u]=Q.useState(""),[c,g]=Q.useState(!1),v=Q.useRef(null),y=l===Hg;Q.useEffect(()=>{n||u("")},[n]),Q.useEffect(()=>{n&&!c&&setTimeout(()=>{var d;return(d=v.current)==null?void 0:d.focus()},100)},[n,c]);const m=()=>{y&&(g(!0),setTimeout(()=>o(),200))},f=()=>{g(!0),setTimeout(()=>{r(),g(!1)},200)};return n?a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] p-4 transition-opacity duration-200 ${c?"opacity-0":"opacity-100"}`,onClick:f,children:a.jsxs("div",{className:`bg-secondary rounded-lg shadow-2xl w-full max-w-md ${c?"animate-pop-out":"animate-pop-in"}`,onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-500/20",children:a.jsx(me,{name:"delete",className:"h-6 w-6 text-red-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-text-primary",children:z("deleteDataModal.title")}),a.jsxs("div",{className:"mt-2 space-y-2 text-sm text-text-secondary",children:[a.jsx("p",{children:z("deleteDataModal.message")}),a.jsx("p",{className:"font-medium text-text-primary",children:z("deleteDataModal.dataSummary",{notesCount:i.notes,eventsCount:i.events,remindersCount:i.reminders})}),a.jsx("p",{children:z("deleteDataModal.confirmPhrase")})]})]})]}),a.jsx("input",{type:"text",value:l,onChange:d=>u(d.target.value),placeholder:Hg,className:"w-full mt-4 bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"})]}),a.jsxs("div",{className:"bg-primary px-4 py-3 rounded-b-lg sm:px-6 sm:flex sm:flex-row-reverse space-y-2 sm:space-y-0 sm:space-x-reverse sm:space-x-2",children:[a.jsx("button",{ref:v,type:"button",onClick:m,disabled:!y,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-red-500 sm:w-auto sm:text-sm disabled:bg-gray-400 disabled:cursor-not-allowed",children:z("deleteDataModal.confirm")}),a.jsx("button",{type:"button",onClick:f,className:"w-full inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-secondary text-base font-medium text-text-primary hover:bg-border-color focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-accent sm:mt-0 sm:w-auto sm:text-sm",children:z("common.cancel")})]})]})}):null},A_=({timer:o,onDelete:r,onFinish:n})=>{const[i,l]=Q.useState(o.remaining);Q.useEffect(()=>{if(i<=0){n(o);return}const c=setInterval(()=>{l(g=>g-1)},1e3);return()=>clearInterval(c)},[i,o,n]);const u=c=>{const g=Math.floor(c/60).toString().padStart(2,"0"),v=(c%60).toString().padStart(2,"0");return`${g}:${v}`};return a.jsxs("div",{className:"bg-secondary rounded-lg shadow-xl p-3 w-64 flex items-center justify-between animate-fade-in",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-text-secondary text-sm truncate",children:o.label}),a.jsx("p",{className:"text-text-primary text-2xl font-mono font-bold",children:u(i)})]}),a.jsx("button",{onClick:()=>r(o.id),className:"p-2 rounded-full text-text-secondary hover:bg-border-color hover:text-red-500 flex-shrink-0","aria-label":"Dismiss timer",children:a.jsx(me,{name:"close",className:"h-5 w-5"})})]})},Ri=[{id:"dashboard",name:"Dashboard",icon:"notes"},{id:"calendar",name:"Calendar",icon:"calendar"},{id:"apps",name:"Apps",icon:"apps"},{id:"chat",name:"Chat",icon:"chat"},{id:"notifications",name:"Notifications",icon:"bell"},{id:"profile",name:"Profile",icon:"user"},{id:"settings",name:"Settings",icon:"cog"}],I_=({onClose:o})=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:o,children:a.jsxs("div",{className:"bg-secondary shadow-2xl rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Privacy Policy"}),a.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 text-text-secondary text-sm",children:[a.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"1. Information We Collect"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Account Information:"})," Your name, email address, and password (hashed)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Profile Information:"})," Date of birth, country, timezone, and any other details you provide."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"User Content:"})," Notes, events, reminders, chat history, and any other data you create or input into the application."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Usage Data:"})," We may collect anonymized data about your interactions with the app to improve our services."]})]}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"2. How We Use Your Information"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"To provide, maintain, and improve the application's services."}),a.jsx("li",{children:"To personalize your experience."}),a.jsx("li",{children:"To enable the Artificial Intelligence (AI) to function and provide you with relevant assistance."}),a.jsx("li",{children:"To communicate with you about your account or our services."})]}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"3. Data Storage and Processing"}),a.jsx("p",{children:"Your data is stored both locally on your device for offline access and on secure servers provided by our backend partner, Supabase, located in the European Union. API calls containing your prompts and relevant context are sent to Google for processing by the Gemini language model."}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"4. AI Data Access"}),a.jsx("p",{children:"To provide its features, our AI model has access to all User Content within your account. This is necessary for functions like summarizing your schedule, finding notes, and understanding context. We do not use your personal data to train the core AI models of our third-party providers like Google."}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"5. Third-Party Services"}),a.jsx("p",{children:"We use the following third-party services:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Supabase:"})," For database hosting, authentication, and backend infrastructure."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Google Gemini:"})," For our core AI and language model processing."]})]}),a.jsx("p",{children:"Their use of information is governed by their respective privacy policies."}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"6. Your Rights"}),a.jsx("p",{children:"You have the right to access, correct, or delete your personal data. You can manage most of your data directly within the application or by contacting us for assistance."})]})]})}),M_=({onClose:o})=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:o,children:a.jsxs("div",{className:"bg-secondary shadow-2xl rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Terms of Use"}),a.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 text-text-secondary text-sm",children:[a.jsxs("p",{children:["Last updated: ",new Date().toLocaleDateString()]}),a.jsx("p",{children:'By using Nexus AI ("the Service"), you agree to these terms. Please read them carefully.'}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"1. User Accounts"}),a.jsx("p",{children:'You are responsible for safeguarding your account and for any activities or actions under your password. We prohibit the creation of multiple accounts by a single user ("multi-accounting").'}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"2. Prohibited Conduct"}),a.jsx("p",{children:"You agree not to misuse the Service. This includes, but is not limited to: attempting to reverse engineer the application, exploiting bugs, using the service for illegal activities, or interfering with our systems."}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"3. Subscriptions and Payments"}),a.jsx("p",{children:'Certain features of the Service may be subject to payment now or in the future ("Paid Features"). By subscribing to such features, you agree to our pricing and payment terms.'}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"4. Disclaimer of Warranties & Limitation of Liability"}),a.jsx("p",{className:"font-bold text-amber-400",children:'The Service is provided "as is". The AI is a powerful tool, but it is not infallible. It may make mistakes, misinterpret your commands, generate incorrect information, or accidentally delete data. All recommendations and actions taken by the AI are not guaranteed. You use the Service and its AI capabilities at your own risk. We are not responsible for any loss of data, damages, or other liabilities arising from your use of the Service.'}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary pt-2",children:"5. Termination"}),a.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms."})]})]})}),P_=()=>{const[o,r]=Q.useState("intro"),[n,i]=Q.useState(!1),[l,u]=Q.useState(null),[c,g]=Q.useState(!1),[v,y]=Q.useState(!1);Q.useEffect(()=>{},[]);const m=(d,p)=>{localStorage.setItem("nexus-initial-theme",d),localStorage.setItem("nexus-initial-language",p),r("auth")},f=()=>{switch(o){case"intro":return a.jsx(D_,{onContinue:()=>r("language")});case"language":return a.jsx(R_,{onContinue:m});case"auth":return a.jsx(L_,{onShowPrivacy:()=>g(!0),onShowTerms:()=>y(!0)})}};return a.jsxs("div",{className:"fixed inset-0 bg-primary flex items-center justify-center p-4",children:[c&&a.jsx(I_,{onClose:()=>g(!1)}),v&&a.jsx(M_,{onClose:()=>y(!1)}),a.jsx("div",{className:"w-full max-w-md transition-all duration-500 min-h-[550px] flex items-center",children:a.jsx("div",{className:"w-full",children:f()})})]})},R_=({onContinue:o})=>{const[r,n]=Q.useState(()=>{const c=navigator.language.startsWith("ru")?"ru":"en";return sa(c),c}),[i,l]=Q.useState("dark"),u=c=>{n(c),sa(c)};return Q.useEffect(()=>{document.documentElement.setAttribute("data-theme",i),document.documentElement.setAttribute("data-contrast","medium")},[i]),a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl p-8 text-center animate-fade-in",children:[a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:z("auth.language.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("auth.language.description")}),a.jsx("div",{className:"flex gap-4 mb-8",children:Object.entries(kv).map(([c,{name:g,flag:v}])=>a.jsxs("button",{onClick:()=>u(c),className:`flex-1 text-lg flex flex-col items-center justify-center gap-2 p-4 rounded-md border-2 transition-colors ${r===c?"border-accent bg-primary":"border-transparent bg-primary/50 hover:bg-primary"}`,children:[a.jsx("span",{className:"text-4xl",children:v}),a.jsx("span",{className:"font-semibold",children:g})]},c))}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:z("auth.theme.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("auth.theme.description")}),a.jsxs("div",{className:"flex gap-4 mb-8",children:[a.jsx(Gg,{name:z("settings.personalization.theme.light"),theme:"light",selected:i==="light",onClick:()=>l("light")}),a.jsx(Gg,{name:z("settings.personalization.theme.dark"),theme:"dark",selected:i==="dark",onClick:()=>l("dark")})]}),a.jsx("button",{onClick:()=>o(i,r),className:"w-full px-4 py-3 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover transition-colors",children:z("onboarding.next")})]})},Gg=({name:o,theme:r,selected:n,onClick:i})=>{const l=r==="light";return a.jsxs("div",{onClick:i,className:`flex-1 cursor-pointer rounded-lg border-2 p-2 transition-colors ${n?"border-accent":"border-transparent bg-primary/50 hover:bg-primary"}`,children:[a.jsxs("div",{className:`rounded-md p-4 transition-colors ${l?"bg-gray-100":"bg-gray-900"}`,children:[a.jsx("div",{className:`h-4 rounded mb-2 ${l?"bg-gray-300":"bg-gray-700"}`}),a.jsx("div",{className:`h-8 rounded ${l?"bg-white":"bg-black"}`})]}),a.jsx("p",{className:"text-text-secondary font-semibold mt-2",children:o})]})},D_=({onContinue:o})=>a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl p-8 text-center animate-fade-in",children:[a.jsx(me,{name:"logo",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:z("onboarding.welcome.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.welcome.description")}),a.jsx("button",{onClick:o,className:"w-full px-4 py-3 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover transition-colors",children:z("auth.getStarted")})]}),L_=({onShowPrivacy:o,onShowTerms:r})=>{const[n,i]=Q.useState("login"),[l,u]=Q.useState("auth"),[c,g]=Q.useState(""),[v,y]=Q.useState(""),[m,f]=Q.useState(""),[d,p]=Q.useState(""),[_,S]=Q.useState(""),[w,T]=Q.useState(void 0),[b,E]=Q.useState(!1),[x,N]=Q.useState(null),[R,P]=Q.useState(!1),[O,U]=Q.useState(!1);Q.useEffect(()=>{w||fetch("http://ip-api.com/json/").then(H=>H.json()).then(H=>{H&&H.countryCode&&T(H.countryCode)}).catch(console.error)},[w]);const D=async H=>{if(H.preventDefault(),E(!0),N(null),n==="register"){const{error:ee}=await _n.auth.signUp({email:c,password:v,options:{data:{first_name:m,last_name:d,dob:_,country:w,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}});ee?N(ee.message):u("forgotPasswordSuccess")}else{const{error:ee}=await _n.auth.signInWithPassword({email:c,password:v});ee&&N(ee.message)}E(!1)},M=async H=>{H.preventDefault(),E(!0),N(null);const{error:ee}=await _n.auth.resetPasswordForEmail(c);ee?N(ee.message):u("forgotPasswordSuccess"),E(!1)},L=async()=>{E(!0),N(null);const{error:H}=await _n.auth.resend({type:"signup",email:c});N(H?H.message:"A new confirmation email has been sent."),E(!1)},j=!m||!_||!w||!R,$=()=>{i(n==="login"?"register":"login"),N(null),y("")};return l==="forgotPasswordSuccess"?a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl p-8 text-center animate-fade-in",children:[a.jsx(me,{name:"send",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:z("auth.verify.title")}),a.jsxs("p",{className:"text-text-secondary",children:[n==="register"?z("auth.verify.message"):"We have sent password reset instructions to"," ",a.jsx("strong",{className:"text-text-primary",children:c}),"."]}),a.jsx("button",{onClick:()=>{u("auth"),i("login")},className:"mt-6 w-full px-4 py-2 rounded-md bg-primary text-text-primary font-semibold hover:bg-border-color",children:"Back to Login"})]}):l==="forgotPassword"?a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl p-8 animate-fade-in",children:[a.jsx("h2",{className:"text-2xl font-bold text-text-primary text-center mb-2",children:"Reset Password"}),a.jsx("p",{className:"text-text-secondary text-center mb-6",children:"Enter your email to receive a password reset link."}),x&&a.jsx("p",{className:"bg-red-500/10 text-red-500 text-sm text-center p-3 rounded-md mb-4",children:x}),a.jsxs("form",{onSubmit:M,className:"space-y-4",children:[a.jsx(ko,{type:"email",placeholder:"Email",value:c,onChange:H=>g(H.target.value),required:!0,icon:"user"}),a.jsx("button",{type:"submit",disabled:b,className:"w-full mt-2 px-4 py-3 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover disabled:bg-border-color flex justify-center",children:b?a.jsx(Wg,{}):"Send Reset Link"}),a.jsx("button",{type:"button",onClick:()=>u("auth"),className:"w-full text-center text-sm text-accent font-semibold hover:underline",children:"Back to Login"})]})]}):a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl animate-fade-in",children:[a.jsxs("div",{className:"p-8",children:[a.jsx(me,{name:"logo",className:"h-10 w-10 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-3xl font-bold text-text-primary text-center mb-6",children:z(n==="login"?"auth.login.title":"auth.register.title")}),x&&a.jsxs("div",{className:"bg-red-500/10 text-red-500 text-sm text-center p-3 rounded-md mb-4",children:[x,x.includes("Email not confirmed")&&a.jsx("button",{onClick:L,disabled:b,className:"font-bold underline ml-2 hover:text-red-400",children:"Resend confirmation"})]}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsx(ko,{type:"email",placeholder:"Email",value:c,onChange:H=>g(H.target.value),required:!0,icon:"user"}),a.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${n==="register"?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:a.jsxs("div",{className:"space-y-4 pt-1",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ko,{placeholder:z("profile.firstName"),value:m,onChange:H=>f(H.target.value)}),a.jsx(ko,{placeholder:z("profile.lastName"),value:d,onChange:H=>p(H.target.value)})]}),a.jsx(ko,{type:"date",value:_,onChange:H=>S(H.target.value)}),a.jsx(Vv,{selectedCountry:w,onSelectCountry:T})]})}),a.jsxs("div",{className:"relative",children:[n==="register"&&O&&a.jsx(j_,{password:v}),a.jsx(ko,{type:"password",placeholder:"Password",value:v,onChange:H=>y(H.target.value),required:!0,icon:"lock",onFocus:()=>U(!0),onBlur:()=>U(!1)})]}),n==="login"&&a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"button",onClick:()=>u("forgotPassword"),className:"text-xs text-accent font-semibold hover:underline",children:"Forgot Password?"})}),n==="register"&&a.jsx("div",{className:"pt-2",children:a.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer text-xs text-text-secondary",children:[a.jsx("input",{type:"checkbox",checked:R,onChange:H=>P(H.target.checked),className:"mt-0.5 h-4 w-4 rounded bg-primary border-border-color text-accent focus:ring-accent flex-shrink-0"}),a.jsxs("span",{children:[z("auth.agree.prefix")," ",a.jsx("button",{type:"button",onClick:r,className:"text-accent hover:underline font-semibold",children:z("auth.agree.terms")})," ",z("auth.agree.and")," ",a.jsx("button",{type:"button",onClick:o,className:"text-accent hover:underline font-semibold",children:z("auth.agree.policy")}),"."]})]})}),a.jsx("button",{type:"submit",disabled:b||n==="register"&&j,className:"w-full mt-2 px-4 py-3 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover transition-colors disabled:bg-border-color disabled:cursor-not-allowed flex items-center justify-center",children:b?a.jsx(Wg,{}):z(n==="login"?"auth.login.action":"auth.register.action")})]})]}),a.jsx("div",{className:"bg-primary rounded-b-lg p-4 text-center",children:a.jsx("button",{onClick:$,className:"text-sm text-accent font-semibold hover:underline",children:z(n==="login"?"auth.login.switch":"auth.register.switch")})})]})},ea=({met:o,text:r})=>a.jsxs("div",{className:`flex items-center text-xs transition-colors ${o?"text-green-400":"text-text-secondary"}`,children:[a.jsx(me,{name:o?"check":"close",className:`h-4 w-4 mr-2 flex-shrink-0 ${o?"text-green-500":"text-red-500"}`}),a.jsx("span",{children:r})]}),O_=o=>{if(!o)return"...";let r=0;if(/[a-z]/.test(o)&&(r+=26),/[A-Z]/.test(o)&&(r+=26),/\d/.test(o)&&(r+=10),/[^a-zA-Z\d]/.test(o)&&(r+=32),r===0)return"...";let l=Math.pow(r,o.length)/1e10;if(l<1)return z("auth.password.strength.crack.instantly");if(l<60)return`${Math.ceil(l)} ${z("auth.password.strength.crack.seconds")}`;if(l<3600)return`${Math.ceil(l/60)} ${z("auth.password.strength.crack.minutes")}`;if(l<86400)return`${Math.ceil(l/3600)} ${z("auth.password.strength.crack.hours")}`;if(l<2592e3)return`${Math.ceil(l/86400)} ${z("auth.password.strength.crack.days")}`;if(l<31536e3)return`${Math.ceil(l/2592e3)} ${z("auth.password.strength.crack.months")}`;const u=l/31536e3;return u<1e3?`${Math.ceil(u)} ${z("auth.password.strength.crack.years")}`:u<1e6?`${Math.ceil(u/1e3)} ${z("auth.password.strength.crack.thousandYears")}`:z("auth.password.strength.crack.centuries")},j_=({password:o})=>{const r=Q.useMemo(()=>{const i=/[a-z]/.test(o),l=/[A-Z]/.test(o),u=/[^a-zA-Z0-9]/.test(o),c=/[^a-zA-Z0-9!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~ \t\n\r]/.test(o);return{length:o.length>=12,case:i&&l,special:u,englishOnly:!c}},[o]),n=Q.useMemo(()=>O_(o),[o]);return a.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-2 p-4 bg-primary border border-border-color rounded-lg shadow-lg z-10 animate-fade-in-up",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ea,{met:r.length,text:z("auth.password.strength.length")}),a.jsx(ea,{met:r.case,text:z("auth.password.strength.case")}),a.jsx(ea,{met:r.special,text:z("auth.password.strength.special")}),a.jsx(ea,{met:r.englishOnly,text:z("auth.password.strength.englishOnly")})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-border-color/50 text-xs text-text-secondary",children:a.jsxs("p",{children:[a.jsx("strong",{children:z("auth.password.strength.crackTime")})," ",a.jsx("span",{className:"font-mono text-accent",children:n})]})})]})},ko=({icon:o,...r})=>{const[n,i]=Q.useState(!1),l=r.type==="password",u=l?n?"text":"password":r.type;return a.jsxs("div",{className:"relative",children:[o&&a.jsx(me,{name:o,className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-text-secondary"}),a.jsx("input",{...r,type:u,className:`w-full bg-primary border border-border-color rounded-md py-2.5 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent ${o?"pl-10":"px-4"} ${l?"pr-10":"pr-4"}`}),l&&a.jsx("button",{type:"button",onClick:()=>i(c=>!c),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-text-secondary hover:text-text-primary focus:outline-none","aria-label":z(n?"auth.password.hide":"auth.password.show"),children:a.jsx(me,{name:n?"eye-slash":"eye",className:"h-5 w-5"})})]})},Wg=()=>a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),Vc=({label:o,value:r,onChange:n,language:i})=>a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:[o," (",i,")"]}),a.jsx("textarea",{value:r,onChange:l=>n(l.target.value),className:"w-full h-full flex-1 bg-primary border border-border-color rounded-md p-3 font-mono text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-accent resize-none",spellCheck:"false"})]}),U_=({appToEdit:o,onSave:r,onCancel:n})=>{const[i,l]=Q.useState(""),[u,c]=Q.useState(""),[g,v]=Q.useState(""),[y,m]=Q.useState("");Q.useEffect(()=>{l((o==null?void 0:o.title)||""),c((o==null?void 0:o.html)||""),v((o==null?void 0:o.css)||""),m((o==null?void 0:o.javascript)||"")},[o]);const f=()=>{const d={id:(o==null?void 0:o.id)||`app_user_${Date.now()}`,title:i||"Untitled App",html:u,css:g,javascript:y};r(d)};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"App Title"}),a.jsx("input",{type:"text",value:i,onChange:d=>l(d.target.value),placeholder:"My Awesome App",className:"w-full bg-primary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-[calc(100%-100px)]",children:[a.jsx(Vc,{label:"HTML",value:u,onChange:c,language:"html"}),a.jsx(Vc,{label:"CSS",value:g,onChange:v,language:"css"})]}),a.jsx("div",{className:"h-[calc(100%-100px)] pt-4",children:a.jsx(Vc,{label:"JavaScript",value:y,onChange:m,language:"js"})})]}),a.jsxs("div",{className:"p-4 border-t border-border-color flex justify-end space-x-2 flex-shrink-0",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 rounded-md border border-border-color text-text-primary hover:bg-border-color",children:"Cancel"}),a.jsx("button",{onClick:f,className:"px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover",children:"Save App"})]})]})},q_=({isOpen:o,onClose:r,apps:n,setApps:i,onLaunchApp:l,onDeleteApp:u,isMobile:c})=>{const[g,v]=Q.useState(null);if(!o)return null;const y=(p,_)=>{p.stopPropagation(),u(_)},m=(p,_)=>{p.stopPropagation(),l(_),r()},f=p=>{g==="new"||!p.id?i(_=>[..._,{...p,id:`app_user_${Date.now()}`}]):i(_=>_.map(S=>S.id===p.id?p:S)),v(null)},d=()=>{v(null),r()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 md:p-4 animate-fade-in",onClick:d,children:a.jsxs("div",{className:"bg-secondary shadow-2xl w-full h-full md:rounded-lg md:max-w-4xl md:h-[90vh] flex flex-col animate-pop-in",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[g&&a.jsx("button",{onClick:()=>v(null),className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"back",className:"h-5 w-5 text-text-secondary"})}),a.jsx("h2",{className:"text-xl font-bold",children:g?g==="new"?"Create New App":"Edit App":"My Apps"})]}),a.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"})})]}),g?a.jsx(U_,{appToEdit:g==="new"?null:g,onSave:f,onCancel:()=>v(null)}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-border-color",children:a.jsxs("button",{onClick:()=>v("new"),className:"w-full md:w-auto flex items-center justify-center gap-2 px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover",children:[a.jsx(me,{name:"edit",className:"h-5 w-5"}),a.jsx("span",{children:"Create New App"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:n.length>0?n.map(p=>a.jsxs("div",{className:"bg-primary p-3 rounded-lg border border-border-color flex justify-between items-center group",children:[a.jsx("span",{className:"font-semibold text-text-primary",children:p.title}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:_=>m(_,p.id),className:"px-3 py-1 text-sm rounded-md bg-accent text-white hover:bg-accent-hover",children:"Launch"}),a.jsx("button",{onClick:()=>v(p),className:"p-2 rounded-full text-text-secondary hover:bg-border-color group-hover:text-accent",children:a.jsx(me,{name:"edit",className:"h-4 w-4"})}),a.jsx("button",{onClick:_=>y(_,p),className:"p-2 rounded-full text-text-secondary hover:bg-border-color group-hover:text-red-500",children:a.jsx(me,{name:"delete",className:"h-4 w-4"})})]})]},p.id)):a.jsx("p",{className:"text-center text-text-secondary py-8",children:"No applications created yet. Ask me to make one, or create your own!"})})]})]})})},F_=({app:o,setApps:r,isMobile:n,onFocus:i,onClose:l,onMinimize:u})=>{const[c,g]=Q.useState(!1),[v,y]=Q.useState(!1),[m,f]=Q.useState({x:0,y:0}),[d,p]=Q.useState(null),_=x=>{n||(i(o.id),g(!0),f({x:x.clientX-o.position.x,y:x.clientY-o.position.y}),x.preventDefault())},S=(x,N)=>{n||(i(o.id),y(!0),p(N),x.stopPropagation(),x.preventDefault())},w=Q.useCallback(x=>{c&&r(N=>N.map(R=>R.id===o.id?{...R,position:{x:x.clientX-m.x,y:x.clientY-m.y}}:R)),v&&d&&r(N=>N.map(R=>{if(R.id===o.id){let{x:P,y:O}=R.position,{width:U,height:D}=R.size;const M=200,L=150;if(d.includes("e")&&(U=Math.max(M,U+x.movementX)),d.includes("w")){const j=U-x.movementX;j>=M&&(P+=x.movementX,U=j)}if(d.includes("s")&&(D=Math.max(L,D+x.movementY)),d.includes("n")){const j=D-x.movementY;j>=L&&(O+=x.movementY,D=j)}return{...R,position:{x:P,y:O},size:{width:U,height:D}}}return R}))},[c,v,d,m,o.id,r]),T=Q.useCallback(()=>{g(!1),y(!1),p(null)},[]);Q.useEffect(()=>((c||v)&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",T,{once:!0})),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",T)}),[c,v,w,T]);const b=`
        <html>
            <head>
                <style>
                    body { margin: 0; background-color: #1a1a1a; color: #f0f0f0; font-family: sans-serif; overflow: auto; }
                    ${o.css}
                </style>
            </head>
            <body>
                ${o.html}
                <script>${o.javascript}<\/script>
            </body>
        </html>
    `,E=n?{zIndex:o.zIndex}:{left:`${o.position.x}px`,top:`${o.position.y}px`,width:`${o.size.width}px`,height:`${o.size.height}px`,zIndex:o.zIndex};return a.jsxs("div",{className:n?"fixed inset-x-0 bottom-0 top-16 bg-secondary flex flex-col pointer-events-auto":"absolute bg-secondary rounded-lg shadow-2xl flex flex-col border border-border-color/50 overflow-hidden pointer-events-auto",style:E,onMouseDown:()=>!n&&i(o.id),children:[a.jsxs("div",{className:`h-8 flex items-center justify-between px-2 text-text-secondary flex-shrink-0 ${n?"bg-primary":"bg-border-color cursor-move"}`,onMouseDown:_,children:[a.jsx("span",{className:"text-sm font-bold truncate select-none",children:o.title}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>u(o.id),className:"p-2 rounded-full hover:bg-primary/50",onMouseDown:x=>x.stopPropagation(),children:a.jsx(me,{name:"minimize",className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>l(o.id),className:"p-2 rounded-full hover:bg-red-500 hover:text-white",onMouseDown:x=>x.stopPropagation(),children:a.jsx(me,{name:"close",className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex-1 bg-primary relative",children:[a.jsx("iframe",{srcDoc:b,sandbox:"allow-scripts allow-forms",className:"w-full h-full border-0",title:o.title}),!n&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onMouseDown:x=>S(x,"nw"),className:"absolute -top-1 -left-1 w-3 h-3 cursor-nwse-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"ne"),className:"absolute -top-1 -right-1 w-3 h-3 cursor-nesw-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"sw"),className:"absolute -bottom-1 -left-1 w-3 h-3 cursor-nesw-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"se"),className:"absolute -bottom-1 -right-1 w-3 h-3 cursor-nwse-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"n"),className:"absolute inset-x-2 -top-1 h-2 cursor-ns-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"s"),className:"absolute inset-x-2 -bottom-1 h-2 cursor-ns-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"w"),className:"absolute inset-y-2 -left-1 w-2 cursor-ew-resize z-10"}),a.jsx("div",{onMouseDown:x=>S(x,"e"),className:"absolute inset-y-2 -right-1 w-2 cursor-ew-resize z-10"})]})]})]})},B_=({apps:o,setApps:r,isMobile:n})=>{const i=g=>{const v=Math.max(0,...o.map(y=>y.zIndex));r(y=>y.map(m=>m.id===g?{...m,zIndex:v+1,isMinimized:!1}:m))},l=g=>{r(v=>v.filter(y=>y.id!==g))},u=g=>{r(v=>v.map(y=>y.id===g?{...y,isMinimized:!y.isMinimized}:y))},c=o.filter(g=>g.isMinimized);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none",children:o.filter(g=>!g.isMinimized).map(g=>a.jsx(F_,{app:g,setApps:r,isMobile:n,onFocus:i,onClose:l,onMinimize:u},g.id))}),c.length>0&&a.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 z-40 flex space-x-2 p-2",children:c.map(g=>a.jsx("button",{onClick:()=>u(g.id),className:"bg-secondary hover:bg-accent hover:text-white text-text-secondary rounded-md px-4 py-2 text-sm font-semibold shadow-lg pointer-events-auto transition-colors",children:g.title},g.id))})]})},$_=o=>{if(!o||o.length<7)return"#ffffff";const r=parseInt(o.slice(1,3),16),n=parseInt(o.slice(3,5),16),i=parseInt(o.slice(5,7),16);return(r*299+n*587+i*114)/1e3>=150?"#1a1a1a":"#ffffff"},V_=(o,r)=>{const n="start"in o?o.start:o.datetime;return new Date(n).toDateString()===r.toDateString()},z_=o=>{const r=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()));r.setUTCDate(r.getUTCDate()+4-(r.getUTCDay()||7));const n=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-n.getTime())/864e5+1)/7)},H_=({currentDate:o,events:r,reminders:n,onDayClick:i,onItemClick:l,onDateRangeSelect:u,onDayContextMenu:c,dateFilter:g,highlightedRange:v,settings:y,language:m,isMobile:f})=>{const{showWeekNumbers:d,startOfWeek:p,highlightWeekends:_,weekendDays:S}=y,w=On(m),T=Q.useMemo(()=>{const W=[];for(let A=0;A<7;A++){const k=(p+A)%7,q=new Date(2017,0,1+k);W.push(new Intl.DateTimeFormat(w,{weekday:"short"}).format(q))}return W},[p,w]),b=Q.useRef(null),[E,x]=Q.useState(null),[N,R]=Q.useState(null),P=Q.useRef(null),O=Q.useRef(null),U=Q.useRef(!1),D=Q.useMemo(()=>{const W=new Date(o.getFullYear(),o.getMonth(),1),A=(W.getDay()-p+7)%7,k=new Date(W);k.setDate(W.getDate()-A);const q=[];for(let V=0;V<42;V++)q.push(new Date(k)),k.setDate(k.getDate()+1);return q},[o,p]),M=(W,A,k)=>{k?(U.current=!1,O.current=window.setTimeout(()=>{U.current||(x(W),R(W)),O.current=null},350)):(x(W),R(W)),P.current={date:W,event:A,isTouch:k}},L=Q.useCallback(W=>{E&&P.current&&R(W)},[E]),j=Q.useCallback(W=>{var A;if(O.current&&W.touches.length===1&&(U.current=!0,clearTimeout(O.current),O.current=null),E&&((A=P.current)!=null&&A.isTouch)&&W.touches.length===1){W.preventDefault();const k=W.touches[0],q=document.elementFromPoint(k.clientX,k.clientY),V=q==null?void 0:q.closest("[data-date]");V!=null&&V.dataset.date&&R(new Date(V.dataset.date))}},[E]),$=Q.useCallback(()=>{if(O.current&&(clearTimeout(O.current),O.current=null),E&&N){const W=E<N?E:N,A=E>N?E:N;if(W.toDateString()===A.toDateString())if((g==null?void 0:g.toDateString())===W.toDateString()&&P.current&&!P.current.isTouch){const k=P.current.event;c(W,{x:k.clientX,y:k.clientY})}else i(W);else u(W,A)}else P.current&&P.current.isTouch&&!U.current&&i(P.current.date);x(null),R(null),P.current=null},[E,N,g,i,u,c]);Q.useEffect(()=>{const W=b.current;return W&&f&&W.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),()=>{W&&f&&W.removeEventListener("touchmove",j),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)}},[$,j,f]);const H=Q.useMemo(()=>{const W=D[0],A=D[D.length-1],k=[...r,...n].filter(J=>{const B=new Date("start"in J?J.start:J.datetime);return new Date("start"in J?J.end:J.datetime)>=W&&B<=A});k.sort((J,B)=>{const G=new Date("start"in J?J.start:J.datetime),Y=new Date("start"in B?B.start:B.datetime),X=("start"in J?new Date(J.end).getTime():G.getTime())-G.getTime(),ue=("start"in B?new Date(B.end).getTime():Y.getTime())-Y.getTime();return ue!==X?ue-X:G.getTime()-Y.getTime()});const q=new Map;D.forEach(J=>q.set(J.toDateString(),[]));const V=new Map;D.forEach(J=>V.set(J.toDateString(),[]));for(const J of k){const B=new Date("start"in J?J.start:J.datetime),G=new Date("start"in J?J.end:J.datetime);let Y=new Date(B);Y.setHours(0,0,0,0);let X=0,ue=!1;for(;!ue;){let Te=!0,Ce=new Date(Y);for(;Ce<=G;){const ge=q.get(Ce.toDateString());if(ge&&ge[X]){Te=!1;break}Ce.setDate(Ce.getDate()+1)}Te?ue=!0:X++}let he=new Date(Y);for(;he<=G;){const Te=he.toDateString(),Ce=q.get(Te),ge=V.get(Te);Ce&&ge&&(Ce[X]=!0,ge.push({item:J,level:X})),he.setDate(he.getDate()+1)}}const K=new Map;return V.forEach((J,B)=>{const G=[];J.forEach(({item:Y,level:X})=>{for(;G.length<=X;)G.push(null);G[X]=Y}),K.set(B,G)}),K},[D,r,n]),ne=(()=>{if(E&&N){const W=E<N?E:N,A=E>N?E:N;return{start:W,end:A}}if(v){const W=new Date(v.start),A=new Date(v.end);return W.setHours(0,0,0,0),A.setHours(0,0,0,0),{start:W,end:A}}return null})(),re=d?"grid-cols-[auto,repeat(7,1fr)]":"grid-cols-7";return a.jsxs("div",{className:"flex flex-col h-full bg-transparent",children:[a.jsxs("div",{className:`grid ${re} border-t border-l border-border-color/50 flex-shrink-0 sticky top-0 bg-secondary/50 backdrop-blur-sm z-20`,children:[d&&a.jsx("div",{className:"text-center font-semibold text-text-secondary py-2 border-r border-b border-border-color/50 text-sm",children:"#"}),T.map(W=>a.jsx("div",{className:"text-center font-semibold text-text-secondary py-2 border-r border-b border-border-color/50 text-sm",children:W},W))]}),a.jsx("div",{ref:b,className:`grid ${re} flex-1 border-l border-border-color/50 select-none`,children:D.map((W,A)=>{const k=new Date(W);k.setHours(0,0,0,0);const q=W.toDateString()===new Date().toDateString(),V=W.getMonth()===o.getMonth(),K=(g==null?void 0:g.toDateString())===W.toDateString(),J=ne&&k>=ne.start&&k<=ne.end,B=_&&S.includes(W.getDay()),G=()=>J?"bg-accent/30":B?V?"bg-red-500/5 dark:bg-red-500/10":"bg-red-800/10 dark:bg-red-900/15":V?"":"bg-black/10",Y=H.get(W.toDateString())||[],X=3,ue=Y.filter(ge=>ge).length,he=Y.slice(0,X),Te=ue-he.filter(ge=>ge).length;let Ce=`View ${W.toLocaleDateString(w)}`;return K&&(Ce="Click again to add an event or reminder"),a.jsxs(sv.Fragment,{children:[d&&A%7===0&&a.jsx("div",{className:"border-r border-b border-border-color/50 text-center text-xs text-text-secondary pt-2",children:z_(W)}),a.jsxs("div",{"data-date":W.toISOString(),className:`relative border-r border-b border-border-color/50 flex flex-col transition-colors cursor-pointer
                                    ${G()}
                                    ${K?"ring-2 ring-accent z-10":""}
                                    ${E||v?"":"hover:bg-black/20"}
                                `,onMouseDown:ge=>M(W,ge,!1),onMouseMove:()=>L(W),onTouchStart:ge=>M(W,ge,!0),title:Ce,children:[a.jsx("div",{className:"absolute top-1 right-1 z-10",children:a.jsx("span",{className:`text-sm h-6 w-6 flex items-center justify-center font-bold ${q?"bg-accent text-white rounded-full":V?"text-text-primary":"text-text-secondary/50"}`,children:W.getDate()})}),a.jsx("div",{className:"mt-8 space-y-1 px-0.5 min-h-[110px] md:min-h-[90px]",children:he.map((ge,De)=>{if(!ge)return a.jsx("div",{className:"h-[22px]"},`placeholder-${De}`);const He=W.toDateString(),Fe=W.getDay(),ae="start"in ge,de="datetime"in ge,fe=de&&ge.isCompleted,ve=de&&!fe&&new Date(ge.datetime)<new Date,pe=$_(ge.color);let Me="text-xs px-2 py-0.5 flex items-center gap-1.5 cursor-pointer h-[22px] relative ",Ae={backgroundColor:ge.color,color:pe};fe&&(Me+=" line-through opacity-60 "),ve&&(Me+=" ring-1 ring-red-500/80 ");const Ue=V_(ge,W)||Fe===p;let st=1;if(ae&&Ue){const rt=ge,Ge=new Date(rt.end);let ct=new Date(W);const We=new Date(ct);for(We.setDate(ct.getDate()+(6-(ct.getDay()-p+7)%7));ct<We&&ct<Ge;)if(st++,ct.setDate(ct.getDate()+1),ct>Ge){st--;break}}if(ae){const rt=ge,Ge=new Date(rt.start),ct=new Date(rt.end),We=Ge.toDateString(),dt=ct.toDateString(),Kt=We!==dt,Yt=He===We||Fe===p,jr=(p+6)%7,dr=He===dt||Fe===jr;Kt&&!Yt?(Ae.marginLeft="-2px",Ae.borderTopLeftRadius=0,Ae.borderBottomLeftRadius=0):(Ae.borderTopLeftRadius="0.375rem",Ae.borderBottomLeftRadius="0.375rem"),Kt&&!dr?(Ae.marginRight="-2px",Ae.borderTopRightRadius=0,Ae.borderBottomRightRadius=0):(Ae.borderTopRightRadius="0.375rem",Ae.borderBottomRightRadius="0.375rem")}else Me+=" rounded-md";return a.jsx("div",{className:Me,style:Ae,onMouseDown:rt=>rt.stopPropagation(),onClick:rt=>{rt.stopPropagation(),l(ge)},title:ge.title,children:Ue&&a.jsxs("div",{className:"absolute top-0 left-0 h-full flex items-center gap-1.5 px-2 z-10",style:{width:`calc(${st*100}% + ${(st-1)*2}px)`,color:pe},children:[a.jsx(me,{name:ae?"calendar":"bell",className:"h-3 w-3 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 truncate",children:[a.jsxs("span",{className:"desktop-only font-semibold mr-1",style:{color:ve?"":pe},children:[ae&&!ge.isAllDay&&new Date(ge.start).toLocaleTimeString(w,{hour:"numeric",minute:"2-digit"}),de&&new Date(ge.datetime).toLocaleTimeString(w,{hour:"numeric",minute:"2-digit"})]}),a.jsx("span",{children:ge.title})]})]})},`${ge.id}-${De}`)})}),Te>0&&a.jsx("div",{className:"text-xs text-text-secondary mt-1 font-bold px-1",children:z("common.moreItems",{count:Te})})]})]},W.toISOString())})})]})},G_=o=>{if(!o||o.length<7)return"#ffffff";const r=parseInt(o.slice(1,3),16),n=parseInt(o.slice(3,5),16),i=parseInt(o.slice(5,7),16);return(r*299+n*587+i*114)/1e3>=150?"#1a1a1a":"#ffffff"},W_=({currentDate:o,events:r,reminders:n,onItemClick:i,locale:l})=>{const g=Q.useMemo(()=>{const m=new Date(o);m.setHours(0,0,0,0);const f=new Date(o);f.setHours(23,59,59,999);const d=r.filter(_=>new Date(_.end)>=m&&new Date(_.start)<=f),p=n.filter(_=>{const S=new Date(_.datetime);return S>=m&&S<=f});return[...d,...p]},[o,r,n]),v=Q.useMemo(()=>{const m=g.map(d=>{const p="start"in d,_=new Date(p?d.start:d.datetime),S=new Date(p?d.end:d.datetime);return p||S.setMinutes(S.getMinutes()+30),{item:d,start:_,end:S}}).sort((d,p)=>d.start.getTime()-p.start.getTime()),f=[];for(const d of m){let p=!1;for(const _ of f){const S=_[_.length-1];if(d.start.getTime()>=S.end.getTime()){_.push(d),p=!0;break}}p||f.push([d])}return f.flatMap((d,p)=>d.map(_=>({..._,colIndex:p,totalCols:f.length})))},[g]),y=Array.from({length:24},(m,f)=>f);return a.jsx("div",{className:"h-full overflow-y-auto border-t border-border-color scrollbar-hide",children:a.jsxs("div",{className:"relative",children:[y.map(m=>a.jsxs("div",{className:"flex border-b border-border-color",style:{height:"120px"},children:[a.jsx("div",{className:"w-20 text-center text-sm text-text-secondary pt-1 border-r border-border-color flex-shrink-0",children:new Date(o.getFullYear(),o.getMonth(),o.getDate(),m).toLocaleTimeString(l,{hour:"numeric",hour12:!0})}),a.jsx("div",{className:"flex-1"})]},m)),a.jsx("div",{className:"absolute top-0 bottom-0 right-0",style:{left:"5rem"},children:v.map(({item:m,start:f,end:d,colIndex:p,totalCols:_})=>{const S=new Date(o);S.setHours(0,0,0,0);const w=f<S?S:f,T=w.getHours()*60+w.getMinutes(),b=new Date(S);b.setHours(23,59,59,999);const E=d>b?b:d,x=E.getHours()*60+E.getMinutes(),N=Math.max(1,x-T),R=T*2,P=N*2,O=`calc(${100/_}% - 4px)`,U=`calc(${p*(100/_)}% + 2px)`,D=!("start"in m)&&m.isCompleted,M=!("start"in m)&&!D&&new Date(m.datetime)<new Date,L=G_(m.color),j=N<30,$=N<15;let H="absolute rounded-lg cursor-pointer overflow-hidden flex transition-all duration-200 ease-in-out";return j?H+=` p-1 items-center ${$?"gap-1":"gap-2"}`:H+=" p-2 flex-col",D&&(H+=" line-through opacity-70"),a.jsxs("div",{className:H,style:{backgroundColor:m.color,color:L,top:`${R}px`,height:`${P}px`,left:U,width:O},onClick:()=>i(m),children:[a.jsx("p",{className:`font-bold ${j?"truncate":""} ${$?"text-xs":"text-sm"}`,children:m.title}),a.jsxs("div",{className:`flex items-center gap-1 ${M?"font-bold":""} ${$?"text-xs":"text-sm"}`,children:[a.jsx("span",{style:{color:M?"red":L},children:f.toLocaleTimeString(l,{hour:"numeric",minute:"2-digit"})}),"start"in m&&a.jsxs("span",{children:["- ",d.toLocaleTimeString(l,{hour:"numeric",minute:"2-digit"})]})]})]},m.id)})})]})})},J_=({currentDate:o,onMonthClick:r,locale:n})=>{const i=o.getFullYear(),l=Array.from({length:12},(c,g)=>new Date(i,g,1)),u=Array.from({length:7},(c,g)=>new Date(2023,0,1+g).toLocaleString(n,{weekday:"narrow"}));return a.jsx("div",{className:"h-full overflow-y-auto p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 scrollbar-hide",children:l.map(c=>{const g=c.toLocaleString(n,{month:"long"}),v=c.getDay(),y=new Date(i,c.getMonth()+1,0).getDate();return a.jsxs("div",{className:"p-2 bg-secondary rounded-lg",children:[a.jsx("button",{onClick:()=>r(c),className:"font-bold text-accent text-center w-full mb-2 hover:underline",children:g}),a.jsx("div",{className:"grid grid-cols-7 text-center text-xs text-text-secondary",children:u.map(m=>a.jsx("div",{children:m},m))}),a.jsxs("div",{className:"grid grid-cols-7 text-center text-xs text-text-primary",children:[Array.from({length:v}).map((m,f)=>a.jsx("div",{},`empty-${f}`)),Array.from({length:y}).map((m,f)=>{const d=f+1,p=new Date().getFullYear()===i&&new Date().getMonth()===c.getMonth()&&new Date().getDate()===d;return a.jsx("div",{className:`py-0.5 ${p?"bg-accent text-white rounded-full":""}`,children:d},d)})]})]},g)})})},K_=({currentDate:o,view:r,onPrev:n,onNext:i,onToday:l,onViewChange:u,settings:c})=>{const g=On(c.language.appLanguage),v=o.toLocaleString(g,{month:"long"}),y=o.getFullYear(),m=c.calendar.showMonthNumber;let f=`${v} ${y}`;if(m){const d=(o.getMonth()+1).toString().padStart(2,"0");f=`${v} (${d}) ${y}`}if(r==="day"){const d=o.toLocaleString(g,{weekday:"long"}),p=o.getDate();if(f=`${d}, ${v} ${p}`,m){const _=(o.getMonth()+1).toString().padStart(2,"0");f=`${d}, ${v} (${_}) ${p}, ${y}`}}else r==="year"&&(f=`${y}`);return a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-y-2 md:flex-nowrap md:gap-x-2 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"chevron",className:"h-5 w-5 rotate-90"})}),a.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"chevron",className:"h-5 w-5 -rotate-90"})})]}),a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-text-primary whitespace-nowrap",children:f})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:l,className:"px-3 py-1.5 text-xs md:text-sm rounded-md border border-border-color hover:bg-border-color",children:z("common.today")}),a.jsxs("div",{className:"flex items-center gap-1 bg-primary p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>u("year"),className:`px-2 py-0.5 text-xs md:text-sm rounded-md ${r==="year"?"bg-accent text-white":"hover:bg-border-color"}`,children:[a.jsx("span",{className:"hidden md:inline",children:"Year"}),a.jsx("span",{className:"md:hidden",children:"Y"})]}),a.jsxs("button",{onClick:()=>u("month"),className:`px-2 py-0.5 text-xs md:text-sm rounded-md ${r==="month"?"bg-accent text-white":"hover:bg-border-color"}`,children:[a.jsx("span",{className:"hidden md:inline",children:"Month"}),a.jsx("span",{className:"md:hidden",children:"M"})]}),a.jsxs("button",{onClick:()=>u("day"),className:`px-2 py-0.5 text-xs md:text-sm rounded-md ${r==="day"?"bg-accent text-white":"hover:bg-border-color"}`,children:[a.jsx("span",{className:"hidden md:inline",children:"Day"}),a.jsx("span",{className:"md:hidden",children:"D"})]})]})]})]})},Y_=({currentDate:o,setCurrentDate:r,events:n,reminders:i,onDayClick:l,onItemClick:u,onDateRangeSelect:c,onNewItemRequest:g,dateFilter:v,highlightedRange:y,settings:m,isMobile:f})=>{const[d,p]=Q.useState("month"),[_,S]=Q.useState(null),{calendar:w,calendarBackground:T}=m,b=On(m.language.appLanguage),E=()=>{const U=new Date(o);d==="month"?U.setMonth(U.getMonth()-1):d==="year"?U.setFullYear(U.getFullYear()-1):d==="day"&&U.setDate(U.getDate()-1),r(U)},x=()=>{const U=new Date(o);d==="month"?U.setMonth(U.getMonth()+1):d==="year"?U.setFullYear(U.getFullYear()+1):d==="day"&&U.setDate(U.getDate()+1),r(U)},N=()=>{const U=new Date,D=o.getMonth()===U.getMonth()&&o.getFullYear()===U.getFullYear();r(new Date),d==="month"&&D?l(U):d!=="month"&&p("month")},R=U=>{r(U),p("month")},P=(U,D)=>{S({...D,date:U})};Q.useEffect(()=>{const U=()=>S(null);return window.addEventListener("click",U,!0),()=>window.removeEventListener("click",U,!0)},[]);const O=()=>{switch(d){case"month":return a.jsx(H_,{currentDate:o,events:n,reminders:i,onDayClick:l,onItemClick:u,onDateRangeSelect:c,onDayContextMenu:P,dateFilter:v,highlightedRange:y,settings:m.calendar,language:m.language.appLanguage,isMobile:f});case"day":return a.jsx(W_,{currentDate:o,events:n,reminders:i,onItemClick:u,locale:b});case"year":return a.jsx(J_,{currentDate:o,onMonthClick:R,locale:b});default:return null}};return a.jsxs("div",{className:"flex flex-col h-full bg-primary overflow-hidden relative",children:[T.type!=="none"&&a.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-500",style:{backgroundImage:`url(${T.value})`}}),a.jsx("div",{className:"absolute inset-0 bg-primary transition-opacity duration-500",style:{opacity:T.dim/100}})]}),a.jsx("div",{className:"p-2 md:p-4",children:a.jsx(K_,{currentDate:o,view:d,onPrev:E,onNext:x,onToday:N,onViewChange:p,settings:m})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto relative scrollbar-hide",children:[O(),_&&a.jsxs("div",{style:{top:_.y,left:_.x},className:"absolute z-50 bg-secondary rounded-lg shadow-2xl border border-border-color p-2 flex flex-col gap-1",onClick:U=>U.stopPropagation(),children:[a.jsxs("button",{onClick:()=>{g("event",_.date),S(null)},className:"flex items-center gap-2 w-full text-left px-3 py-1.5 rounded-md text-sm text-text-primary hover:bg-accent hover:text-white",children:[a.jsx(me,{name:"calendar",className:"h-4 w-4"}),z("dashboard.newEvent")]}),a.jsxs("button",{onClick:()=>{g("reminder",_.date),S(null)},className:"flex items-center gap-2 w-full text-left px-3 py-1.5 rounded-md text-sm text-text-primary hover:bg-accent hover:text-white",children:[a.jsx(me,{name:"bell",className:"h-4 w-4"}),z("dashboard.newReminder")]})]})]})]})},Q_=({messages:o,isLoading:r,onSendMessage:n,onNoteClick:i,onClose:l,onClearChat:u,voiceInputLanguage:c,inputDraft:g,setInputDraft:v})=>a.jsxs("div",{className:"w-[400px] flex-shrink-0 bg-secondary border-r border-border-color h-full flex flex-col transition-all duration-300 ease-in-out",children:[a.jsxs("div",{className:"p-3 border-b border-border-color flex justify-between items-center flex-shrink-0",children:[a.jsx("h3",{className:"font-bold text-lg",children:z("chat.title")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-full text-text-secondary hover:bg-border-color",title:z("chat.clear"),children:a.jsx(me,{name:"clear",className:"h-5 w-5"})}),a.jsx("button",{onClick:l,className:"p-2 rounded-full text-text-secondary hover:bg-border-color",title:z("chat.pin"),children:a.jsx(me,{name:"close",className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsx(Av,{messages:o,isLoading:r,onNoteClick:i})}),a.jsx("div",{className:"p-2 border-t border-border-color flex-shrink-0",children:a.jsx(na,{onSendMessage:n,isLoading:r,voiceInputLanguage:c,inputDraft:g,setInputDraft:v})})]}),Z_=["#4f46e5","#10b981","#f59e0b","#ef4444","#8b5cf6","#3b82f6"],X_=({settings:o,setSettings:r})=>{const n=Q.useRef(null),i=Q.useRef(null),l=m=>{r(f=>({...f,theme:m}))},u=m=>{r(f=>({...f,themeContrast:m}))},c=m=>{r(f=>({...f,accentColor:m}))},g=m=>{r(f=>({...f,calendarBackground:{...f.calendarBackground,...m}}))},v=async m=>{if(m.target.files&&m.target.files[0])try{const f=m.target.files[0],p={type:"custom",value:await Bv(f,1920,1080,.7),dim:50};r(_=>{const w=_.customBackgrounds.some(T=>T.value===p.value)?_.customBackgrounds:[..._.customBackgrounds,p];return{..._,customBackgrounds:w,calendarBackground:p}})}catch(f){console.error("Error resizing image for calendar background:",f)}},y=({level:m})=>a.jsx("button",{onClick:()=>u(m),className:`px-4 py-2 rounded-md text-sm capitalize font-semibold transition-colors ${o.themeContrast===m?"bg-accent text-white":"bg-primary hover:bg-border-color"}`,children:z(`settings.personalization.contrast.${m}`)});return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.personalization.title")}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.personalization.theme")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Jg,{name:z("settings.personalization.theme.light"),theme:"light",settings:o,onSelect:()=>l("light")}),a.jsx(Jg,{name:z("settings.personalization.theme.dark"),theme:"dark",settings:o,onSelect:()=>l("dark")})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.personalization.contrast")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg flex flex-wrap items-center justify-between gap-y-3",children:[a.jsx("p",{className:"text-text-secondary text-sm",dangerouslySetInnerHTML:{__html:z("settings.personalization.contrast.description",{theme:`<b>${z(`settings.personalization.theme.${o.theme}`)}</b>`})}}),a.jsxs("div",{className:"flex items-center gap-2 p-1 bg-secondary rounded-lg",children:[a.jsx(y,{level:"low"}),a.jsx(y,{level:"medium"}),a.jsx(y,{level:"high"})]})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.personalization.accent")}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[Z_.map(m=>a.jsx("button",{onClick:()=>c(m),className:`w-10 h-10 rounded-full transition-transform transform hover:scale-110 ${o.accentColor===m?"ring-2 ring-offset-2 ring-offset-primary ring-white":""}`,style:{backgroundColor:m},"aria-label":`Select accent color ${m}`},m)),a.jsxs("div",{className:"relative w-10 h-10",children:[a.jsx("button",{type:"button",onClick:()=>{var m;return(m=n.current)==null?void 0:m.click()},className:"w-10 h-10 rounded-full bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 flex items-center justify-center","aria-label":z("settings.personalization.accent.custom"),children:a.jsx(me,{name:"palette",className:"h-5 w-5 text-white"})}),a.jsx("input",{ref:n,type:"color",value:o.accentColor,onChange:m=>c(m.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.personalization.calendarBg")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:[a.jsxs(ta,{selected:o.calendarBackground.type==="none",onClick:()=>g({type:"none"}),children:[a.jsx(me,{name:"close",className:"h-6 w-6 text-text-secondary"}),a.jsx("span",{className:"text-xs absolute bottom-1",children:z("settings.personalization.calendarBg.none")})]}),l_.map(m=>a.jsxs(ta,{selected:o.calendarBackground.value===m.value,onClick:()=>g({type:"preset",value:m.value}),children:[a.jsx("img",{src:m.value,className:"w-full h-full object-cover rounded-md",alt:m.name}),a.jsx("span",{className:"text-xs absolute bottom-1 text-white bg-black/50 px-1 rounded",children:z(`settings.personalization.calendarBg.preset.${m.name.toLowerCase()}`)})]},m.name)),o.customBackgrounds.map((m,f)=>a.jsx(ta,{selected:o.calendarBackground.value===m.value,onClick:()=>g({type:"custom",value:m.value}),children:a.jsx("img",{src:m.value,className:"w-full h-full object-cover rounded-md",alt:`Custom ${f+1}`})},f)),a.jsxs(ta,{selected:!1,onClick:()=>{var m;return(m=i.current)==null?void 0:m.click()},children:[a.jsx(me,{name:"image",className:"h-6 w-6 text-text-secondary"}),a.jsx("span",{className:"text-xs absolute bottom-1",children:z("settings.personalization.calendarBg.upload")}),a.jsx("input",{type:"file",ref:i,onChange:v,accept:"image/*",className:"hidden"})]})]}),o.calendarBackground.type!=="none"&&a.jsxs("div",{className:"pt-4 border-t border-border-color/50 flex items-center gap-4",children:[a.jsx("label",{htmlFor:"dim-slider",className:"text-sm font-medium text-text-secondary whitespace-nowrap",children:z("settings.personalization.calendarBg.dim")}),a.jsx("input",{id:"dim-slider",type:"range",min:"0",max:"95",value:o.calendarBackground.dim,onChange:m=>g({dim:parseInt(m.target.value,10)}),className:"w-full h-2 bg-border-color rounded-lg appearance-none cursor-pointer accent-accent"}),a.jsxs("span",{className:"text-sm font-mono w-10 text-right",children:[o.calendarBackground.dim,"%"]})]})]})]})]})},Jg=({name:o,theme:r,settings:n,onSelect:i})=>{const u={light:{low:{bg:"#f9fafb",secondary:"#ffffff",text:"#9ca3af"},medium:{bg:"#ffffff",secondary:"#f3f4f6",text:"#6b7280"},high:{bg:"#ffffff",secondary:"#e5e7eb",text:"#4b5563"}},dark:{low:{bg:"#1f2937",secondary:"#374151",text:"#6b7280"},medium:{bg:"#111827",secondary:"#1f2937",text:"#4b5563"},high:{bg:"#000000",secondary:"#111827",text:"#374151"}}}[r][n.themeContrast];return a.jsxs("div",{onClick:i,className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${n.theme===r?"border-accent":"border-border-color hover:border-text-secondary"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-semibold text-lg",children:o}),a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${n.theme===r?"bg-accent border-accent":"border-border-color"}`,children:n.theme===r&&a.jsx(me,{name:"check",className:"h-3 w-3 text-white"})})]}),a.jsxs("div",{className:"h-24 rounded-md p-3 transition-colors",style:{backgroundColor:u.bg},children:[a.jsx("div",{className:"h-4 rounded",style:{backgroundColor:n.accentColor}}),a.jsx("div",{className:"h-8 mt-2 rounded transition-colors",style:{backgroundColor:u.secondary},children:a.jsx("div",{className:"h-3 w-3/4 ml-2 mt-1 rounded-sm transition-colors",style:{backgroundColor:u.text}})})]})]})},ta=({selected:o,onClick:r,children:n})=>a.jsx("button",{onClick:r,className:`relative aspect-video rounded-lg border-2 transition-all flex items-center justify-center
            ${o?"border-accent":"border-primary hover:border-border-color"}`,children:n}),zc=({checked:o,onChange:r})=>a.jsx("button",{type:"button",role:"switch","aria-checked":o,onClick:()=>r(!o),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${o?"bg-accent":"bg-primary"}`,children:a.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${o?"translate-x-6":"translate-x-1"}`})}),e1=({settings:o,setSettings:r})=>{const n=(u,c)=>{r(g=>({...g,calendar:{...g.calendar,[u]:c}}))},i=u=>{const c=o.calendar.weekendDays,g=c.includes(u)?c.filter(v=>v!==u):[...c,u];n("weekendDays",g.sort())},l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.calendar.title")}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.calendar.general")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-4 divide-y divide-border-color/50",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4",children:[a.jsx("p",{className:"font-medium text-text-primary",children:z("settings.calendar.startWeekOn")}),a.jsxs("select",{value:o.calendar.startOfWeek,onChange:u=>n("startOfWeek",parseInt(u.target.value)),className:"bg-secondary border border-border-color rounded-md py-1.5 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",children:[a.jsx("option",{value:"0",children:z("settings.calendar.startWeekOn.sunday")}),a.jsx("option",{value:"1",children:z("settings.calendar.startWeekOn.monday")})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-text-primary",children:z("settings.calendar.showWeekNumbers")}),a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.calendar.showWeekNumbers.desc")})]}),a.jsx(zc,{checked:o.calendar.showWeekNumbers,onChange:u=>n("showWeekNumbers",u)})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-text-primary",children:z("settings.calendar.showMonthNumber")}),a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.calendar.showMonthNumber.desc")})]}),a.jsx(zc,{checked:o.calendar.showMonthNumber,onChange:u=>n("showMonthNumber",u)})]})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.calendar.weekends")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-text-primary",children:z("settings.calendar.highlightWeekends")}),a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.calendar.highlightWeekends.desc")})]}),a.jsx(zc,{checked:o.calendar.highlightWeekends,onChange:u=>n("highlightWeekends",u)})]}),o.calendar.highlightWeekends&&a.jsxs("div",{className:"pt-4 border-t border-border-color/50",children:[a.jsx("p",{className:"text-sm text-text-secondary mb-3",children:z("settings.calendar.selectWeekends")}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,c)=>a.jsx("button",{onClick:()=>i(c),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition-colors ${o.calendar.weekendDays.includes(c)?"bg-accent text-white":"bg-secondary hover:bg-border-color"}`,children:u},u))})]})]})]})]})},t1=({checked:o,onChange:r})=>a.jsx("button",{type:"button",role:"switch","aria-checked":o,onClick:()=>r(!o),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${o?"bg-accent":"bg-primary"}`,children:a.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${o?"translate-x-6":"translate-x-1"}`})}),n1=({settings:o,setSettings:r})=>{const n=i=>{r(l=>({...l,combineLogoAndUIHide:i}))};return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.interface.title")}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.interface.header")}),a.jsx("div",{className:"p-4 bg-primary rounded-lg space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-text-primary",children:z("settings.interface.combineLogo")}),a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.interface.combineLogo.desc")})]}),a.jsx(t1,{checked:o.combineLogoAndUIHide,onChange:n})]})})]})]})},r1=({settings:o,setSettings:r})=>{const n=i=>{r(l=>({...l,chat:{...l.chat,behavior:i}}))};return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.chat.title")}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.chat.interaction")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-4",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.chat.interaction.desc")}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Kg,{title:z("settings.chat.interaction.overlay"),description:z("settings.chat.interaction.overlay.desc"),icon:"send",isActive:o.chat.behavior==="overlay",onClick:()=>n("overlay")}),a.jsx(Kg,{title:z("settings.chat.interaction.header"),description:z("settings.chat.interaction.header.desc"),icon:"chat",isActive:o.chat.behavior==="header_button",onClick:()=>n("header_button")})]})]})]})]})},Kg=({title:o,description:r,icon:n,isActive:i,onClick:l})=>a.jsxs("div",{onClick:l,className:`p-4 rounded-lg border-2 cursor-pointer transition-all flex items-center gap-4 ${i?"border-accent bg-accent/10":"border-border-color hover:border-text-secondary/50"}`,children:[a.jsx(me,{name:n,className:"h-8 w-8 text-accent flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold text-text-primary",children:o}),a.jsx("p",{className:"text-sm text-text-secondary",children:r})]}),a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${i?"bg-accent border-accent":"border-border-color"}`,children:i&&a.jsx(me,{name:"check",className:"h-3 w-3 text-white"})})]}),Yg=({name:o,isActive:r,onClick:n})=>a.jsx("button",{onClick:n,className:`flex-1 sm:flex-none flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-md text-sm font-semibold transition-colors ${r?"bg-accent text-white":"text-text-secondary hover:bg-border-color"}`,children:a.jsx("span",{className:"truncate",children:o})}),o1=({settings:o,setSettings:r,isMobile:n})=>{const[i,l]=Q.useState("header"),u=y=>{r(m=>({...m,navigation:{...m.navigation,mobileStyle:y}}))},c=y=>{r(m=>({...m,navigation:{...m.navigation,desktopStyle:y}}))},g=y=>{r(m=>({...m,navigation:{...m.navigation,sideBarLabels:y}}))},v=y=>{r(m=>({...m,navigation:{...m.navigation,mobileBottomBarHeight:y}}))};return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.navigation.title")}),!n&&a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.navigation.desktopStyle")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-3",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.navigation.desktopStyle.description")}),a.jsx(Rn,{title:z("settings.navigation.desktopStyle.header"),description:z("settings.navigation.desktopStyle.header.desc"),isActive:o.navigation.desktopStyle==="header",onClick:()=>c("header")}),a.jsx(Rn,{title:z("settings.navigation.desktopStyle.sidebarLeft"),description:z("settings.navigation.desktopStyle.sidebarLeft.desc"),isActive:o.navigation.desktopStyle==="side_bar_left",onClick:()=>c("side_bar_left")}),a.jsx(Rn,{title:z("settings.navigation.desktopStyle.sidebarRight"),description:z("settings.navigation.desktopStyle.sidebarRight.desc"),isActive:o.navigation.desktopStyle==="side_bar_right",onClick:()=>c("side_bar_right")}),o.navigation.desktopStyle!=="header"&&a.jsxs("div",{className:"pt-4 border-t border-border-color/50 space-y-3",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.navigation.sidebarLabels")}),a.jsx(Rn,{title:z("settings.navigation.sidebarLabels.show"),description:z("settings.navigation.sidebarLabels.show.desc"),isActive:o.navigation.sideBarLabels==="show",onClick:()=>g("show")}),a.jsx(Rn,{title:z("settings.navigation.sidebarLabels.hover"),description:z("settings.navigation.sidebarLabels.hover.desc"),isActive:o.navigation.sideBarLabels==="hide_on_hover",onClick:()=>g("hide_on_hover")})]})]})]}),n&&a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.navigation.mobileStyle")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-3",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.navigation.mobileStyle.description")}),a.jsx(Rn,{title:z("settings.navigation.desktopStyle.header"),description:z("settings.navigation.desktopStyle.header.desc"),isActive:o.navigation.mobileStyle==="header",onClick:()=>u("header")}),a.jsx(Rn,{title:z("settings.navigation.mobileStyle.bottom"),description:z("settings.navigation.mobileStyle.bottom.desc"),isActive:o.navigation.mobileStyle==="bottom_bar",onClick:()=>u("bottom_bar")}),o.navigation.mobileStyle==="bottom_bar"&&a.jsxs("div",{className:"pt-4 border-t border-border-color/50 space-y-3",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.navigation.mobileHeight")}),a.jsx(Rn,{title:z("settings.navigation.mobileHeight.normal"),description:z("settings.navigation.mobileHeight.normal.desc"),isActive:o.navigation.mobileBottomBarHeight==="normal",onClick:()=>v("normal")}),a.jsx(Rn,{title:z("settings.navigation.mobileHeight.compact"),description:z("settings.navigation.mobileHeight.compact.desc"),isActive:o.navigation.mobileBottomBarHeight==="compact",onClick:()=>v("compact")})]})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.navigation.customize")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg",children:[a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-1 bg-secondary p-1 rounded-lg mb-4",children:[a.jsx(Yg,{name:z("settings.navigation.customize.header"),isActive:i==="header",onClick:()=>l("header")}),a.jsx(Yg,{name:z("settings.navigation.customize.bottomBar"),isActive:i==="bottom_bar",onClick:()=>l("bottom_bar")})]}),a.jsxs("div",{className:"animate-fade-in",children:[i==="header"&&a.jsx(Qg,{title:z("settings.navigation.customize.header"),description:z("settings.navigation.customize.header.desc"),visibleItems:o.navigation.desktopHeaderItems,setVisibleItems:y=>r(m=>({...m,navigation:{...m.navigation,desktopHeaderItems:y}}))}),i==="bottom_bar"&&a.jsx(Qg,{title:z("settings.navigation.customize.bottomBar"),description:z("settings.navigation.customize.bottomBar.desc"),visibleItems:o.navigation.mobileBottomBarItems,setVisibleItems:y=>r(m=>({...m,navigation:{...m.navigation,mobileBottomBarItems:y}})),itemLimit:5})]})]})]})]})},Rn=({title:o,description:r,isActive:n,onClick:i})=>a.jsxs("div",{onClick:i,className:`p-4 rounded-lg border-2 cursor-pointer transition-all flex items-center gap-4 ${n?"border-accent bg-accent/10":"border-border-color hover:border-text-secondary/50"}`,children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${n?"bg-accent border-accent":"border-border-color"}`,children:n&&a.jsx(me,{name:"check",className:"h-3 w-3 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold text-text-primary",children:o}),a.jsx("p",{className:"text-sm text-text-secondary",children:r})]})]}),Qg=({title:o,description:r,visibleItems:n,setVisibleItems:i,itemLimit:l})=>{const u=Ri.filter(m=>!n.includes(m.id)).map(m=>m.id),[c,g]=Q.useState(null),v=(m,f)=>{g(f),m.dataTransfer&&(m.dataTransfer.effectAllowed="move")},y=(m,f)=>{if(m.preventDefault(),!c)return;const d=n.includes(c)?"visible":"hidden",p=m.target.closest("[data-id]"),_=p==null?void 0:p.getAttribute("data-id");if(f==="visible"){if(l&&n.length>=l&&d==="hidden"){g(null);return}let S=[...n];if(d==="visible"&&(S=S.filter(w=>w!==c)),_&&S.includes(_)){const w=S.indexOf(_);S.splice(w,0,c)}else S.push(c);i(S)}else{const S=n.filter(w=>w!==c);i(S)}g(null)};return a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold mb-1",children:o}),a.jsx("p",{className:"text-sm text-text-secondary mb-3",children:r}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(Zg,{title:z("settings.navigation.customize.visible"),onDrop:m=>y(m,"visible"),isOverfilled:l?n.length>l:!1,children:[n.map(m=>{const f=Ri.find(d=>d.id===m);return f?a.jsx(Xg,{item:f,onDragStart:d=>v(d,m)},m):null}),l&&n.length>l&&a.jsx("p",{className:"text-xs text-red-400 p-2",children:z("settings.navigation.customize.limitError",{count:n.length-l})})]}),a.jsx(Zg,{title:z("settings.navigation.customize.hidden"),onDrop:m=>y(m,"hidden"),children:u.map(m=>{const f=Ri.find(d=>d.id===m);return f?a.jsx(Xg,{item:f,onDragStart:d=>v(d,m)},m):null})})]})]})},Zg=({title:o,onDrop:r,children:n,isOverfilled:i})=>{const[l,u]=Q.useState(!1);return a.jsxs("div",{onDragOver:c=>{c.preventDefault(),u(!0)},onDragLeave:()=>u(!1),onDrop:c=>{r(c),u(!1)},className:`p-3 bg-secondary rounded-lg space-y-2 min-h-[100px] transition-all
             ${l?"ring-2 ring-accent":""}
             ${i?"ring-2 ring-red-500":""}
            `,children:[a.jsx("h6",{className:"text-sm font-bold text-text-secondary",children:o}),a.jsx("div",{className:"space-y-2",children:n})]})},Xg=({item:o,onDragStart:r})=>a.jsxs("div",{draggable:!0,onDragStart:r,"data-id":o.id,className:"flex items-center p-2 bg-primary rounded-md border border-border-color cursor-grab active:cursor-grabbing",children:[a.jsx(me,{name:"drag",className:"h-5 w-5 mr-3 text-text-secondary"}),a.jsx(me,{name:o.icon,className:"h-5 w-5 mr-3 text-text-secondary"}),a.jsx("span",{className:"font-medium text-text-primary",children:z(`nav.${o.id}`)})]}),i1=({settings:o,setSettings:r,onRequestLanguageChange:n})=>{const i=u=>{n(u)},l=u=>{r(c=>({...c,language:{...c.language,voiceInputLanguage:u}}))};return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.language.title")}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.language.appLanguage.title")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg",children:[a.jsx("p",{className:"text-sm text-text-secondary mb-3",children:z("settings.language.appLanguage.description")}),a.jsx("select",{value:o.language.appLanguage,onChange:u=>i(u.target.value),className:"w-full bg-secondary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",children:Object.entries(kv).map(([u,{name:c,flag:g}])=>a.jsxs("option",{value:u,children:[g," ",c]},u))})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.language.voiceInput.title")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg",children:[a.jsx("p",{className:"text-sm text-text-secondary mb-3",children:z("settings.language.voiceInput.description")}),a.jsx("select",{value:o.language.voiceInputLanguage,onChange:u=>l(u.target.value),className:"w-full bg-secondary border border-border-color rounded-md py-2 px-3 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent",children:Object.entries(Fb).map(([u,c])=>a.jsx("option",{value:u,children:c},u))})]})]})]})},s1=({onRestartOnboarding:o,onDeleteAllData:r,dataCounts:n})=>a.jsxs("div",{className:"space-y-8",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z("settings.account.title")}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3",children:z("settings.account.restartOnboarding")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.account.restartOnboardingDesc")}),a.jsx("button",{onClick:o,className:"px-4 py-2 text-sm rounded-md border border-border-color text-text-primary hover:bg-border-color font-semibold",children:"Restart"})]})]}),a.jsxs("section",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-3 text-red-500",children:z("settings.account.deleteData")}),a.jsx("div",{className:"p-4 bg-primary rounded-lg border border-red-500/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-text-secondary",children:z("settings.account.deleteDataDesc")}),a.jsx("p",{className:"text-xs text-text-secondary mt-1",children:z("deleteDataModal.dataSummary",n)})]}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm rounded-md bg-red-600 text-white hover:bg-red-700 font-semibold",children:"Delete..."})]})})]})]}),a1=({onConfirm:o,onCancel:r})=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[100]",onClick:r,children:a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl w-full max-w-md animate-pop-in",onClick:n=>n.stopPropagation(),children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-amber-500/20",children:a.jsx(me,{name:"question",className:"h-6 w-6 text-amber-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-text-primary",children:z("discardModal.title")}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-text-secondary",children:z("discardModal.message")})})]})]})}),a.jsxs("div",{className:"bg-primary px-4 py-3 rounded-b-lg sm:px-6 sm:flex sm:flex-row-reverse space-y-2 sm:space-y-0 sm:space-x-reverse sm:space-x-2",children:[a.jsx("button",{type:"button",onClick:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-red-500 sm:w-auto sm:text-sm",children:z("discardModal.confirm")}),a.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-secondary text-base font-medium text-text-primary hover:bg-border-color focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-accent sm:mt-0 sm:w-auto sm:text-sm",children:z("common.cancel")})]})]})}),l1=({onConfirm:o,onCancel:r})=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[100]",onClick:r,children:a.jsxs("div",{className:"bg-secondary rounded-lg shadow-2xl w-full max-w-md animate-pop-in",onClick:n=>n.stopPropagation(),children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-4 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-accent/20",children:a.jsx(me,{name:"globe",className:"h-6 w-6 text-accent"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-text-primary",children:z("langChange.title")}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-text-secondary",children:z("langChange.message")})})]})]})}),a.jsxs("div",{className:"bg-primary px-4 py-3 rounded-b-lg sm:px-6 sm:flex sm:flex-row-reverse space-y-2 sm:space-y-0 sm:space-x-reverse sm:space-x-2",children:[a.jsx("button",{type:"button",onClick:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-accent text-base font-medium text-white hover:bg-accent-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-accent sm:w-auto sm:text-sm",children:z("langChange.confirm")}),a.jsx("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-secondary text-base font-medium text-text-primary hover:bg-border-color focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary focus:ring-accent sm:mt-0 sm:w-auto sm:text-sm",children:z("common.cancel")})]})]})}),Rr=({id:o,name:r,icon:n,onClick:i,isActive:l,isMobile:u})=>a.jsxs("button",{onClick:i,className:`flex items-center w-full p-3 text-left rounded-lg transition-colors ${!u&&l?"bg-accent text-white":"hover:bg-border-color/50"}`,children:[a.jsx(me,{name:n,className:"h-5 w-5 mr-3 flex-shrink-0"}),a.jsx("span",{className:"font-semibold flex-1 truncate pr-2",children:r}),u&&a.jsx(me,{name:"chevron",className:"h-5 w-5 ml-auto -rotate-90 text-text-secondary"})]}),ev=({activeSection:o,setActiveSection:r,isMobile:n})=>a.jsxs("nav",{className:"p-4 space-y-2",children:[a.jsx(Rr,{id:"personalization",name:z("settings.personalization.title"),icon:"palette",onClick:()=>r("personalization"),isActive:o==="personalization",isMobile:n}),a.jsx(Rr,{id:"navigation",name:z("settings.navigation.title"),icon:"menu",onClick:()=>r("navigation"),isActive:o==="navigation",isMobile:n}),a.jsx(Rr,{id:"language",name:z("settings.language.sectionTitle"),icon:"globe",onClick:()=>r("language"),isActive:o==="language",isMobile:n}),a.jsx(Rr,{id:"calendar",name:z("settings.calendar.title"),icon:"calendar",onClick:()=>r("calendar"),isActive:o==="calendar",isMobile:n}),a.jsx(Rr,{id:"interface",name:z("settings.interface.title"),icon:"hide",onClick:()=>r("interface"),isActive:o==="interface",isMobile:n}),a.jsx(Rr,{id:"chat",name:z("settings.chat.title"),icon:"chat",onClick:()=>r("chat"),isActive:o==="chat",isMobile:n}),a.jsx("div",{className:"pt-2 mt-2 border-t border-border-color/50",children:a.jsx(Rr,{id:"account",name:z("settings.account.title"),icon:"user",onClick:()=>r("account"),isActive:o==="account",isMobile:n})})]}),tv=({content:o})=>a.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-hide",children:o}),u1=({isOpen:o,onClose:r,settings:n,setSettings:i,onRestartOnboarding:l,onDeleteAllData:u,dataCounts:c})=>{const{width:g}=fd(),v=g<768,[y,m]=Q.useState(v?null:"personalization"),[f,d]=Q.useState(n),[p,_]=Q.useState(!1),[S,w]=Q.useState(!1),[T,b]=Q.useState(null);if(Q.useEffect(()=>{o&&(d(n),v?m(null):y===null&&m("personalization"))},[o,v]),Q.useEffect(()=>{_(JSON.stringify(n)!==JSON.stringify(f))},[f,n]),Q.useEffect(()=>{o&&!v&&y===null&&m("personalization")},[v,o,y]),!o)return null;const E=()=>{i(f),r()},x=()=>{p?w(!0):r()},N=()=>{w(!1),r()},R=j=>{j!==n.language.appLanguage&&(d($=>({...$,language:{...$.language,appLanguage:j}})),b(j))},P=()=>{T&&(i(f),setTimeout(()=>{window.location.reload()},100))},O=()=>{switch(y){case"personalization":return a.jsx(X_,{settings:f,setSettings:d});case"navigation":return a.jsx(o1,{settings:f,setSettings:d,isMobile:v});case"language":return a.jsx(i1,{settings:f,setSettings:d,onRequestLanguageChange:R});case"calendar":return a.jsx(e1,{settings:f,setSettings:d});case"interface":return a.jsx(n1,{settings:f,setSettings:d});case"chat":return a.jsx(r1,{settings:f,setSettings:d});case"account":return a.jsx(s1,{onRestartOnboarding:l,onDeleteAllData:u,dataCounts:c});default:return null}},U=j=>{if(!j)return z("settings.title");switch(j){case"personalization":return z("settings.personalization.title");case"navigation":return z("settings.navigation.title");case"language":return z("settings.language.title");case"calendar":return z("settings.calendar.title");case"interface":return z("settings.interface.title");case"chat":return z("settings.chat.title");case"account":return z("settings.account.title");default:return z("settings.title")}},D=O(),M=v&&y!==null,L=!v||y!==null;return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-0 md:p-4 animate-fade-in",onClick:x,children:[a.jsxs("div",{className:"bg-secondary shadow-2xl flex flex-col w-full h-full md:rounded-lg md:max-w-4xl md:h-[80vh] animate-pop-in",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"relative flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsx("div",{className:"absolute left-4",children:a.jsx("button",{onClick:M?()=>m(null):x,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:M?"back":"close",className:"h-6 w-6 text-text-secondary"})})}),a.jsx("h2",{className:"text-xl font-bold text-center flex-1",children:v?U(y):z("settings.title")}),a.jsx("div",{className:"absolute right-4 w-10 h-10"})]}),v?y===null?a.jsx(ev,{activeSection:y,setActiveSection:m,isMobile:v}):a.jsx(tv,{content:D}):a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("aside",{className:"w-1/3 min-w-[240px] bg-primary rounded-l-lg p-2 border-r border-border-color flex flex-col",children:[a.jsx(ev,{activeSection:y,setActiveSection:m,isMobile:v}),p&&a.jsx("div",{className:"mt-auto p-4 text-center text-xs text-amber-500 animate-fade-in",children:z("common.unsavedChanges")})]}),a.jsx("main",{className:"flex-1 flex flex-col",children:a.jsx(tv,{content:D})})]}),L&&a.jsxs("div",{className:"p-4 border-t border-border-color flex justify-end gap-2 bg-primary rounded-b-lg flex-shrink-0",children:[a.jsx("button",{onClick:x,className:"px-4 py-2 rounded-md border border-border-color text-text-primary hover:bg-border-color",children:z("common.cancel")}),a.jsx("button",{onClick:E,className:"px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover",children:z("settings.save")})]}),v&&y===null&&p&&a.jsx("div",{className:"p-4 border-t border-border-color flex justify-end gap-2 bg-primary rounded-b-lg flex-shrink-0 animate-fade-in-up",children:a.jsx("button",{onClick:E,className:"w-full px-4 py-2 rounded-md bg-accent text-white hover:bg-accent-hover",children:z("settings.save")})})]}),S&&a.jsx(a1,{onConfirm:N,onCancel:()=>w(!1)}),T&&a.jsx(l1,{onConfirm:P,onCancel:()=>{b(null),d(n)}})]})},c1=({items:o,hiddenItemCount:r,onItemClick:n,onMoreClick:i,settings:l,getIsActive:u,unreadNotificationsCount:c})=>{const g=r>0,v=l.navigation.mobileBottomBarHeight==="compact"?"h-16":"h-20";return a.jsx("footer",{className:`fixed bottom-0 left-0 right-0 z-40 bg-secondary/80 backdrop-blur-lg border-t border-border-color ${v}`,children:a.jsxs("div",{className:"flex justify-around items-center h-full",children:[o.map(y=>a.jsx(nv,{item:y,onClick:m=>n(y.id,m),isActive:u(y.id),unreadCount:y.id==="notifications"?c:0},y.id)),g&&a.jsx(nv,{item:{id:"more",name:z("common.more"),icon:"menu"},onClick:i,isActive:!1,unreadCount:0})]})})},nv=({item:o,onClick:r,isActive:n,unreadCount:i})=>a.jsxs("button",{onClick:r,className:`relative flex flex-col items-center justify-center w-16 transition-colors ${n?"text-accent":"text-text-secondary hover:text-accent"}`,children:[a.jsx(me,{name:o.icon,className:"h-6 w-6 mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:z(`nav.${o.id}`)||o.name}),i>0&&a.jsx("span",{className:"absolute top-1 right-3 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-[10px] font-bold",children:i>9?"9+":i})]}),d1=({isOpen:o,onClose:r,items:n,onItemClick:i,isMobile:l,style:u})=>{const c=Q.useRef(null);return Q.useEffect(()=>{const g=y=>{y.key==="Escape"&&r()},v=y=>{if(c.current&&!c.current.contains(y.target)){const m=document.querySelectorAll('[aria-label="More menu button"]');let f=!1;if(m.forEach(d=>{d.contains(y.target)&&(f=!0)}),f)return;r()}};return o&&(document.addEventListener("keydown",g),document.addEventListener("mousedown",v)),()=>{document.removeEventListener("keydown",g),document.removeEventListener("mousedown",v)}},[o,r]),o?l?a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end",onClick:r,children:a.jsx("div",{ref:c,onClick:g=>g.stopPropagation(),className:"bg-secondary w-full rounded-t-2xl p-4 animate-fade-in-up",children:a.jsx("div",{className:"grid grid-cols-4 gap-4",children:n.map(g=>a.jsxs("button",{onClick:()=>i(g.id),className:"flex flex-col items-center justify-center text-text-secondary hover:text-accent py-2",children:[a.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center mb-2",children:a.jsx(me,{name:g.icon,className:"h-6 w-6"})}),a.jsx("span",{className:"text-xs font-medium text-center",children:z(`nav.${g.id}`)})]},g.id))})})}):a.jsx("div",{ref:c,className:"fixed z-50 w-56 bg-secondary rounded-lg shadow-2xl border border-border-color animate-pop-in",style:u,children:a.jsx("div",{className:"p-2",children:n.map(g=>a.jsxs("button",{onClick:()=>i(g.id),className:"flex items-center w-full px-3 py-2 text-left rounded-md hover:bg-accent hover:text-white transition-colors",children:[a.jsx(me,{name:g.icon,className:"h-5 w-5 mr-3"}),a.jsx("span",{children:z(`nav.${g.id}`)})]},g.id))})}):null},f1=({items:o,hiddenItemCount:r,onItemClick:n,onMoreClick:i,settings:l,getIsActive:u,onLogoClick:c,unreadNotificationsCount:g})=>{const{desktopStyle:v,sideBarLabels:y}=l.navigation,m=v==="side_bar_left",f=y==="show",d=r>0,p=`fixed top-0 bottom-0 z-40 bg-secondary border-border-color flex flex-col items-center py-4 transition-all duration-300 ease-in-out group ${m?"left-0 border-r":"right-0 border-l"} ${f?"w-44":"w-20 hover:w-44"}`;return a.jsxs("nav",{className:p,children:[a.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-primary/50 mb-8",title:z("header.toggleUI"),children:a.jsx(me,{name:"logo",className:"h-10 w-10 text-accent"})}),a.jsx("div",{className:"flex flex-col items-center gap-2 w-full px-2",children:o.map(_=>a.jsx(rv,{item:_,onClick:S=>n(_.id,S),isActive:u(_.id),showLabel:f,unreadCount:_.id==="notifications"?g:0},_.id))}),a.jsx("div",{className:"mt-auto w-full px-2",children:d&&a.jsx(rv,{item:{id:"more",name:z("common.more"),icon:"menu"},onClick:i,isActive:!1,showLabel:f,unreadCount:0,"aria-label":z("common.more")})})]})},rv=({item:o,onClick:r,isActive:n,showLabel:i,unreadCount:l,...u})=>{const c=`relative flex items-center w-full rounded-lg p-3 transition-colors duration-200 ${n?"bg-accent text-white":"text-text-secondary hover:bg-border-color hover:text-text-primary"} ${i?"justify-start":"justify-center group-hover:justify-start"}`,g=z(`nav.${o.id}`)||o.name;return a.jsxs("button",{onClick:r,className:c,"aria-label":u["aria-label"]||g,children:[a.jsx(me,{name:o.icon,className:"h-6 w-6 flex-shrink-0"}),a.jsx("span",{className:`font-semibold whitespace-nowrap transition-all duration-200 ${i?"ml-4 opacity-100":"w-0 ml-0 opacity-0 group-hover:w-auto group-hover:ml-4 group-hover:opacity-100"}`,children:g}),l>0&&a.jsx("span",{className:`absolute top-1 transition-all duration-200 ${i?"right-2":"right-4 group-hover:right-2"} flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-[10px] font-bold`,children:l>9?"9+":l})]})},h1=({step:o,totalSteps:r})=>a.jsx("div",{className:"w-full bg-primary rounded-full h-1.5",children:a.jsx("div",{className:"bg-accent h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${(o+1)/r*100}%`}})}),zv=({prompt:o,onComplete:r})=>{const[n,i]=Q.useState("");return Q.useEffect(()=>{i("");let l=0,u;const c=()=>{l<o.length?(i(v=>v+o.charAt(l)),l++,u=window.setTimeout(c,35)):r()},g=window.setTimeout(c,500);return()=>{clearTimeout(g),clearTimeout(u)}},[o,r]),a.jsx("div",{className:"bg-primary p-3 rounded-lg border border-border-color",children:a.jsxs("p",{className:"font-mono text-sm text-text-primary min-h-[4.5rem] md:min-h-[3rem] whitespace-pre-wrap",children:[n,a.jsx("span",{className:"animate-pulse",children:"|"})]})})},p1=()=>a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"logo",className:"h-20 w-20 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-3",children:z("onboarding.welcome.title")}),a.jsx("p",{className:"text-text-secondary mb-8 max-w-sm mx-auto",children:z("onboarding.welcome.description")})]}),m1=({onAnimationComplete:o})=>{const[r,n]=Q.useState(!1),[i,l]=Q.useState(!1),u=Q.useCallback(()=>{n(!0)},[]);return Q.useEffect(()=>{if(r){const c=setTimeout(()=>l(!0),500);return()=>clearTimeout(c)}},[r]),Q.useEffect(()=>{if(i){const c=setTimeout(o,1e3);return()=>clearTimeout(c)}},[i,o]),a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"chat",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-3",children:z("onboarding.demo1.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.demo1.description")}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(zv,{prompt:z("onboarding.demo1.prompt"),onComplete:u}),r&&a.jsxs("div",{className:`p-4 bg-secondary rounded-lg text-left transition-all duration-500 ease-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[a.jsx("h4",{className:"font-bold text-text-primary",children:"Project Ideas"}),a.jsxs("ul",{className:"list-disc list-inside text-sm text-text-secondary mt-1",children:[a.jsx("li",{children:"Integrate new AI features"}),a.jsx("li",{children:"Redesign user dashboard"})]})]})]})]})},g1=({onAnimationComplete:o})=>{const[r,n]=Q.useState(!1),[i,l]=Q.useState(!1),u=Q.useCallback(()=>{n(!0)},[]);return Q.useEffect(()=>{if(r){const c=setTimeout(()=>l(!0),500);return()=>clearTimeout(c)}},[r]),Q.useEffect(()=>{if(i){const c=setTimeout(o,1e3);return()=>clearTimeout(c)}},[i,o]),a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"lightbulb",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-3",children:z("onboarding.demo2.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.demo2.description")}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(zv,{prompt:z("onboarding.demo2.prompt"),onComplete:u}),r&&a.jsx("div",{className:`p-3 bg-secondary rounded-lg border-l-4 border-accent transition-all duration-500 ease-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-semibold text-text-primary",children:"Call John"}),a.jsx("p",{className:"text-sm text-text-secondary",children:"Tomorrow, 2:00 PM"})]})})]})]})},v1=({onAnimationComplete:o})=>(Q.useEffect(()=>{const r=setTimeout(o,1500);return()=>clearTimeout(r)},[o]),a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"notes",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-3",children:z("onboarding.demo_notes.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.demo_notes.description")}),a.jsxs("div",{className:"p-4 bg-secondary rounded-lg text-left relative overflow-hidden animate-pop-in",children:[a.jsx("img",{src:"/assets/images/preset_cosmos.webp",className:"absolute inset-0 w-full h-full object-cover",alt:"Cosmos background"}),a.jsx("div",{className:"absolute inset-0 bg-primary/70"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"My Epic Space Adventure"}),a.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 mt-1",children:[a.jsxs("li",{children:["Explore the ",a.jsx("strong",{children:"Orion Nebula"})]}),a.jsx("li",{children:"Find a cool alien"})]})]})]})]})),y1=({onAnimationComplete:o})=>(Q.useEffect(()=>{const r=setTimeout(o,1500);return()=>clearTimeout(r)},[o]),a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"calendar",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-3",children:z("onboarding.demo_calendar.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.demo_calendar.description")}),a.jsxs("div",{className:"grid grid-cols-7 gap-1 bg-primary p-2 rounded-lg text-xs animate-pop-in",children:[["M","T","W","T","F","S","S"].map((r,n)=>a.jsx("div",{className:"text-center text-text-secondary font-bold",children:r},n)),Array.from({length:35}).map((r,n)=>{const i=n>=9&&n<=11;return a.jsx("div",{className:`h-8 rounded flex items-center justify-center ${i?"bg-accent/50":"bg-secondary"}`,children:n>3?n-3:""},n)})]})]})),x1=({onAnimationComplete:o})=>(Q.useEffect(()=>{const r=setTimeout(o,1500);return()=>clearTimeout(r)},[o]),a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"cog",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-3",children:z("onboarding.demo_customize.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.demo_customize.description")}),a.jsxs("div",{className:"p-4 bg-primary rounded-lg space-y-3 animate-pop-in",children:[a.jsxs("div",{className:"flex justify-between items-center bg-secondary p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:"Theme"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"w-16 h-8 rounded-md bg-gray-200"}),a.jsx("div",{className:"w-16 h-8 rounded-md bg-gray-800 ring-2 ring-accent"})]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-secondary p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:"Accent Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-red-500"}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500"}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 ring-2 ring-accent"})]})]})]})]})),b1=()=>{const[o,r]=Q.useState(Notification.permission),[n,i]=Q.useState(!1),l=Q.useCallback(async()=>{if(o!=="default"||n)return;i(!0);const u=await Notification.requestPermission();r(u),i(!1)},[o,n]);return a.jsxs("div",{className:"text-center",children:[a.jsx(me,{name:"bell",className:"h-12 w-12 text-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-3",children:z("onboarding.permissions.title")}),a.jsx("p",{className:"text-text-secondary mb-6",children:z("onboarding.permissions.notificationsDescription")}),o==="default"&&a.jsx("button",{onClick:l,disabled:n,className:"w-full max-w-xs mx-auto mb-4 px-4 py-3 rounded-md bg-secondary text-text-primary font-semibold hover:bg-border-color transition-colors",children:z("onboarding.permissions.grant")}),o==="granted"&&a.jsx("p",{className:"text-lg font-semibold text-green-500 mb-4 animate-pop-in",children:z("onboarding.permissions.granted")}),o==="denied"&&a.jsx("p",{className:"text-lg font-semibold text-red-500 mb-4 animate-pop-in",children:z("onboarding.permissions.denied")})]})},w1=()=>(Q.useEffect(()=>{dd({particleCount:150,spread:90,origin:{y:.6}})},[]),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"relative inline-block",children:a.jsx(me,{name:"check",className:"h-20 w-20 text-green-500 mx-auto animate-pop-in"})}),a.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-3 mt-4",children:z("onboarding.finish.title")}),a.jsx("p",{className:"text-text-secondary mb-8",children:z("onboarding.finish.description")})]})),_1=({isOpen:o,onFinish:r,isMobile:n})=>{const[i,l]=Q.useState(0),[u,c]=Q.useState("animate-fade-in"),[g,v]=Q.useState(!1),y=Q.useCallback(()=>v(!0),[]),m=Q.useCallback(()=>{i<f.length-1?(c("animate-slide-out-left"),setTimeout(()=>{l(S=>S+1),v(!1),c("animate-slide-in-right")},500)):r()},[i,r]),f=Q.useMemo(()=>[a.jsx(p1,{}),a.jsx(m1,{onAnimationComplete:y}),a.jsx(g1,{onAnimationComplete:y}),a.jsx(v1,{onAnimationComplete:y}),a.jsx(y1,{onAnimationComplete:y}),a.jsx(x1,{onAnimationComplete:y}),a.jsx(b1,{}),a.jsx(w1,{})],[y]),d=f.length,p=Q.useCallback(()=>{i>0&&(c("animate-slide-out-right"),setTimeout(()=>{l(S=>S-1),v(!0),c("animate-slide-in-left")},500))},[i]);if(Q.useEffect(()=>{i===0&&v(!0)},[i]),!o)return null;const _=n?"fixed inset-0 bg-secondary flex flex-col justify-between":"bg-secondary shadow-2xl rounded-lg w-full max-w-xl mx-auto flex flex-col";return a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4 animate-fade-in",children:a.jsxs("div",{className:_,children:[a.jsx("div",{className:"p-4 text-right h-12",children:i<d-1&&a.jsx("button",{onClick:r,className:"text-sm text-text-secondary hover:text-text-primary",children:z("common.skip")})}),a.jsx("div",{className:"flex-1 flex flex-col justify-center items-center px-8 overflow-hidden",children:a.jsx("div",{className:`${u} w-full`,children:f[i]})}),a.jsxs("div",{className:"p-8 space-y-4",children:[a.jsx(h1,{step:i,totalSteps:d}),a.jsxs("div",{className:"flex justify-between items-center h-10",children:[i>0&&i<d-1&&a.jsx("button",{onClick:p,className:"px-4 py-2 rounded-md text-text-secondary font-semibold hover:bg-border-color transition-colors",children:z("onboarding.back")}),a.jsx("button",{onClick:i===d-1?r:m,disabled:i<d-2&&!g,className:`px-4 py-2 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover transition-colors disabled:bg-border-color disabled:cursor-not-allowed ${i===0||i===d-1?"ml-auto":""}`,children:i===d-1?z("onboarding.finish.button"):z("onboarding.next")})]})]})]})})},S1=()=>{const[o,r]=Q.useState("loading"),[n,i]=Q.useState(""),[l,u]=Q.useState(""),[c,g]=Q.useState(""),[v,y]=Q.useState(""),[m,f]=Q.useState(!1),d=async w=>{if(w.preventDefault(),c!==v){u("Passwords do not match.");return}if(c.length<12){u("Password must be at least 12 characters long.");return}f(!0),u("");const{error:T}=await _n.auth.updateUser({password:c});f(!1),T?u(T.message):(i("Your password has been successfully updated!"),r("success"),p())},p=Q.useCallback(()=>{dd({particleCount:150,spread:90,origin:{y:.6}})},[]);Q.useEffect(()=>{const w=new URLSearchParams(window.location.hash.split("?")[1]),T=w.get("token"),b=w.get("type");if(!T||!b){u("Invalid verification link. Missing token or type."),r("error");return}(async()=>{const{data:x,error:N}=await _n.auth.verifyOtp({token_hash:T,type:b});N?(u(N.message),r("error")):x.session?b==="recovery"?r("passwordForm"):(i("Your email has been successfully verified!"),r("success"),p()):(u("Verification failed. The link may be invalid or expired."),r("error"))})()},[p]);const _=()=>{window.location.hash="",window.location.reload()},S=()=>{switch(o){case"loading":return a.jsxs(a.Fragment,{children:[a.jsx(iv,{}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mt-4",children:"Verifying..."}),a.jsx("p",{className:"text-text-secondary",children:"Please wait a moment."})]});case"success":return a.jsxs(a.Fragment,{children:[a.jsx(me,{name:"check",className:"h-16 w-16 text-green-500"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mt-4",children:"Success!"}),a.jsx("p",{className:"text-text-secondary",children:n}),a.jsx("button",{onClick:_,className:"mt-6 w-full max-w-xs px-4 py-2 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover",children:"Go to Login"})]});case"error":return a.jsxs(a.Fragment,{children:[a.jsx(me,{name:"close",className:"h-16 w-16 text-red-500"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mt-4",children:"An Error Occurred"}),a.jsx("p",{className:"text-text-secondary bg-primary p-2 rounded-md font-mono text-xs",children:l}),a.jsx("button",{onClick:_,className:"mt-6 w-full max-w-xs px-4 py-2 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover",children:"Back to Login"})]});case"passwordForm":return a.jsxs("div",{className:"w-full",children:[a.jsx(me,{name:"lock",className:"h-12 w-12 text-accent"}),a.jsx("h2",{className:"text-2xl font-bold text-text-primary mt-4 mb-2",children:"Create New Password"}),a.jsx("p",{className:"text-text-secondary mb-6 text-sm",children:"Please enter a new password for your account."}),l&&a.jsx("p",{className:"bg-red-500/10 text-red-500 text-sm text-center p-3 rounded-md mb-4",children:l}),a.jsxs("form",{onSubmit:d,className:"space-y-4 text-left w-full",children:[a.jsx(ov,{type:"password",placeholder:"New Password",value:c,onChange:w=>g(w.target.value),required:!0}),a.jsx(ov,{type:"password",placeholder:"Confirm New Password",value:v,onChange:w=>y(w.target.value),required:!0}),a.jsx("button",{type:"submit",disabled:m,className:"w-full mt-2 px-4 py-3 rounded-md bg-accent text-white font-semibold hover:bg-accent-hover disabled:bg-border-color flex justify-center",children:m?a.jsx(iv,{}):"Update Password"})]})]})}};return a.jsx("div",{className:"fixed inset-0 bg-primary flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-secondary rounded-lg shadow-2xl p-8 text-center animate-fade-in w-full max-w-md flex flex-col items-center",children:S()})})},ov=o=>{const[r,n]=Q.useState(!1),i=o.type==="password",l=i?r?"text":"password":o.type;return a.jsxs("div",{className:"relative",children:[a.jsx("input",{...o,type:l,className:`w-full bg-primary border border-border-color rounded-md py-2.5 px-4 text-text-primary focus:outline-none focus:ring-2 focus:ring-accent ${i?"pr-10":""}`}),i&&a.jsx("button",{type:"button",onClick:()=>n(u=>!u),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-text-secondary hover:text-text-primary focus:outline-none","aria-label":r?"Hide password":"Show password",children:a.jsx(me,{name:r?"eye-slash":"eye",className:"h-5 w-5"})})]})},iv=()=>a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),T1=({isOpen:o,onClose:r,anchorEl:n,notifications:i,onClearAll:l,isMobile:u})=>{const c=Q.useRef(null);if(Q.useEffect(()=>{const y=m=>{c.current&&!c.current.contains(m.target)&&n&&!n.contains(m.target)&&r()};return o&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[o,r,n]),!o)return null;const g={};if(n&&!u){const y=n.getBoundingClientRect();g.position="absolute",g.top=`${y.bottom+8}px`,g.right=`${window.innerWidth-y.right}px`,g.transformOrigin="top right"}const v=u?"fixed inset-x-0 bottom-0 z-50 bg-secondary rounded-t-2xl max-h-[60vh] flex flex-col animate-fade-in-up":"fixed z-50 w-full max-w-sm bg-secondary rounded-lg shadow-2xl border border-border-color flex flex-col max-h-[70vh] animate-pop-in";return a.jsxs("div",{ref:c,className:v,style:g,onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border-color flex-shrink-0",children:[a.jsx("h3",{className:"font-bold text-lg",children:z("notifications.title")}),a.jsxs("div",{className:"flex items-center gap-2",children:[i.length>0&&a.jsx("button",{onClick:l,className:"text-sm text-accent hover:underline",children:z("notifications.clearAll")}),a.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-hide",children:i.length>0?i.map(y=>a.jsx(C1,{notification:y},y.id)):a.jsx("p",{className:"text-center text-text-secondary p-8",children:z("notifications.empty")})})]})},C1=({notification:o})=>{const n={error:{name:"close",color:"text-red-500",bg:"bg-red-500/10"},warning:{name:"bell",color:"text-amber-500",bg:"bg-amber-500/10"},info:{name:"chat",color:"text-blue-500",bg:"bg-blue-500/10"}}[o.type],i=l=>{const u=Math.floor((new Date().getTime()-new Date(l).getTime())/1e3);let c=u/31536e3;return c>1?Math.floor(c)+"y ago":(c=u/2592e3,c>1?Math.floor(c)+"mo ago":(c=u/86400,c>1?Math.floor(c)+"d ago":(c=u/3600,c>1?Math.floor(c)+"h ago":(c=u/60,c>1?Math.floor(c)+"m ago":"Just now"))))};return a.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-primary rounded-lg",children:[a.jsx("div",{className:"w-2 flex-shrink-0 h-full pt-2",children:!o.read&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"})}),a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${n.bg}`,children:a.jsx(me,{name:n.name,className:`h-4 w-4 ${n.color}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-text-primary",children:o.title}),a.jsx("p",{className:"text-sm text-text-secondary",children:o.message}),a.jsx("p",{className:"text-xs text-text-secondary/70 mt-1",children:i(o.timestamp)})]})]})},E1=()=>{const[o,r]=Q.useState(window.location.hash);return Q.useEffect(()=>{const n=()=>r(window.location.hash);return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),Q.useEffect(()=>{document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-contrast","medium"),document.documentElement.style.setProperty("--accent-h","244"),document.documentElement.style.setProperty("--accent-s","79%"),document.documentElement.style.setProperty("--accent-l","58%")},[]),o.startsWith("#/verify")?a.jsx(S1,{}):a.jsx(k1,{})},k1=()=>{const[o,r]=Q.useState(null),[n,i]=Q.useState(!0);return Q.useEffect(()=>{_n.auth.getSession().then(({data:{session:u}})=>{r(u),i(!1)});const{data:{subscription:l}}=_n.auth.onAuthStateChange((u,c)=>{u==="PASSWORD_RECOVERY"?window.location.hash="#/verify?type=recovery":r(c)});return()=>l.unsubscribe()},[]),n?a.jsx("div",{className:"flex items-center justify-center h-screen bg-primary",children:a.jsx(me,{name:"logo",className:"h-16 w-16 text-accent animate-pulse"})}):o?a.jsx(I1,{session:o},o.user.id):a.jsx(P_,{})},N1=()=>{const o=localStorage.getItem("nexus-initial-theme")||"dark";localStorage.getItem("nexus-initial-theme")&&localStorage.removeItem("nexus-initial-theme");const r=localStorage.getItem("nexus-initial-language")||(navigator.language.startsWith("ru")?"ru":"en");return localStorage.getItem("nexus-initial-language")&&localStorage.removeItem("nexus-initial-language"),{theme:o,themeContrast:"medium",accentColor:"#4f46e5",combineLogoAndUIHide:!1,calendar:{showWeekNumbers:!1,showMonthNumber:!1,startOfWeek:1,highlightWeekends:!0,weekendDays:[6,0]},calendarBackground:{type:"none",value:"",dim:50},customBackgrounds:[],chat:{behavior:"overlay"},navigation:{desktopStyle:"header",sideBarLabels:"show",mobileStyle:"bottom_bar",mobileBottomBarHeight:"normal",desktopHeaderItems:["notifications","profile","settings","apps","chat","calendar","dashboard"],mobileBottomBarItems:["dashboard","calendar","apps","chat","notifications"]},language:{appLanguage:r,voiceInputLanguage:r==="ru"?"ru-RU":"en-US"}}},A1=()=>{const o=["notes","calendar","bell","apps","user","cog"];return a.jsxs("div",{className:"fixed inset-0 bg-black/80 z-[1000] flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"relative w-full h-full",children:o.map((r,n)=>{const i=`${Math.random()*80+10}vw`,l=`${Math.random()*80+10}vh`;return a.jsx("div",{className:"absolute text-accent animate-fly-to-trash",style:{top:0,left:0,"--start-x":i,"--start-y":l,animationDelay:`${n*100}ms`},children:a.jsx(me,{name:r,className:"h-12 w-12"})},r)})}),a.jsx(me,{name:"delete",className:"absolute bottom-[-100px] left-1/2 -translate-x-1/2 h-24 w-24 text-red-500/50"})]})},I1=({session:o})=>{const r=o.user.id,[n,i]=Vt(`nexus-chat-history-${r}`,[]),[l,u]=Vt(`nexus-notes-${r}`,[]),[c,g]=Vt(`nexus-events-${r}`,[]),[v,y]=Vt(`nexus-user-profile-${r}`,null),[m,f]=Vt(`nexus-ai-memory-${r}`,{}),[d,p]=Vt(`nexus-saved-apps-${r}`,[]),[_,S]=Vt(`nexus-reminders-${r}`,[]),[w,T]=Vt(`nexus-folder-customization-${r}`,{}),[b,E]=Vt(`nexus-settings-${r}`,N1()),[x,N]=Vt(`nexus-notifications-${r}`,[]);sa(b.language.appLanguage);const[R,P]=Q.useState(!1),[O,U]=Q.useState(!0),[D,M]=Vt(`nexus-input-draft-${r}`,""),[L,j]=Q.useState(!1),[$,H]=Q.useState(!1),[ee,ne]=Q.useState(!1),[re,W]=Q.useState(!1),[A,k]=Q.useState({}),[q,V]=Q.useState(null),[K,J]=Q.useState(null),[B,G]=Q.useState(!1),[Y,X]=Q.useState(!1),[ue,he]=Q.useState(null),[Te,Ce]=Q.useState(null),[ge,De]=Q.useState(null),[He,Fe]=Q.useState(!1),[ae,de]=Q.useState(null),[fe,ve]=Q.useState(!0),[pe,Me]=Q.useState(!1),[Ae,Ue]=Vt(`nexus-chat-pinned-${r}`,!1),[st,rt]=Q.useState(new Date),[Ge,ct]=Q.useState(null),[We,dt]=Q.useState(null),[Kt,Yt]=Q.useState([]),[jr,dr]=Q.useState([]),[Ro,fr]=Q.useState(!1),[Do,Lo]=Q.useState(!1),[on,vn]=Q.useState("initializing"),[sn,Oo]=Q.useState(!1),[Ui,qi]=Q.useState(null),[Fi,jo]=Vt(`nexus-onboarding-complete-${r}`,!1),[Uo,qo]=Q.useState(!Fi),Un=Q.useRef(null),Ur=Q.useRef(null),qn=Q.useRef(Math.max(0,...n.map(se=>se.id))),Fo=Q.useRef(null),{width:hr}=fd(),Qe=hr<768,qr=Q.useCallback(()=>{},[]),{isAvailable:Fr}=Iv(qr,b.language.voiceInputLanguage),Bo=Qe&&b.navigation.mobileStyle==="header"||!Qe&&b.navigation.desktopStyle==="header",Br=!Qe&&b.navigation.desktopStyle!=="header",pr=Qe&&b.navigation.mobileStyle==="bottom_bar";Q.useEffect(()=>{const se=o.user.user_metadata,be={firstName:se.first_name||"",lastName:se.last_name||"",dob:se.dob||"",description:se.description||"",timezone:se.timezone||"",country:se.country||""};JSON.stringify(v)!==JSON.stringify(be)&&y(be)},[o,y,v]),Q.useEffect(()=>{sa(b.language.appLanguage)},[b.language.appLanguage]);const Sn=se=>{if(!se||!/^#([A-Fa-f0-9]{3}){1,2}$/.test(se))return null;let be=se.substring(1).split("");be.length===3&&(be=[be[0],be[0],be[1],be[1],be[2],be[2]]);const _e=parseInt(be.slice(0,2).join(""),16)/255,$e=parseInt(be.slice(2,4).join(""),16)/255,Ve=parseInt(be.slice(4,6).join(""),16)/255,Ee=Math.max(_e,$e,Ve),Le=Math.min(_e,$e,Ve);let Je=0,tt=0,qe=(Ee+Le)/2;if(Ee!==Le){const nt=Ee-Le;switch(tt=qe>.5?nt/(2-Ee-Le):nt/(Ee+Le),Ee){case _e:Je=($e-Ve)/nt+($e<Ve?6:0);break;case $e:Je=(Ve-_e)/nt+2;break;case Ve:Je=(_e-$e)/nt+4;break}Je/=6}return{h:Math.round(Je*360),s:`${(tt*100).toFixed(1)}%`,l:`${(qe*100).toFixed(1)}%`}};Q.useEffect(()=>{const se=document.documentElement;se.setAttribute("data-theme",b.theme),se.setAttribute("data-contrast",b.themeContrast);const be=Sn(b.accentColor);be&&(se.style.setProperty("--accent-h",be.h.toString()),se.style.setProperty("--accent-s",be.s),se.style.setProperty("--accent-l",be.l))},[b.theme,b.themeContrast,b.accentColor]),Q.useEffect(()=>{Qe&&Ue(!1)},[Qe,Ue]);const $o=()=>{setTimeout(()=>{const se=document.activeElement,be=document.getElementById("main-input-bar");Fo.current&&!Fo.current.contains(se)&&!(be!=null&&be.contains(se))&&Me(!1)},150)},vt=Q.useCallback((se,be)=>{qn.current+=1;const _e={id:qn.current,sender:se,content:be,timestamp:new Date().toISOString()};return i($e=>[...$e,_e]),_e},[i]);Q.useEffect(()=>{(()=>{{vn("error");return}})()},[]);const $r=Q.useCallback(se=>{N(be=>be.some(Ve=>Ve.title===se.title)?be:[{...se,id:`notif_${Date.now()}_${Math.random()}`,timestamp:new Date().toISOString(),read:!1},...be])},[N]);Q.useEffect(()=>{on==="error"&&$r({type:"error",title:z("system.notification.aiError.title"),message:z("system.notification.aiError.message")})},[on,$r]),Q.useEffect(()=>{Fr||$r({type:"warning",title:z("system.notification.speechError.title"),message:z("system.notification.speechError.message")})},[Fr,$r]);const Vo=Q.useCallback(()=>{i([]),on!=="error"&&vn("error"),vt("system",z("chat.error.init"))},[vt,i,on,vn]);Q.useEffect(()=>{const se=setInterval(()=>{const be=new Date;_.forEach(_e=>{if(!_e.isCompleted&&new Date(_e.datetime)<=be){if(n.find(Ee=>Ee.sender==="system"&&typeof Ee.content=="string"&&Ee.content.includes(_e.title)))return;const Ve=z("chat.reminderNotification",{title:_e.title});vt("system",Ve),Notification.permission==="granted"&&new Notification("Nexus AI Reminder",{body:_e.title,icon:"/vite.svg"})}})},15e3);return()=>clearInterval(se)},[_,S,vt,n]);const Vr=Q.useCallback(se=>{const be=d.find(Ve=>Ve.id===se);if(!be){vt("system",z("chat.appLaunchError",{appId:se}));return}if(Kt.some(Ve=>Ve.id===se)){Yt(Ve=>Ve.map(Ee=>Ee.id===se?{...Ee,isMinimized:!1}:Ee));return}const $e={...be,position:{x:Math.random()*200+50,y:Math.random()*200+50},size:{width:500,height:400},zIndex:(Math.max(0,...Kt.map(Ve=>Ve.zIndex))||10)+1,isMinimized:!1};Yt(Ve=>[...Ve,$e])},[d,Kt,vt]),zr=(se,be)=>{const _e={command:se.command,payload:se.payload,status:"success"};try{switch(se.command){case"PLAIN_RESPONSE":return vt("ai",se.payload.text),{..._e,message:`Responded: "${se.payload.text.substring(0,50)}..."`};case"CREATE_NOTE":{const Ee={id:`note_${Date.now()}_${be}`,title:se.payload.title,content:se.payload.content,folder:se.payload.folder||"Uncategorized",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return u(Le=>[...Le,Ee]),G(!0),he(Ee.id),Fe(!1),{..._e,message:`Note "${Ee.title}" created.`}}case"UPDATE_NOTE":{const{id:Ee,title:Le,content:Je,append_content:tt}=se.payload;if(!l.find(zt=>zt.id===Ee))return{..._e,status:"error",message:`Note with id ${Ee} not found.`};let nt="";return u(zt=>zt.map(an=>{if(an.id===Ee){const yr=tt?`${an.content}

<p>${tt}</p>`:Je,Tn={...an,title:Le||an.title,content:yr??an.content,updatedAt:new Date().toISOString()};return tt?nt=`Appended content to "${Tn.title}".`:Je?nt=`Content of "${Tn.title}" was replaced.`:Le?nt=`Note title updated to "${Tn.title}".`:nt=`Note "${Tn.title}" updated.`,vt("system_note_update",{noteId:Tn.id,noteTitle:Tn.title,summary:nt}),Tn}return an})),{..._e,message:nt||`Note with id ${Ee} not found.`}}case"READ_NOTES":return G(!0),he(null),De(null),{..._e,message:"Opened notes dashboard."};case"UPDATE_MEMORY":return f(Ee=>({...Ee,[se.payload.key]:se.payload.value})),{..._e,message:`Remembered: ${se.payload.key}.`};case"ASK_USER":return V({question:se.payload.question,actions:se.payload.actions}),{..._e,message:`Asking user: "${se.payload.question}"`};case"OPEN_LINK":return window.open(se.payload.url,"_blank"),{..._e,message:`Opening link: ${se.payload.url}`};case"SET_TIMER":{const Ee={id:Date.now(),duration:se.payload.durationSeconds,remaining:se.payload.durationSeconds,label:se.payload.label||"Timer"};return dr(Le=>[...Le,Ee]),{..._e,message:`Timer "${Ee.label}" set for ${se.payload.durationSeconds}s.`}}case"SET_REMINDER":{const Ee={id:`reminder_${Date.now()}_${be}`,title:se.payload.title,description:se.payload.description||"",datetime:se.payload.datetime,color:se.payload.color||"#4f46e5",isCompleted:!1,createdAt:new Date().toISOString()};return S(Le=>[...Le,Ee]),{..._e,message:`Reminder set: "${se.payload.title}".`}}case"UPDATE_REMINDER":{const{id:Ee,...Le}=se.payload,Je=_.find(tt=>tt.id===Ee);return Je?(S(tt=>tt.map(qe=>qe.id===Ee?{...qe,...Le,updatedAt:new Date().toISOString()}:qe)),{..._e,message:`Reminder "${Le.title||Je.title}" updated.`}):{..._e,status:"error",message:`Reminder with id ${Ee} not found.`}}case"DELETE_REMINDER":{const Ee=_.find(Le=>Le.id===se.payload.id);return Ee?(S(Le=>Le.filter(Je=>Je.id!==se.payload.id)),{..._e,message:`Reminder "${Ee.title}" deleted.`}):{..._e,status:"error",message:`Reminder with id ${se.payload.id} not found.`}}case"CREATE_EVENT":{const Ee={id:`event_${Date.now()}_${be}`,title:se.payload.title,description:se.payload.description||"",start:se.payload.start,end:se.payload.end,isAllDay:se.payload.isAllDay||!1,color:se.payload.color||"#10b981",createdAt:new Date().toISOString()};return g(Le=>[...Le,Ee]),{..._e,message:`Event created: "${Ee.title}".`}}case"UPDATE_EVENT":{const{id:Ee,...Le}=se.payload,Je=c.find(tt=>tt.id===Ee);return Je?(g(tt=>tt.map(qe=>qe.id===Ee?{...qe,...Le,updatedAt:new Date().toISOString()}:qe)),{..._e,message:`Event "${Le.title||Je.title}" updated.`}):{..._e,status:"error",message:`Event with id ${Ee} not found.`}}case"DELETE_EVENT":{const Ee=c.find(Le=>Le.id===se.payload.id);return Ee?(g(Le=>Le.filter(Je=>Je.id!==se.payload.id)),{..._e,message:`Event "${Ee.title}" deleted.`}):{..._e,status:"error",message:`Event with id ${se.payload.id} not found.`}}case"SUMMARIZE_SCHEDULE":return vt("ai","Let me get that schedule for you..."),{..._e,message:"Summarized user's schedule."};case"EXECUTE_SCRIPT":{const Ee={id:`app_${Date.now()}_${be}`,title:se.payload.title,...se.payload};return p(Le=>[...Le,Ee]),Vr(Ee.id),{..._e,message:`Launched new app: "${Ee.title}".`}}case"UPDATE_SCRIPT":{const{id:Ee,...Le}=se.payload;let Je="App";return p(tt=>tt.map(qe=>qe.id===Ee?(Je=Le.title||qe.title,{...qe,...Le,title:Je}):qe)),Yt(tt=>tt.map(qe=>qe.id===Ee?(Je=Le.title||qe.title,{...qe,...Le,title:Je}):qe)),{..._e,message:`Application "${Je}" updated.`}}case"RESET_CONTEXT":return i(Ee=>Ee.filter(Le=>Le.sender==="system")),{..._e,message:"Conversation context has been reset."};default:const $e=se,Ve=$e==null?void 0:$e.command;return{command:Ve||"UNKNOWN",payload:{},status:"error",message:`Unknown command received: ${Ve}`}}}catch($e){return console.error(`Error executing command ${se.command}:`,$e),{..._e,status:"error",message:`Execution failed: ${$e.message}`}}},Fn=Q.useCallback(async se=>{if(!se.trim())return;if(on!=="ready"||!Un.current){vt("system",z("chat.error.init"));return}P(!0);const be=performance.now();vt("user",se),M("");let _e="";const $e=/(?:in|my|the|to|from|on|of) ['"](.+?)['"](?: note| list)?/i,Ve=se.match($e);if(Ve&&Ve[1]){const Ee=Ve[1].toLowerCase(),Le=l.find(Je=>Je.title.toLowerCase()===Ee);Le&&(_e=`
## CONTEXTUAL NOTE CONTENT:
- Title: ${Le.title}
- ID: ${Le.id}
- Content:
---
${Le.content}
---
`)}try{const Le=`${`
            ## CURRENT STATE:
            - User Profile: ${JSON.stringify(v)}
            - AI Memory: ${JSON.stringify(m)}
            - Notes: ${JSON.stringify(l.map(qe=>({id:qe.id,title:qe.title,folder:qe.folder})))}
            - Events: ${JSON.stringify(c.map(qe=>({id:qe.id,title:qe.title,start:qe.start,end:qe.end})))}
            - Reminders: ${JSON.stringify(_.map(qe=>({id:qe.id,title:qe.title,datetime:qe.datetime,isCompleted:qe.isCompleted})))}
            - Saved Apps: ${JSON.stringify(d.map(qe=>({id:qe.id,title:qe.title})))}
            - Current Datetime: ${new Date().toISOString()}
            `}
${_e}

## USER PROMPT:
"${se}"`,Je=await Ub(Un.current,Le),tt=JSON.parse(Je);if(tt.commands&&Array.isArray(tt.commands)){const qe=[];tt.commands.sort((nt,zt)=>nt.command==="UPDATE_MEMORY"?-1:zt.command==="UPDATE_MEMORY"?1:0);for(const[nt,zt]of tt.commands.entries()){if(zt.command==="SUMMARIZE_SCHEDULE"){zr(zt,nt),qe.push({command:zt.command,payload:zt.payload,status:"success",message:"Summarized schedule."});continue}const an=zr(zt,nt);qe.push(an)}if(qe.length>0){const nt=performance.now();vt("system-command-group",{results:qe,executionTime:Math.round(nt-be)})}}else vt("ai",z("chat.error.badResponse")),console.error("Invalid command structure from AI:",tt)}catch(Ee){console.error("Error processing user input:",Ee),vt("system",z("chat.error.generic"))}finally{P(!1)}},[vt,v,m,l,d,_,c,Vr,u,f,dr,S,g,p,M,zr,on]),ga=se=>{V(null),Fn(`I have chosen: ${se}`)},Bi=se=>{dr(be=>be.filter(_e=>_e.id!==se))},ft=se=>{vt("system",z("chat.timerFinished",{label:se.label})),Bi(se.id)},zo=se=>{l.find(_e=>_e.id===se)&&(yt(),G(!0),he(se),Fe(!1))},Ho=()=>{de(null),ct(null),De(null),G(!0),he("new"),Fe(!0)},$i=se=>{const be={...se,id:`note_${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};u(_e=>[..._e,be]),he(be.id),Fe(!1)},Hr=se=>{u(be=>be.map(_e=>_e.id===se.id?{...se,updatedAt:new Date().toISOString()}:_e)),Fe(!1)},Go=(se,be,_e)=>{J({type:se,id:be,name:_e})},Vi=()=>{J(null)},Gr=()=>{if(!K)return;const{type:se,id:be}=K,_e=$e=>{ue===$e&&he(null),ge===$e&&De(null),ae&&typeof ae.item=="object"&&"id"in ae.item&&ae.item.id===$e&&de(null)};switch(se){case"note":u($e=>$e.filter(Ve=>Ve.id!==be));break;case"event":g($e=>$e.filter(Ve=>Ve.id!==be));break;case"reminder":S($e=>$e.filter(Ve=>Ve.id!==be));break;case"app":p($e=>$e.filter(Ve=>Ve.id!==be));break}_e(be),J(null)},Qt=se=>{const be=l.find(_e=>_e.id===se);be&&Go("note",se,be.title)},va=(se,be)=>{!be||se===be||u(_e=>_e.map($e=>$e.folder===se?{...$e,folder:be}:$e))},yt=()=>{de(null),ct(null),De(null),he(null),Ce(null)},ya=se=>{X(B),yt(),ct(se),G(!0)},xa=se=>{yt(),De(se.id),G(!0)},ba=()=>{G(!1),setTimeout(()=>{yt()},300)},Wr=(se,be)=>{ae&&ae.type==="event"?de(_e=>{if(!_e||_e.type!=="event"||typeof _e.item!="object")return _e;const $e={..._e.item,start:se.toISOString(),end:be.toISOString()};return{..._e,item:$e}}):(yt(),de({type:"event",item:{start:se.toISOString(),end:be.toISOString()},mode:Qe?"sheet":"full"}),G(!0))},mr=(se,be)=>{yt(),de({type:se,item:se==="event"?{start:be.toISOString(),end:new Date(be.getTime()+3600*1e3).toISOString()}:{datetime:be.toISOString()},mode:"full"}),G(!0)},gr=se=>{yt(),de({type:"start"in se?"event":"reminder",item:se,mode:"full"}),G(!0)},Bn=se=>{switch(se){case"dashboard":return B;case"calendar":return fe;case"apps":return ee;case"chat":return pe||Ae;case"notifications":return sn;case"profile":return L;case"settings":return $;default:return!1}},Wo=Q.useMemo(()=>x.filter(se=>!se.read).length,[x]);Q.useEffect(()=>{if(sn){const se=setTimeout(()=>{N(be=>be.map(_e=>({..._e,read:!0})))},1e3);return()=>clearTimeout(se)}},[sn,N]);const Jo=se=>{Ur.current=se.currentTarget,W(be=>{const _e=!be;if(_e){const Ve=se.currentTarget.getBoundingClientRect();if(Qe)k({});else if(Br){const Ee=b.navigation.desktopStyle==="side_bar_left";k({position:"absolute",bottom:`${window.innerHeight-Ve.top}px`,left:Ee?`${Ve.right+8}px`:"auto",right:Ee?"auto":`${window.innerWidth-Ve.left+8}px`,transformOrigin:`bottom ${Ee?"left":"right"}`})}else k({position:"absolute",top:`${Ve.bottom+8}px`,right:`${window.innerWidth-Ve.right}px`,transformOrigin:"top right"})}return _e})},$n=(se,be)=>{switch(se!=="notifications"&&W(!1),se){case"dashboard":G(_e=>!_e),B&&yt();break;case"profile":j(!0);break;case"settings":H(!0);break;case"apps":ne(!0);break;case"calendar":ve(_e=>!_e);break;case"chat":Qe||b.chat.behavior==="header_button"?Me(_e=>!_e):Ue(_e=>!_e);break;case"notifications":{W(!1);const _e=be?be.currentTarget:Ur.current;_e&&(qi(_e),Oo($e=>!$e));break}}},Vn=Q.useMemo(()=>(Qe&&b.navigation.mobileStyle==="bottom_bar"?b.navigation.mobileBottomBarItems:b.navigation.desktopHeaderItems).map(be=>Ri.find(_e=>_e.id===be)).filter(be=>!!be),[Qe,b.navigation]),zn=Q.useMemo(()=>{const se=new Set(Vn.map(be=>be.id));return Ri.filter(be=>!se.has(be.id))},[Vn]),vr=Q.useMemo(()=>{let se="";if(Bo&&(se+=" pt-16"),Br&&b.navigation.desktopStyle&&b.navigation.sideBarLabels){const be=b.navigation.sideBarLabels==="show"?"pl-44":"pl-20";se+=b.navigation.desktopStyle==="side_bar_left"?` ${be}`:" pr-20"}if(pr){const be=b.navigation.mobileBottomBarHeight==="compact"?"pb-16":"pb-20";se+=` ${be}`}return se},[Bo,Br,pr,b.navigation]),wa=Q.useMemo(()=>!Qe||!pr?"0rem":b.navigation.mobileBottomBarHeight==="compact"?"4rem":"5rem",[Qe,pr,b.navigation.mobileBottomBarHeight]),Ko=pe?"0":wa,et=()=>{v!=null&&v.firstName&&vt("ai",z("onboarding.welcomeMessage",{name:v.firstName})),jo(!0),qo(!1)},zi=()=>{jo(!1),qo(!0),H(!1)},Hi=()=>{H(!1),fr(!0)},Yo=async()=>{fr(!1),Lo(!0),await new Promise(be=>setTimeout(be,2e3)),Object.keys(localStorage).filter(be=>be.startsWith("nexus-")&&be.includes(r)).forEach(be=>localStorage.removeItem(be)),await _n.auth.signOut(),window.location.reload()};return a.jsxs("div",{className:"flex flex-col h-screen bg-primary text-text-primary font-sans overflow-hidden",children:[Do&&a.jsx(A1,{}),a.jsx(_1,{isOpen:Uo,onFinish:et,isMobile:Qe}),a.jsx(B_,{apps:Kt,setApps:Yt,isMobile:Qe}),Bo&&a.jsx(Bb,{onToggleUI:()=>U(se=>!se),onClearScript:()=>Yt([]),isScriptActive:Kt.length>0,userName:v==null?void 0:v.firstName,settings:b,onNavAction:$n,items:Vn,hiddenItemCount:zn.length,onMoreClick:Jo,getIsActive:Bn,unreadNotificationsCount:Wo,isMobile:Qe}),Br&&a.jsx(f1,{items:Vn,hiddenItemCount:zn.length,onItemClick:$n,onMoreClick:Jo,settings:b,getIsActive:Bn,onLogoClick:()=>U(se=>!se),unreadNotificationsCount:Wo}),a.jsxs("main",{className:`flex-1 flex overflow-hidden transition-all duration-300 ${O?"opacity-100":"opacity-0"} ${vr}`,children:[a.jsx("div",{className:"fixed top-20 right-4 z-10 space-y-2",children:jr.map(se=>a.jsx(A_,{timer:se,onDelete:Bi,onFinish:ft},se.id))}),a.jsxs("div",{className:"flex-1 flex",children:[Ae&&!Qe&&a.jsx(Q_,{messages:n,isLoading:R,onSendMessage:Fn,onNoteClick:zo,onClose:()=>Ue(!1),onClearChat:Vo,voiceInputLanguage:b.language.voiceInputLanguage,inputDraft:D,setInputDraft:M}),a.jsxs("div",{className:"flex-1 flex flex-col relative",children:[a.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[fe&&a.jsx(Y_,{currentDate:st,setCurrentDate:rt,events:c,reminders:_,onDayClick:ya,onItemClick:xa,onDateRangeSelect:Wr,onNewItemRequest:mr,dateFilter:Ge,highlightedRange:We,settings:b,isMobile:Qe}),pe&&!Ae&&a.jsx("div",{className:`bg-primary/70 backdrop-blur-sm z-40 flex flex-col items-center justify-end animate-fade-in ${Qe?"fixed inset-0":"absolute inset-0"}`,ref:Fo,onClick:()=>Me(!1),children:a.jsxs("div",{className:"relative flex flex-col h-full w-full max-w-3xl mx-auto",onClick:se=>se.stopPropagation(),children:[a.jsxs("div",{className:"p-2 flex justify-end items-center gap-2",children:[a.jsx("button",{onClick:Vo,className:"px-3 py-1 text-sm rounded-md bg-secondary/70 hover:bg-border-color",children:z("chat.clear")}),!Qe&&a.jsx("button",{onClick:()=>{Ue(!0),Me(!1)},className:"px-3 py-1 text-sm rounded-md bg-secondary/70 hover:bg-border-color",children:z("chat.pin")}),a.jsx("button",{onClick:()=>Me(!1),className:"p-2 rounded-full bg-secondary/70 hover:bg-border-color",children:a.jsx(me,{name:"close",className:"h-5 w-5"})})]}),a.jsx("div",{className:`flex-1 overflow-y-auto p-4 md:p-6 ${b.chat.behavior==="overlay"&&!Qe?"":"pb-20 md:pb-6"}`,children:a.jsx(Av,{messages:n,isLoading:R,onNoteClick:zo})}),(b.chat.behavior==="header_button"||Qe)&&a.jsx("footer",{className:"p-2 bg-secondary border-t border-border-color flex-shrink-0",children:a.jsx(na,{onSendMessage:Fn,isLoading:R,voiceInputLanguage:b.language.voiceInputLanguage,inputDraft:D,setInputDraft:M})})]})})]}),!Ae&&b.chat.behavior==="overlay"&&!Qe&&a.jsx("footer",{id:"main-input-bar",className:"p-4 bg-primary border-t border-border-color z-20 flex-shrink-0",children:a.jsx(na,{onSendMessage:Fn,isLoading:R,onFocus:()=>Me(!0),onBlur:$o,voiceInputLanguage:b.language.voiceInputLanguage,inputDraft:D,setInputDraft:M})})]}),a.jsx(T_,{isOpen:B,isMobile:Qe,onClose:ba,notes:l,reminders:_,setReminders:S,events:c,setEvents:g,folderCustomization:w,setFolderCustomization:T,settings:b,setSettings:E,activeNoteId:ue,setActiveNoteId:he,activeFolder:Te,setActiveFolder:Ce,activeItemId:ge,setActiveItemId:De,editingItem:ae,setEditingItem:de,startEditing:He,onNewNote:Ho,onCreateNote:$i,onUpdateNote:Hr,onDeleteNote:Qt,onRequestDeleteItem:Go,onRenameFolder:va,panelWasOpenBeforeFilter:Y,dateFilter:Ge,setDateFilter:ct,onOpenNote:zo,onEditItem:gr,onNewItemRequest:mr,setHighlightedRange:dt})]})]}),Qe&&b.chat.behavior==="overlay"&&a.jsx("footer",{id:"main-input-bar",className:"fixed left-0 right-0 p-2 bg-primary border-t border-border-color z-50 transition-all duration-300 ease-in-out",style:{bottom:Ko,opacity:B||ae&&ae.mode==="full"?0:1,pointerEvents:B||ae&&ae.mode==="full"?"none":"auto"},children:a.jsx(na,{onSendMessage:Fn,isLoading:R,onFocus:()=>Me(!0),onBlur:$o,voiceInputLanguage:b.language.voiceInputLanguage,inputDraft:D,setInputDraft:M})}),pr&&a.jsx(c1,{items:Vn,hiddenItemCount:zn.length,onItemClick:$n,onMoreClick:Jo,settings:b,getIsActive:Bn,unreadNotificationsCount:Wo}),a.jsx(d1,{isOpen:re,onClose:()=>W(!1),items:zn,onItemClick:$n,isMobile:Qe,style:A}),a.jsx(C_,{isOpen:L,isMobile:Qe,onClose:()=>j(!1),profile:v,setProfile:y,memory:m,setMemory:f}),a.jsx(u1,{isOpen:$,onClose:()=>H(!1),settings:b,setSettings:E,onRestartOnboarding:zi,onDeleteAllData:Hi,dataCounts:{notes:l.length,events:c.length,reminders:_.length}}),a.jsx(q_,{isOpen:ee,isMobile:Qe,onClose:()=>ne(!1),apps:d,onDeleteApp:se=>Go("app",se.id,se.title),setApps:p,onLaunchApp:Vr}),q&&a.jsx(E_,{question:q.question,actions:q.actions,onClose:()=>V(null),onConfirm:ga}),a.jsx(T1,{isOpen:sn,onClose:()=>Oo(!1),anchorEl:Ui,notifications:x,onClearAll:()=>N([]),isMobile:Qe}),a.jsx(k_,{isOpen:!!K,itemType:(K==null?void 0:K.type)||"",itemName:(K==null?void 0:K.name)||"",onConfirm:Gr,onCancel:Vi}),a.jsx(N_,{isOpen:Ro,onConfirm:Yo,onCancel:()=>fr(!1),counts:{notes:l.length,events:c.length,reminders:_.length}})]})},Hv=document.getElementById("root");if(!Hv)throw new Error("Could not find root element to mount to");const M1=P0.createRoot(Hv);M1.render(a.jsx(sv.StrictMode,{children:a.jsx(E1,{})}))});export default P1();
